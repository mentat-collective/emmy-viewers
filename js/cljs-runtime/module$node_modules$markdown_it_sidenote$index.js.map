{
"version":3,
"file":"module$node_modules$markdown_it_sidenote$index.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/markdown-it-sidenote/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$markdown_it_sidenote$index\"] = function(global,require,module,exports) {\n'use strict';\n\n// these turn tokens into HTML, and are meant to be overriden\n\nfunction render_footnote_anchor_name(tokens, idx, options, env/*, slf*/) {\n  var n = Number(tokens[idx].meta.id + 1).toString();\n  var prefix = '';\n\n  if (typeof env.docId === 'string') {\n    prefix = '-' + env.docId + '-';\n  }\n\n  return prefix + n;\n}\n\nfunction render_sidenote_ref(tokens, idx, options, env, slf) {\n  var id      = slf.rules.footnote_anchor_name(tokens, idx, options, env, slf);\n\n  return '<label for=\"fntoggle'+id+'\" class=\"sidenote-number\" role=\"doc-noteref\" id=\"fnref:'+id+'\" aria-describedby=\"fn:'+id+'\">' +\n    '</label>' +\n    '<input type=\"checkbox\" class=\"sidenote-trigger\" id=\"fntoggle'+id+'\" style=\"display:none;\">';\n}\n\nfunction render_sidenote_open(tokens, idx, options, env, slf) {\n  var id      = slf.rules.footnote_anchor_name(tokens, idx, options, env, slf);\n  return '<label for=\"fntoggle'+id+'\" role=\"doc-footnote\">' +\n    '<span class=\"sidenote\" id=\"fn:'+id+'\">';\n}\n\nfunction render_sidenote_close(tokens, idx, options, env, slf) {\n  return '</span>' +\n    '</label>';\n}\n\n\n// functions within this module turn Markdown into tokens\nmodule.exports = function sidenote_plugin(md) {\n  var parseLinkLabel = md.helpers.parseLinkLabel,\n      isSpace = md.utils.isSpace;\n\n  md.renderer.rules.sidenote_ref          = render_sidenote_ref;\n  md.renderer.rules.sidenote_open         = render_sidenote_open;\n  md.renderer.rules.sidenote_close        = render_sidenote_close;\n\n  // helpers (only used in other rules, no tokens are attached to those)\n  // md.renderer.rules.footnote_caption      = render_footnote_caption;\n  md.renderer.rules.footnote_anchor_name  = render_footnote_anchor_name;\n\n  // Process footnote block definition \"[^label]: content\"\n  function sidenote_def(state, startLine, endLine, silent) {\n    var oldBMark, oldTShift, oldSCount, oldParentType, pos, label, token,\n        initial, offset, ch, posAfterColon,\n        start = state.bMarks[startLine] + state.tShift[startLine],\n        max = state.eMarks[startLine];\n\n    // line should be at least 5 chars - \"[^x]:\"\n    if (start + 4 > max) { return false; }\n\n    // Match [^\n    if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n    if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n\n    // advance cursor to end of the label\n    for (pos = start + 2; pos < max; pos++) {\n      if (state.src.charCodeAt(pos) === 0x20) { return false; }\n      if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n        break;\n      }\n    }\n\n    // empty?\n    if (pos === start + 2) { return false; } // no empty footnote labels\n    if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n\n    if (silent) { return true; }\n    pos++;\n\n    // create a library\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    // ...with a list of references\n    if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n    // ...and content\n    if (!state.env.footnotes.contents) { state.env.footnotes.contents = {}; }\n    // grab the label\n    label = state.src.slice(start + 2, pos - 2);\n    // use ':{label}' as a key\n    state.env.footnotes.refs[':' + label] = -1;\n\n    // add reference tokens to state\n    token       = new state.Token('sidenote_def_open', '', 1);\n    token.meta  = { label: label };\n    token.level = state.level++;\n    state.tokens.push(token);\n\n    oldBMark = state.bMarks[startLine];\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n    oldParentType = state.parentType;\n\n    posAfterColon = pos;\n    initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    // consume space between label and content\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    state.tShift[startLine] = pos - posAfterColon;\n    state.sCount[startLine] = offset - initial;\n\n    state.bMarks[startLine] = posAfterColon;\n    state.blkIndent += 4;\n    state.parentType = 'sidenote';\n\n    if (state.sCount[startLine] < state.blkIndent) {\n      state.sCount[startLine] += state.blkIndent;\n    }\n\n    // TODO: consume these lines to remove them from tokens\n    // not tokenizing leads to a loop, probably because this is how we advance the cursor\n\n    state.md.block.tokenize(state, startLine, endLine, true);\n\n    // grab the raw content and store it for sidenote_ref\n    var content = state.getLines(startLine, state.line, state.blkIndent, false);\n    state.env.footnotes.contents[':' + label] = content;\n\n    state.parentType = oldParentType;\n    state.blkIndent -= 4;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.bMarks[startLine] = oldBMark;\n\n    token       = new state.Token('sidenote_def_close', '', -1);\n    token.level = --state.level;\n    state.tokens.push(token);\n\n    return true;\n  }\n\n  ////////////// TODO\n  // Process inline footnotes (^[...])\n  function sidenote_inline(state, silent) {\n    var labelStart,\n        labelEnd,\n        footnoteId,\n        token,\n        tokens,\n        max = state.posMax,\n        start = state.pos;\n\n    if (start + 2 >= max) { return false; }\n    if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n    if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n\n    labelStart = start + 2;\n    labelEnd = parseLinkLabel(state, start + 1);\n\n    // parser failed to find ']', so it's not a valid note\n    if (labelEnd < 0) { return false; }\n\n    // We found the end of the link, and know for a fact it's a valid link;\n    // so all that's left to do is to call tokenizer.\n    //\n    if (!silent) {\n      if (!state.env.footnotes) { state.env.footnotes = {}; }\n      if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n      footnoteId = state.env.footnotes.list.length;\n\n      state.md.inline.parse(\n        state.src.slice(labelStart, labelEnd),\n        state.md,\n        state.env,\n        tokens = []\n      );\n\n      token      = state.push('footnote_ref', '', 0);\n      token.meta = { id: footnoteId };\n\n      state.env.footnotes.list[footnoteId] = { tokens: tokens };\n    }\n\n    state.pos = labelEnd + 1;\n    state.posMax = max;\n    return true;\n  }\n\n  // Process references ([^...])\n  function sidenote_ref(state, silent) {\n    var label,\n        pos,\n        footnoteId,\n        footnoteTokens,\n        footnoteSubId,\n        token,\n        max = state.posMax,\n        start = state.pos;\n\n    // should be at least 4 chars - \"[^x]\"\n    if (start + 3 > max) { return false; }\n\n    if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n    if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n    if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n\n    for (pos = start + 2; pos < max; pos++) {\n      if (state.src.charCodeAt(pos) === 0x20) { return false; }\n      if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n      if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n        break;\n      }\n    }\n\n    if (pos === start + 2) { return false; } // no empty labels\n    if (pos >= max) { return false; }\n    pos++;\n\n    label = state.src.slice(start + 2, pos - 1);\n    if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n    if (!silent) {\n      if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n      if (state.env.footnotes.refs[':' + label] < 0) {\n        footnoteId = state.env.footnotes.list.length;\n        state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n        state.env.footnotes.refs[':' + label] = footnoteId;\n      } else {\n        footnoteId = state.env.footnotes.refs[':' + label];\n      }\n\n      footnoteSubId = state.env.footnotes.list[footnoteId].count;\n      state.env.footnotes.list[footnoteId].count++;\n\n      token      = state.push('sidenote_ref', '', 0);\n      token.meta = { id: footnoteId, subId: footnoteSubId, label: label, footnoteTokens: footnoteTokens };\n\n      token      = state.push('sidenote_open', '', 0);\n      token.meta = { id: footnoteId, subId: footnoteSubId, label: label, footnoteTokens: footnoteTokens };\n\n      // parse contents from the library and push into token stream\n      var content = state.env.footnotes.contents[':' + label]\n      if (content) {\n        state.md.inline.parse(\n          content,\n          state.md,\n          state.env,\n          state.tokens\n        );\n      } else {\n        console.log('No content for sidenote [^'+label+']');\n      }\n\n      // state.push(state.env.footnotes.tokens[':' + label]);\n\n      token      = state.push('sidenote_close', '', 0);\n    }\n\n    state.pos = pos;\n    state.posMax = max;\n    return true;\n  }\n\n  // Remove reference definition tokens\n  function sidenote_def_clean(state) {\n    var tokens, current, currentLabel,\n        insideRef = false,\n        refTokens = {};\n\n    if (!state.env.footnotes) { return; }\n\n    state.tokens = state.tokens.filter(function (tok) {\n      if (tok.type === 'sidenote_def_open') {\n        insideRef = true;\n        current = [];\n        currentLabel = tok.meta.label;\n        return false;\n      }\n      if (tok.type === 'sidenote_def_close') {\n        insideRef = false;\n\n        //// this seems like a good time to store tokens, doesn't it?\n        // if (!state.env.footnotes.tokens) { state.env.footnotes.tokens = {}; }\n        // state.env.footnotes.tokens[':' + currentLabel] = current;\n\n        return false;\n      }\n      if (insideRef) { current.push(tok); }\n      return !insideRef;\n    });\n\n    if (!state.env.footnotes.list) { return; }\n    list = state.env.footnotes.list;\n  }\n\n  md.block.ruler.before('reference', 'sidenote_def', sidenote_def, { alt: [ 'paragraph', 'reference' ] });\n  md.core.ruler.before('inline', 'sidenote_def_clean', sidenote_def_clean);\n  md.inline.ruler.after('image', 'sidenote_inline', sidenote_inline);\n  md.inline.ruler.after('sidenote_inline', 'sidenote_ref', sidenote_ref);\n};\n\n};"],
"names":["shadow$provide","global","require","module","exports","render_footnote_anchor_name","tokens","idx","options","env","n","Number","meta","id","toString","prefix","docId","render_sidenote_ref","slf","rules","footnote_anchor_name","render_sidenote_open","render_sidenote_close","module.exports","md","parseLinkLabel","helpers","isSpace","utils","renderer","sidenote_ref","sidenote_open","sidenote_close","block","ruler","before","sidenote_def","state","startLine","endLine","silent","pos","initial","offset","start","bMarks","tShift","max","eMarks","src","charCodeAt","footnotes","refs","contents","label","slice","token","Token","level","push","oldBMark","oldTShift","oldSCount","sCount","oldParentType","parentType","posAfterColon","ch","blkIndent","tokenize","content","getLines","line","alt","core","sidenote_def_clean","current","insideRef","filter","tok","type","list","inline","after","sidenote_inline","posMax","labelStart","labelEnd","footnoteId","length","parse","count","footnoteSubId","subId","footnoteTokens","console","log"]
}

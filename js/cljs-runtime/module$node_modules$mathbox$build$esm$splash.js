shadow$provide.module$node_modules$mathbox$build$esm$splash=function(global,require,module,exports){require("module$node_modules$threestrap$src$bootstrap").Bootstrap.registerPlugin("splash",{defaults:{color:"mono",fancy:!0},listen:["ready","mathbox/init:init","mathbox/progress:progress","mathbox/destroy:destroy"],uninstall(){return this.destroy()},ready(event,three){if(three.MathBox&&!this.div)return this.init(event,three)},init(event,three){this.destroy();({color:event}=this.options);var html=`\
<div class="mathbox-loader mathbox-splash-${event}">
  <div class="mathbox-logo">
    <div> <div></div><div></div><div></div> </div>
    <div> <div></div><div></div><div></div> </div>
  </div>
  <div class="mathbox-progress"><div></div></div>
</div>\
`;this.div=event=document.createElement("div");event.innerHTML=html;three.element.appendChild(event);html=2*Math.random()-1;const y=2*Math.random()-1,z=2*Math.random()-1,l=1/Math.sqrt(html*html+y*y+z*z);this.loader=event.querySelector(".mathbox-loader");this.bar=event.querySelector(".mathbox-progress \x3e div");this.gyro=event.querySelectorAll(".mathbox-logo \x3e div");this.transforms=["rotateZ(22deg) rotateX(24deg) rotateY(30deg)","rotateZ(11deg) rotateX(12deg) rotateY(15deg) scale3d(.6, .6, .6)"];
this.random=[html*l,y*l,z*l];this.start=three.Time.now;return this.timer=null},progress(event,three){if(this.div){var {current,total}=event;event=current<total;clearTimeout(this.timer);event?(this.loader.classList.remove("mathbox-exit"),this.loader.style.display="block"):(this.loader.classList.add("mathbox-exit"),this.timer=setTimeout(()=>this.loader.style.display="none",150));this.bar.style.width=current<total?.1*Math.round(1E3*current/total)+"%":"100%";if(this.options.fancy){const weights=this.random,
f=Math.max(0,Math.min(1,three.Time.now-this.start)),increment=function(transform,j){null==j&&(j=0);return transform.replace(/(-?[0-9.e]+)deg/g,(_,n)=>+n+weights[j++]*f*three.Time.step*60+"deg")};return(()=>{const result=[];for(let i=0;i<this.gyro.length;i++){let t;const el=this.gyro[i];this.transforms[i]=t=increment(this.transforms[i]);result.push(el.style.transform=el.style.WebkitTransform=t)}return result})()}}},destroy(){null!=this.div&&this.div.remove();return this.div=null}})}
//# sourceMappingURL=module$node_modules$mathbox$build$esm$splash.js.map

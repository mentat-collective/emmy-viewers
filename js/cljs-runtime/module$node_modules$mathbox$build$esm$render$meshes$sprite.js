shadow$provide.module$node_modules$mathbox$build$esm$render$meshes$sprite=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.Sprite=void 0;global=require("module$node_modules$mathbox$build$esm$render$meshes$base");var _constants=require("module$node_modules$three$src$constants"),_Mesh=require("module$node_modules$three$src$objects$Mesh"),_spritegeometry=require("module$node_modules$mathbox$build$esm$render$geometry$spritegeometry");class Sprite extends global.Base{constructor(renderer,
shaders,options){var f;super(renderer,shaders,options);({uniforms:f}=options);const {material,position,sprite,map,combine,linear,color,mask,stpq}=options;null==f&&(f={});renderer=null!=f.styleColor;this.geometry=new _spritegeometry.SpriteGeometry({items:options.items,width:options.width,height:options.height,depth:options.depth});this._adopt(f);this._adopt(this.geometry.uniforms);f=shaders.material();options=f.vertex;options.pipe(this._vertexColor(color,mask));options.require(this._vertexPosition(position,
material,map,2,stpq));options.require(sprite);options.pipe("sprite.position",this.uniforms);options.pipe("project.position",this.uniforms);f.fragment=f=this._fragmentColor(renderer,material,color,mask,map,2,stpq,combine,linear);renderer=shaders.material();renderer.vertex.pipe(options);renderer.fragment.pipe(f);renderer.fragment.pipe("fragment.transparent",this.uniforms);shaders=shaders.material();shaders.vertex.pipe(options);shaders.fragment.pipe(f);shaders.fragment.pipe("fragment.solid",this.uniforms);
shaders=shaders.link({side:_constants.DoubleSide});this.fillMaterial=this._material(shaders);options=renderer.link({side:_constants.DoubleSide});this.edgeMaterial=this._material(options);this.fillObject=new _Mesh.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new _Mesh.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=shaders;this._raw(this.edgeObject);this.edgeObject.userData=options;this.renders=[this.fillObject,this.edgeObject]}show(transparent,blending,
order,depth){this._show(this.edgeObject,!0,blending,order,depth);return this._show(this.fillObject,transparent,blending,order,depth)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();this.renders=this.geometry=this.edgeMaterial=this.fillMaterial=this.edgeObject=this.fillObject=null;return super.dispose()}}exports.Sprite=Sprite}
//# sourceMappingURL=module$node_modules$mathbox$build$esm$render$meshes$sprite.js.map

{
"version":3,
"file":"module$node_modules$$mentatcollective$jsxgraph$src$renderer$canvas.js",
"lineCount":46,
"mappings":"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",
"sources":["node_modules/@mentatcollective/jsxgraph/src/renderer/canvas.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mentatcollective$jsxgraph$src$renderer$canvas\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _jxg = _interopRequireDefault(require(\"../jxg\"));\n\nvar _abstract = _interopRequireDefault(require(\"./abstract\"));\n\nvar _constants = _interopRequireDefault(require(\"../base/constants\"));\n\nvar _env = _interopRequireDefault(require(\"../utils/env\"));\n\nvar _type = _interopRequireDefault(require(\"../utils/type\"));\n\nvar _uuid = _interopRequireDefault(require(\"../utils/uuid\"));\n\nvar _color = _interopRequireDefault(require(\"../utils/color\"));\n\nvar _coords = _interopRequireDefault(require(\"../base/coords\"));\n\nvar _math = _interopRequireDefault(require(\"../math/math\"));\n\nvar _geometry = _interopRequireDefault(require(\"../math/geometry\"));\n\nvar _numerics = _interopRequireDefault(require(\"../math/numerics\"));\n\nvar _canvas = _interopRequireDefault(require(\"canvas\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n    Copyright 2008-2022\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <http://www.gnu.org/licenses/>\n    and <http://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, document: true, Image: true, module: true, require: true */\n\n/*jslint nomen: true, plusplus: true, newcap:true*/\n\n/**\n * Uses HTML Canvas to implement the rendering methods defined in {@link JXG.AbstractRenderer}.\n *\n * @class JXG.CanvasRenderer\n * @augments JXG.AbstractRenderer\n * @param {Node} container Reference to a DOM node containing the board.\n * @param {Object} dim The dimensions of the board\n * @param {Number} dim.width\n * @param {Number} dim.height\n * @see JXG.AbstractRenderer\n */\n_jxg.default.CanvasRenderer = function (container, dim) {\n  this.type = \"canvas\";\n  this.canvasRoot = null;\n  this.suspendHandle = null;\n  this.canvasId = _uuid.default.genUUID();\n  this.canvasNamespace = null;\n\n  if (_env.default.isBrowser) {\n    this.container = container;\n    this.container.style.MozUserSelect = \"none\";\n    this.container.style.userSelect = \"none\";\n    this.container.style.overflow = \"hidden\";\n\n    if (this.container.style.position === \"\") {\n      this.container.style.position = \"relative\";\n    }\n\n    this.container.innerHTML = ['<canvas id=\"', this.canvasId, '\" width=\"', dim.width, 'px\" height=\"', dim.height, 'px\"><', \"/canvas>\"].join(\"\");\n    this.canvasRoot = this.container.ownerDocument.getElementById(this.canvasId);\n    this.canvasRoot.style.display = \"block\";\n    this.context = this.canvasRoot.getContext(\"2d\");\n  } else if (_env.default.isNode()) {\n    try {\n      this.canvasId = typeof module === \"object\" ? module.require(\"canvas\") : _canvas.default;\n      this.canvasRoot = new this.canvasId(500, 500);\n      this.context = this.canvasRoot.getContext(\"2d\");\n    } catch (err) {\n      console.log(\"Warning: 'canvas' not found. You might need to call 'npm install canvas'\");\n    }\n  }\n\n  this.dashArray = [[2, 2], [5, 5], [10, 10], [20, 20], [20, 10, 10, 10], [20, 5, 10, 5]];\n};\n\n_jxg.default.CanvasRenderer.prototype = new _abstract.default();\n\n_jxg.default.extend(_jxg.default.CanvasRenderer.prototype,\n/** @lends JXG.CanvasRenderer.prototype */\n{\n  /* **************************\n   *   private methods only used\n   *   in this renderer. Should\n   *   not be called from outside.\n   * **************************/\n\n  /**\n   * Draws a filled polygon.\n   * @param {Array} shape A matrix presented by a two dimensional array of numbers.\n   * @see JXG.AbstractRenderer#drawArrows\n   * @private\n   */\n  _drawPolygon: function (shape, degree, doFill) {\n    var i,\n        len = shape.length,\n        context = this.context;\n\n    if (len > 0) {\n      if (doFill) {\n        context.lineWidth = 0;\n      }\n\n      context.beginPath();\n      context.moveTo(shape[0][0], shape[0][1]);\n\n      if (degree === 1) {\n        for (i = 1; i < len; i++) {\n          context.lineTo(shape[i][0], shape[i][1]);\n        }\n      } else {\n        for (i = 1; i < len; i += 3) {\n          context.bezierCurveTo(shape[i][0], shape[i][1], shape[i + 1][0], shape[i + 1][1], shape[i + 2][0], shape[i + 2][1]);\n        }\n      }\n\n      if (doFill) {\n        context.lineTo(shape[0][0], shape[0][1]);\n        context.closePath();\n        context.fill(\"evenodd\");\n      } else {\n        context.stroke();\n      }\n    }\n  },\n\n  /**\n   * Sets the fill color and fills an area.\n   * @param {JXG.GeometryElement} el An arbitrary JSXGraph element, preferably one with an area.\n   * @private\n   */\n  _fill: function (el) {\n    var context = this.context;\n    context.save();\n\n    if (this._setColor(el, \"fill\")) {\n      context.fill(\"evenodd\");\n    }\n\n    context.restore();\n  },\n\n  /**\n   * Rotates a point around <tt>(0, 0)</tt> by a given angle.\n   * @param {Number} angle An angle, given in rad.\n   * @param {Number} x X coordinate of the point.\n   * @param {Number} y Y coordinate of the point.\n   * @returns {Array} An array containing the x and y coordinate of the rotated point.\n   * @private\n   */\n  _rotatePoint: function (angle, x, y) {\n    return [x * Math.cos(angle) - y * Math.sin(angle), x * Math.sin(angle) + y * Math.cos(angle)];\n  },\n\n  /**\n   * Rotates an array of points around <tt>(0, 0)</tt>.\n   * @param {Array} shape An array of array of point coordinates.\n   * @param {Number} angle The angle in rad the points are rotated by.\n   * @returns {Array} Array of array of two dimensional point coordinates.\n   * @private\n   */\n  _rotateShape: function (shape, angle) {\n    var i,\n        rv = [],\n        len = shape.length;\n\n    if (len <= 0) {\n      return shape;\n    }\n\n    for (i = 0; i < len; i++) {\n      rv.push(this._rotatePoint(angle, shape[i][0], shape[i][1]));\n    }\n\n    return rv;\n  },\n\n  /**\n   * Set the gradient angle for linear color gradients.\n   *\n   * @private\n   * @param {JXG.GeometryElement} node An arbitrary JSXGraph element, preferably one with an area.\n   * @param {Number} radians angle value in radians. 0 is horizontal from left to right, Pi/4 is vertical from top to bottom.\n   */\n  updateGradientAngle: function (el, radians) {\n    // Angles:\n    // 0: ->\n    // 90: down\n    // 180: <-\n    // 90: up\n    var f = 1.0,\n        co = Math.cos(-radians),\n        si = Math.sin(-radians),\n        bb = el.getBoundingBox(),\n        c1,\n        c2,\n        x1,\n        x2,\n        y1,\n        y2,\n        x1s,\n        x2s,\n        y1s,\n        y2s,\n        dx,\n        dy;\n\n    if (Math.abs(co) > Math.abs(si)) {\n      f /= Math.abs(co);\n    } else {\n      f /= Math.abs(si);\n    }\n\n    if (co >= 0) {\n      x1 = 0;\n      x2 = co * f;\n    } else {\n      x1 = -co * f;\n      x2 = 0;\n    }\n\n    if (si >= 0) {\n      y1 = 0;\n      y2 = si * f;\n    } else {\n      y1 = -si * f;\n      y2 = 0;\n    }\n\n    c1 = new _coords.default(_constants.default.COORDS_BY_USER, [bb[0], bb[1]], el.board);\n    c2 = new _coords.default(_constants.default.COORDS_BY_USER, [bb[2], bb[3]], el.board);\n    dx = c2.scrCoords[1] - c1.scrCoords[1];\n    dy = c2.scrCoords[2] - c1.scrCoords[2];\n    x1s = c1.scrCoords[1] + dx * x1;\n    y1s = c1.scrCoords[2] + dy * y1;\n    x2s = c1.scrCoords[1] + dx * x2;\n    y2s = c1.scrCoords[2] + dy * y2;\n    return this.context.createLinearGradient(x1s, y1s, x2s, y2s);\n  },\n\n  /**\n   * Set circles for radial color gradients.\n   *\n   * @private\n   * @param {SVGnode} node SVG gradient node\n   * @param {Number} cx Canvas value x1 (but value between 0 and 1)\n   * @param {Number} cy  Canvas value y1 (but value between 0 and 1)\n   * @param {Number} r  Canvas value r1 (but value between 0 and 1)\n   * @param {Number} fx  Canvas value x0 (but value between 0 and 1)\n   * @param {Number} fy  Canvas value x1 (but value between 0 and 1)\n   * @param {Number} fr  Canvas value r0 (but value between 0 and 1)\n   */\n  updateGradientCircle: function (el, cx, cy, r, fx, fy, fr) {\n    var bb = el.getBoundingBox(),\n        c1,\n        c2,\n        cxs,\n        cys,\n        rs,\n        fxs,\n        fys,\n        frs,\n        dx,\n        dy;\n    c1 = new _coords.default(_constants.default.COORDS_BY_USER, [bb[0], bb[1]], el.board);\n    c2 = new _coords.default(_constants.default.COORDS_BY_USER, [bb[2], bb[3]], el.board);\n    dx = c2.scrCoords[1] - c1.scrCoords[1];\n    dy = c1.scrCoords[2] - c2.scrCoords[2];\n    cxs = c1.scrCoords[1] + dx * cx;\n    cys = c2.scrCoords[2] + dy * cy;\n    fxs = c1.scrCoords[1] + dx * fx;\n    fys = c2.scrCoords[2] + dy * fy;\n    rs = r * (dx + dy) * 0.5;\n    frs = fr * (dx + dy) * 0.5;\n    return this.context.createRadialGradient(fxs, fys, frs, cxs, cys, rs);\n  },\n  // documented in JXG.AbstractRenderer\n  updateGradient: function (el) {\n    var col,\n        op,\n        ev_g = _type.default.evaluate(el.visProp.gradient),\n        gradient;\n\n    op = _type.default.evaluate(el.visProp.fillopacity);\n    op = op > 0 ? op : 0;\n    col = _type.default.evaluate(el.visProp.fillcolor);\n\n    if (ev_g === \"linear\") {\n      gradient = this.updateGradientAngle(el, _type.default.evaluate(el.visProp.gradientangle));\n    } else if (ev_g === \"radial\") {\n      gradient = this.updateGradientCircle(el, _type.default.evaluate(el.visProp.gradientcx), _type.default.evaluate(el.visProp.gradientcy), _type.default.evaluate(el.visProp.gradientr), _type.default.evaluate(el.visProp.gradientfx), _type.default.evaluate(el.visProp.gradientfy), _type.default.evaluate(el.visProp.gradientfr));\n    }\n\n    gradient.addColorStop(_type.default.evaluate(el.visProp.gradientstartoffset), col);\n    gradient.addColorStop(_type.default.evaluate(el.visProp.gradientendoffset), _type.default.evaluate(el.visProp.gradientsecondcolor));\n    return gradient;\n  },\n\n  /**\n   * Sets color and opacity for filling and stroking.\n   * type is the attribute from visProp and targetType the context[targetTypeStyle].\n   * This is necessary, because the fill style of a text is set by the stroke attributes of the text element.\n   * @param {JXG.GeometryElement} el Any JSXGraph element.\n   * @param {String} [type='stroke'] Either <em>fill</em> or <em>stroke</em>.\n   * @param {String} [targetType=type] (optional) Either <em>fill</em> or <em>stroke</em>.\n   * @returns {Boolean} If the color could be set, <tt>true</tt> is returned.\n   * @private\n   */\n  _setColor: function (el, type, targetType) {\n    var hasColor = true,\n        ev = el.visProp,\n        hl,\n        sw,\n        rgba,\n        rgbo,\n        c,\n        o,\n        oo,\n        grad;\n    type = type || \"stroke\";\n    targetType = targetType || type;\n    hl = this._getHighlighted(el);\n    grad = _type.default.evaluate(el.visProp.gradient);\n\n    if (grad === \"linear\" || grad === \"radial\") {\n      // TODO: opacity\n      this.context[targetType + \"Style\"] = this.updateGradient(el);\n      return hasColor;\n    } // type is equal to 'fill' or 'stroke'\n\n\n    rgba = _type.default.evaluate(ev[hl + type + \"color\"]);\n\n    if (rgba !== \"none\" && rgba !== false) {\n      o = _type.default.evaluate(ev[hl + type + \"opacity\"]);\n      o = o > 0 ? o : 0; // RGB, not RGBA\n\n      if (rgba.length !== 9) {\n        c = rgba;\n        oo = o; // True RGBA, not RGB\n      } else {\n        rgbo = _color.default.rgba2rgbo(rgba);\n        c = rgbo[0];\n        oo = o * rgbo[1];\n      }\n\n      this.context.globalAlpha = oo;\n      this.context[targetType + \"Style\"] = c;\n    } else {\n      hasColor = false;\n    }\n\n    sw = parseFloat(_type.default.evaluate(ev[hl + \"strokewidth\"]));\n\n    if (type === \"stroke\" && !isNaN(sw)) {\n      if (sw === 0) {\n        this.context.globalAlpha = 0;\n      } else {\n        this.context.lineWidth = sw;\n      }\n    }\n\n    if (type === \"stroke\" && ev.linecap !== undefined && ev.linecap !== \"\") {\n      this.context.lineCap = ev.linecap;\n    }\n\n    return hasColor;\n  },\n\n  /**\n   * Sets color and opacity for drawing paths and lines and draws the paths and lines.\n   * @param {JXG.GeometryElement} el An JSXGraph element with a stroke.\n   * @private\n   */\n  _stroke: function (el) {\n    var context = this.context,\n        ev_dash = _type.default.evaluate(el.visProp.dash);\n\n    context.save();\n\n    if (ev_dash > 0) {\n      if (context.setLineDash) {\n        context.setLineDash(this.dashArray[ev_dash]);\n      }\n    } else {\n      this.context.lineDashArray = [];\n    }\n\n    if (this._setColor(el, \"stroke\")) {\n      context.stroke();\n    }\n\n    context.restore();\n  },\n\n  /**\n   * Translates a set of points.\n   * @param {Array} shape An array of point coordinates.\n   * @param {Number} x Translation in X direction.\n   * @param {Number} y Translation in Y direction.\n   * @returns {Array} An array of translated point coordinates.\n   * @private\n   */\n  _translateShape: function (shape, x, y) {\n    var i,\n        rv = [],\n        len = shape.length;\n\n    if (len <= 0) {\n      return shape;\n    }\n\n    for (i = 0; i < len; i++) {\n      rv.push([shape[i][0] + x, shape[i][1] + y]);\n    }\n\n    return rv;\n  },\n\n  /* ******************************** *\n   *    Point drawing and updating    *\n   * ******************************** */\n  // documented in AbstractRenderer\n  drawPoint: function (el) {\n    var f = _type.default.evaluate(el.visProp.face),\n        size = _type.default.evaluate(el.visProp.size),\n        scr = el.coords.scrCoords,\n        sqrt32 = size * Math.sqrt(3) * 0.5,\n        s05 = size * 0.5,\n        stroke05 = parseFloat(_type.default.evaluate(el.visProp.strokewidth)) / 2.0,\n        context = this.context;\n\n    if (!el.visPropCalc.visible) {\n      return;\n    }\n\n    switch (f) {\n      case \"cross\": // x\n\n      case \"x\":\n        context.beginPath();\n        context.moveTo(scr[1] - size, scr[2] - size);\n        context.lineTo(scr[1] + size, scr[2] + size);\n        context.moveTo(scr[1] + size, scr[2] - size);\n        context.lineTo(scr[1] - size, scr[2] + size);\n        context.lineCap = \"round\";\n        context.lineJoin = \"round\";\n        context.closePath();\n\n        this._stroke(el);\n\n        break;\n\n      case \"circle\": // dot\n\n      case \"o\":\n        context.beginPath();\n        context.arc(scr[1], scr[2], size + 1 + stroke05, 0, 2 * Math.PI, false);\n        context.closePath();\n\n        this._fill(el);\n\n        this._stroke(el);\n\n        break;\n\n      case \"square\": // rectangle\n\n      case \"[]\":\n        if (size <= 0) {\n          break;\n        }\n\n        context.save();\n\n        if (this._setColor(el, \"stroke\", \"fill\")) {\n          context.fillRect(scr[1] - size - stroke05, scr[2] - size - stroke05, size * 2 + 3 * stroke05, size * 2 + 3 * stroke05);\n        }\n\n        context.restore();\n        context.save();\n\n        this._setColor(el, \"fill\");\n\n        context.fillRect(scr[1] - size + stroke05, scr[2] - size + stroke05, size * 2 - stroke05, size * 2 - stroke05);\n        context.restore();\n        break;\n\n      case \"plus\": // +\n\n      case \"+\":\n        context.beginPath();\n        context.moveTo(scr[1] - size, scr[2]);\n        context.lineTo(scr[1] + size, scr[2]);\n        context.moveTo(scr[1], scr[2] - size);\n        context.lineTo(scr[1], scr[2] + size);\n        context.lineCap = \"round\";\n        context.lineJoin = \"round\";\n        context.closePath();\n\n        this._stroke(el);\n\n        break;\n\n      case \"diamond\": // <>\n\n      case \"<>\":\n        context.beginPath();\n        context.moveTo(scr[1] - size, scr[2]);\n        context.lineTo(scr[1], scr[2] + size);\n        context.lineTo(scr[1] + size, scr[2]);\n        context.lineTo(scr[1], scr[2] - size);\n        context.closePath();\n\n        this._fill(el);\n\n        this._stroke(el);\n\n        break;\n\n      case \"triangleup\":\n      case \"a\":\n      case \"^\":\n        context.beginPath();\n        context.moveTo(scr[1], scr[2] - size);\n        context.lineTo(scr[1] - sqrt32, scr[2] + s05);\n        context.lineTo(scr[1] + sqrt32, scr[2] + s05);\n        context.closePath();\n\n        this._fill(el);\n\n        this._stroke(el);\n\n        break;\n\n      case \"triangledown\":\n      case \"v\":\n        context.beginPath();\n        context.moveTo(scr[1], scr[2] + size);\n        context.lineTo(scr[1] - sqrt32, scr[2] - s05);\n        context.lineTo(scr[1] + sqrt32, scr[2] - s05);\n        context.closePath();\n\n        this._fill(el);\n\n        this._stroke(el);\n\n        break;\n\n      case \"triangleleft\":\n      case \"<\":\n        context.beginPath();\n        context.moveTo(scr[1] - size, scr[2]);\n        context.lineTo(scr[1] + s05, scr[2] - sqrt32);\n        context.lineTo(scr[1] + s05, scr[2] + sqrt32);\n        context.closePath();\n\n        this._fill(el);\n\n        this._stroke(el);\n\n        break;\n\n      case \"triangleright\":\n      case \">\":\n        context.beginPath();\n        context.moveTo(scr[1] + size, scr[2]);\n        context.lineTo(scr[1] - s05, scr[2] - sqrt32);\n        context.lineTo(scr[1] - s05, scr[2] + sqrt32);\n        context.closePath();\n\n        this._fill(el);\n\n        this._stroke(el);\n\n        break;\n    }\n  },\n  // documented in AbstractRenderer\n  updatePoint: function (el) {\n    this.drawPoint(el);\n  },\n\n  /* ******************************** *\n   *           Lines                  *\n   * ******************************** */\n\n  /**\n   * Draws arrows of an element (usually a line) in canvas renderer.\n   * @param {JXG.GeometryElement} el Line to be drawn.\n   * @param {Array} scr1 Screen coordinates of the start position of the line or curve.\n   * @param {Array} scr2 Screen coordinates of the end position of the line or curve.\n   * @param {String} hl String which carries information if the element is highlighted. Used for getting the correct attribute.\n   * @private\n   */\n  drawArrows: function (el, scr1, scr2, hl, a) {\n    var x1,\n        y1,\n        x2,\n        y2,\n        w0,\n        w,\n        arrowHead,\n        arrowTail,\n        context = this.context,\n        size = 6,\n        type = 1,\n        type_fa,\n        type_la,\n        degree_fa = 1,\n        degree_la = 1,\n        doFill,\n        i,\n        len,\n        d1x,\n        d1y,\n        d2x,\n        d2y,\n        last,\n        ang1,\n        ang2,\n        ev_fa = a.evFirst,\n        ev_la = a.evLast;\n\n    if (_type.default.evaluate(el.visProp.strokecolor) !== \"none\" && (ev_fa || ev_la)) {\n      if (el.elementClass === _constants.default.OBJECT_CLASS_LINE) {\n        x1 = scr1.scrCoords[1];\n        y1 = scr1.scrCoords[2];\n        x2 = scr2.scrCoords[1];\n        y2 = scr2.scrCoords[2];\n        ang1 = ang2 = Math.atan2(y2 - y1, x2 - x1);\n      } else {\n        x1 = el.points[0].scrCoords[1];\n        y1 = el.points[0].scrCoords[2];\n        last = el.points.length - 1;\n\n        if (last < 1) {\n          // No arrows for curves consisting of 1 point\n          return;\n        }\n\n        x2 = el.points[el.points.length - 1].scrCoords[1];\n        y2 = el.points[el.points.length - 1].scrCoords[2];\n        d1x = el.points[1].scrCoords[1] - el.points[0].scrCoords[1];\n        d1y = el.points[1].scrCoords[2] - el.points[0].scrCoords[2];\n        d2x = el.points[last].scrCoords[1] - el.points[last - 1].scrCoords[1];\n        d2y = el.points[last].scrCoords[2] - el.points[last - 1].scrCoords[2];\n\n        if (ev_fa) {\n          ang1 = Math.atan2(d1y, d1x);\n        }\n\n        if (ev_la) {\n          ang2 = Math.atan2(d2y, d2x);\n        }\n      }\n\n      w0 = _type.default.evaluate(el.visProp[hl + \"strokewidth\"]);\n\n      if (ev_fa) {\n        size = a.sizeFirst;\n        w = w0 * size;\n        type = a.typeFirst;\n        type_fa = type;\n\n        if (type === 2) {\n          arrowTail = [[w, -w * 0.5], [0.0, 0.0], [w, w * 0.5], [w * 0.5, 0.0]];\n        } else if (type === 3) {\n          arrowTail = [[w / 3.0, -w * 0.5], [0.0, -w * 0.5], [0.0, w * 0.5], [w / 3.0, w * 0.5]];\n        } else if (type === 4) {\n          w /= 10;\n          degree_fa = 3;\n          arrowTail = [[10.0, 3.31], [6.47, 3.84], [2.87, 4.5], [0.0, 6.63], [0.67, 5.52], [1.33, 4.42], [2.0, 3.31], [1.33, 2.21], [0.67, 1.1], [0.0, 0.0], [2.87, 2.13], [6.47, 2.79], [10.0, 3.31]];\n          len = arrowTail.length;\n\n          for (i = 0; i < len; i++) {\n            arrowTail[i][0] *= -w;\n            arrowTail[i][1] *= w;\n            arrowTail[i][0] += 10 * w;\n            arrowTail[i][1] -= 3.31 * w;\n          }\n        } else if (type === 5) {\n          w /= 10;\n          degree_fa = 3;\n          arrowTail = [[10.0, 3.28], [6.61, 4.19], [3.19, 5.07], [0.0, 6.55], [0.62, 5.56], [1.0, 4.44], [1.0, 3.28], [1.0, 2.11], [0.62, 0.99], [0.0, 0.0], [3.19, 1.49], [6.61, 2.37], [10.0, 3.28]];\n          len = arrowTail.length;\n\n          for (i = 0; i < len; i++) {\n            arrowTail[i][0] *= -w;\n            arrowTail[i][1] *= w;\n            arrowTail[i][0] += 10 * w;\n            arrowTail[i][1] -= 3.28 * w;\n          }\n        } else if (type === 6) {\n          w /= 10;\n          degree_fa = 3;\n          arrowTail = [[10.0, 2.84], [6.61, 3.59], [3.21, 4.35], [0.0, 5.68], [0.33, 4.73], [0.67, 3.78], [1.0, 2.84], [0.67, 1.89], [0.33, 0.95], [0.0, 0.0], [3.21, 1.33], [6.61, 2.09], [10.0, 2.84]];\n          len = arrowTail.length;\n\n          for (i = 0; i < len; i++) {\n            arrowTail[i][0] *= -w;\n            arrowTail[i][1] *= w;\n            arrowTail[i][0] += 10 * w;\n            arrowTail[i][1] -= 2.84 * w;\n          }\n        } else if (type === 7) {\n          w = w0;\n          degree_fa = 3;\n          arrowTail = [[0.0, 10.39], [2.01, 6.92], [5.96, 5.2], [10.0, 5.2], [5.96, 5.2], [2.01, 3.47], [0.0, 0.0]];\n          len = arrowTail.length;\n\n          for (i = 0; i < len; i++) {\n            arrowTail[i][0] *= -w;\n            arrowTail[i][1] *= w;\n            arrowTail[i][0] += 10 * w;\n            arrowTail[i][1] -= 5.2 * w;\n          }\n        } else {\n          arrowTail = [[w, -w * 0.5], [0.0, 0.0], [w, w * 0.5]];\n        }\n      }\n\n      if (ev_la) {\n        size = a.sizeLast;\n        w = w0 * size;\n        type = a.typeLast;\n        type_la = type;\n\n        if (type === 2) {\n          arrowHead = [[-w, -w * 0.5], [0.0, 0.0], [-w, w * 0.5], [-w * 0.5, 0.0]];\n        } else if (type === 3) {\n          arrowHead = [[-w / 3.0, -w * 0.5], [0.0, -w * 0.5], [0.0, w * 0.5], [-w / 3.0, w * 0.5]];\n        } else if (type === 4) {\n          w /= 10;\n          degree_la = 3;\n          arrowHead = [[10.0, 3.31], [6.47, 3.84], [2.87, 4.5], [0.0, 6.63], [0.67, 5.52], [1.33, 4.42], [2.0, 3.31], [1.33, 2.21], [0.67, 1.1], [0.0, 0.0], [2.87, 2.13], [6.47, 2.79], [10.0, 3.31]];\n          len = arrowHead.length;\n\n          for (i = 0; i < len; i++) {\n            arrowHead[i][0] *= w;\n            arrowHead[i][1] *= w;\n            arrowHead[i][0] -= 10 * w;\n            arrowHead[i][1] -= 3.31 * w;\n          }\n        } else if (type === 5) {\n          w /= 10;\n          degree_la = 3;\n          arrowHead = [[10.0, 3.28], [6.61, 4.19], [3.19, 5.07], [0.0, 6.55], [0.62, 5.56], [1.0, 4.44], [1.0, 3.28], [1.0, 2.11], [0.62, 0.99], [0.0, 0.0], [3.19, 1.49], [6.61, 2.37], [10.0, 3.28]];\n          len = arrowHead.length;\n\n          for (i = 0; i < len; i++) {\n            arrowHead[i][0] *= w;\n            arrowHead[i][1] *= w;\n            arrowHead[i][0] -= 10 * w;\n            arrowHead[i][1] -= 3.28 * w;\n          }\n        } else if (type === 6) {\n          w /= 10;\n          degree_la = 3;\n          arrowHead = [[10.0, 2.84], [6.61, 3.59], [3.21, 4.35], [0.0, 5.68], [0.33, 4.73], [0.67, 3.78], [1.0, 2.84], [0.67, 1.89], [0.33, 0.95], [0.0, 0.0], [3.21, 1.33], [6.61, 2.09], [10.0, 2.84]];\n          len = arrowHead.length;\n\n          for (i = 0; i < len; i++) {\n            arrowHead[i][0] *= w;\n            arrowHead[i][1] *= w;\n            arrowHead[i][0] -= 10 * w;\n            arrowHead[i][1] -= 2.84 * w;\n          }\n        } else if (type === 7) {\n          w = w0;\n          degree_la = 3;\n          arrowHead = [[0.0, 10.39], [2.01, 6.92], [5.96, 5.2], [10.0, 5.2], [5.96, 5.2], [2.01, 3.47], [0.0, 0.0]];\n          len = arrowHead.length;\n\n          for (i = 0; i < len; i++) {\n            arrowHead[i][0] *= w;\n            arrowHead[i][1] *= w;\n            arrowHead[i][0] -= 10 * w;\n            arrowHead[i][1] -= 5.2 * w;\n          }\n        } else {\n          arrowHead = [[-w, -w * 0.5], [0.0, 0.0], [-w, w * 0.5]];\n        }\n      }\n\n      context.save();\n\n      if (this._setColor(el, \"stroke\", \"fill\")) {\n        this._setColor(el, \"stroke\");\n\n        if (ev_fa) {\n          if (type_fa === 7) {\n            doFill = false;\n          } else {\n            doFill = true;\n          }\n\n          this._drawPolygon(this._translateShape(this._rotateShape(arrowTail, ang1), x1, y1), degree_fa, doFill);\n        }\n\n        if (ev_la) {\n          if (type_la === 7) {\n            doFill = false;\n          } else {\n            doFill = true;\n          }\n\n          this._drawPolygon(this._translateShape(this._rotateShape(arrowHead, ang2), x2, y2), degree_la, doFill);\n        }\n      }\n\n      context.restore();\n    }\n  },\n  // documented in AbstractRenderer\n  drawLine: function (el) {\n    var c1_org,\n        c2_org,\n        c1 = new _coords.default(_constants.default.COORDS_BY_USER, el.point1.coords.usrCoords, el.board),\n        c2 = new _coords.default(_constants.default.COORDS_BY_USER, el.point2.coords.usrCoords, el.board),\n        margin = null,\n        hl,\n        w,\n        arrowData;\n\n    if (!el.visPropCalc.visible) {\n      return;\n    }\n\n    hl = this._getHighlighted(el);\n    w = _type.default.evaluate(el.visProp[hl + \"strokewidth\"]);\n    arrowData = this.getArrowHeadData(el, w, hl);\n\n    if (arrowData.evFirst || arrowData.evLast) {\n      margin = -4;\n    }\n\n    _geometry.default.calcStraight(el, c1, c2, margin);\n\n    this.handleTouchpoints(el, c1, c2, arrowData);\n    c1_org = new _coords.default(_constants.default.COORDS_BY_USER, c1.usrCoords, el.board);\n    c2_org = new _coords.default(_constants.default.COORDS_BY_USER, c2.usrCoords, el.board);\n    this.getPositionArrowHead(el, c1, c2, arrowData);\n    this.context.beginPath();\n    this.context.moveTo(c1.scrCoords[1], c1.scrCoords[2]);\n    this.context.lineTo(c2.scrCoords[1], c2.scrCoords[2]);\n\n    this._stroke(el);\n\n    if (arrowData.evFirst\n    /* && obj.sFirst > 0*/\n    || arrowData.evLast\n    /* && obj.sLast > 0*/\n    ) {\n      this.drawArrows(el, c1_org, c2_org, hl, arrowData);\n    }\n  },\n  // documented in AbstractRenderer\n  updateLine: function (el) {\n    this.drawLine(el);\n  },\n  // documented in AbstractRenderer\n  drawTicks: function () {// this function is supposed to initialize the svg/vml nodes in the SVG/VMLRenderer.\n    // but in canvas there are no such nodes, hence we just do nothing and wait until\n    // updateTicks is called.\n  },\n  // documented in AbstractRenderer\n  updateTicks: function (ticks) {\n    var i,\n        c,\n        x,\n        y,\n        len = ticks.ticks.length,\n        len2,\n        j,\n        context = this.context;\n    context.beginPath();\n\n    for (i = 0; i < len; i++) {\n      c = ticks.ticks[i];\n      x = c[0];\n      y = c[1]; // context.moveTo(x[0], y[0]);\n      // context.lineTo(x[1], y[1]);\n\n      len2 = x.length;\n      context.moveTo(x[0], y[0]);\n\n      for (j = 1; j < len2; ++j) {\n        context.lineTo(x[j], y[j]);\n      }\n    } // Labels\n    // for (i = 0; i < len; i++) {\n    //     c = ticks.ticks[i].scrCoords;\n    //     if (ticks.ticks[i].major &&\n    //             (ticks.board.needsFullUpdate || ticks.needsRegularUpdate) &&\n    //             ticks.labels[i] &&\n    //             ticks.labels[i].visPropCalc.visible) {\n    //         this.updateText(ticks.labels[i]);\n    //     }\n    // }\n\n\n    context.lineCap = \"round\";\n\n    this._stroke(ticks);\n  },\n\n  /* **************************\n   *    Curves\n   * **************************/\n  // documented in AbstractRenderer\n  drawCurve: function (el) {\n    var hl, w, arrowData;\n\n    if (_type.default.evaluate(el.visProp.handdrawing)) {\n      this.updatePathStringBezierPrim(el);\n    } else {\n      this.updatePathStringPrim(el);\n    }\n\n    if (el.numberPoints > 1) {\n      hl = this._getHighlighted(el);\n      w = _type.default.evaluate(el.visProp[hl + \"strokewidth\"]);\n      arrowData = this.getArrowHeadData(el, w, hl);\n\n      if (arrowData.evFirst\n      /* && obj.sFirst > 0*/\n      || arrowData.evLast\n      /* && obj.sLast > 0*/\n      ) {\n        this.drawArrows(el, null, null, hl, arrowData);\n      }\n    }\n  },\n  // documented in AbstractRenderer\n  updateCurve: function (el) {\n    this.drawCurve(el);\n  },\n\n  /* **************************\n   *    Circle related stuff\n   * **************************/\n  // documented in AbstractRenderer\n  drawEllipse: function (el) {\n    var m1 = el.center.coords.scrCoords[1],\n        m2 = el.center.coords.scrCoords[2],\n        sX = el.board.unitX,\n        sY = el.board.unitY,\n        rX = 2 * el.Radius(),\n        rY = 2 * el.Radius(),\n        aWidth = rX * sX,\n        aHeight = rY * sY,\n        aX = m1 - aWidth / 2,\n        aY = m2 - aHeight / 2,\n        hB = aWidth / 2 * 0.5522848,\n        vB = aHeight / 2 * 0.5522848,\n        eX = aX + aWidth,\n        eY = aY + aHeight,\n        mX = aX + aWidth / 2,\n        mY = aY + aHeight / 2,\n        context = this.context;\n\n    if (rX > 0.0 && rY > 0.0 && !isNaN(m1 + m2)) {\n      context.beginPath();\n      context.moveTo(aX, mY);\n      context.bezierCurveTo(aX, mY - vB, mX - hB, aY, mX, aY);\n      context.bezierCurveTo(mX + hB, aY, eX, mY - vB, eX, mY);\n      context.bezierCurveTo(eX, mY + vB, mX + hB, eY, mX, eY);\n      context.bezierCurveTo(mX - hB, eY, aX, mY + vB, aX, mY);\n      context.closePath();\n\n      this._fill(el);\n\n      this._stroke(el);\n    }\n  },\n  // documented in AbstractRenderer\n  updateEllipse: function (el) {\n    return this.drawEllipse(el);\n  },\n\n  /* **************************\n   *    Polygon\n   * **************************/\n  // nothing here, using AbstractRenderer implementations\n\n  /* **************************\n   *    Text related stuff\n   * **************************/\n  // Already documented in JXG.AbstractRenderer\n  displayCopyright: function (str, fontSize) {\n    var context = this.context; // this should be called on EVERY update, otherwise it won't be shown after the first update\n\n    context.save();\n    context.font = fontSize + \"px Arial\";\n    context.fillStyle = \"#aaa\";\n    context.lineWidth = 0.5;\n    context.fillText(str, 10, 2 + fontSize);\n    context.restore();\n  },\n  // Already documented in JXG.AbstractRenderer\n  drawInternalText: function (el) {\n    var ev_fs = _type.default.evaluate(el.visProp.fontsize),\n        fontUnit = _type.default.evaluate(el.visProp.fontunit),\n        ev_ax = el.getAnchorX(),\n        ev_ay = el.getAnchorY(),\n        context = this.context;\n\n    context.save();\n\n    if (this._setColor(el, \"stroke\", \"fill\") && !isNaN(el.coords.scrCoords[1] + el.coords.scrCoords[2])) {\n      context.font = (ev_fs > 0 ? ev_fs : 0) + fontUnit + \" Arial\";\n      this.transformImage(el, el.transformations);\n\n      if (ev_ax === \"left\") {\n        context.textAlign = \"left\";\n      } else if (ev_ax === \"right\") {\n        context.textAlign = \"right\";\n      } else if (ev_ax === \"middle\") {\n        context.textAlign = \"center\";\n      }\n\n      if (ev_ay === \"bottom\") {\n        context.textBaseline = \"bottom\";\n      } else if (ev_ay === \"top\") {\n        context.textBaseline = \"top\";\n      } else if (ev_ay === \"middle\") {\n        context.textBaseline = \"middle\";\n      }\n\n      context.fillText(el.plaintext, el.coords.scrCoords[1], el.coords.scrCoords[2]);\n    }\n\n    context.restore();\n    return null;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateInternalText: function (el) {\n    this.drawInternalText(el);\n  },\n  // documented in JXG.AbstractRenderer\n  // Only necessary for texts\n  setObjectStrokeColor: function (el, color, opacity) {\n    var rgba = _type.default.evaluate(color),\n        c,\n        rgbo,\n        o = _type.default.evaluate(opacity),\n        oo,\n        node;\n\n    o = o > 0 ? o : 0;\n\n    if (el.visPropOld.strokecolor === rgba && el.visPropOld.strokeopacity === o) {\n      return;\n    } // Check if this could be merged with _setColor\n\n\n    if (_type.default.exists(rgba) && rgba !== false) {\n      // RGB, not RGBA\n      if (rgba.length !== 9) {\n        c = rgba;\n        oo = o; // True RGBA, not RGB\n      } else {\n        rgbo = _color.default.rgba2rgbo(rgba);\n        c = rgbo[0];\n        oo = o * rgbo[1];\n      }\n\n      node = el.rendNode;\n\n      if (el.elementClass === _constants.default.OBJECT_CLASS_TEXT && _type.default.evaluate(el.visProp.display) === \"html\") {\n        node.style.color = c;\n        node.style.opacity = oo;\n      }\n    }\n\n    el.visPropOld.strokecolor = rgba;\n    el.visPropOld.strokeopacity = o;\n  },\n\n  /* **************************\n   *    Image related stuff\n   * **************************/\n  // Already documented in JXG.AbstractRenderer\n  drawImage: function (el) {\n    el.rendNode = new Image(); // Store the file name of the image.\n    // Before, this was done in el.rendNode.src\n    // But there, the file name is expanded to\n    // the full url. This may be different from\n    // the url computed in updateImageURL().\n\n    el._src = \"\";\n    this.updateImage(el);\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateImage: function (el) {\n    var context = this.context,\n        o = _type.default.evaluate(el.visProp.fillopacity),\n        paintImg = _type.default.bind(function () {\n      el.imgIsLoaded = true;\n\n      if (el.size[0] <= 0 || el.size[1] <= 0) {\n        return;\n      }\n\n      context.save();\n      context.globalAlpha = o; // If det(el.transformations)=0, FireFox 3.6. breaks down.\n      // This is tested in transformImage\n\n      this.transformImage(el, el.transformations);\n      context.drawImage(el.rendNode, el.coords.scrCoords[1], el.coords.scrCoords[2] - el.size[1], el.size[0], el.size[1]);\n      context.restore();\n    }, this);\n\n    if (this.updateImageURL(el)) {\n      el.rendNode.onload = paintImg;\n    } else {\n      if (el.imgIsLoaded) {\n        paintImg();\n      }\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  transformImage: function (el, t) {\n    var m,\n        len = t.length,\n        ctx = this.context;\n\n    if (len > 0) {\n      m = this.joinTransforms(el, t);\n\n      if (Math.abs(_numerics.default.det(m)) >= _math.default.eps) {\n        ctx.transform(m[1][1], m[2][1], m[1][2], m[2][2], m[1][0], m[2][0]);\n      }\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateImageURL: function (el) {\n    var url;\n    url = _type.default.evaluate(el.url);\n\n    if (el._src !== url) {\n      el.imgIsLoaded = false;\n      el.rendNode.src = url;\n      el._src = url;\n      return true;\n    }\n\n    return false;\n  },\n\n  /* **************************\n   * Render primitive objects\n   * **************************/\n  // documented in AbstractRenderer\n  remove: function (shape) {\n    // sounds odd for a pixel based renderer but we need this for html texts\n    if (_type.default.exists(shape) && _type.default.exists(shape.parentNode)) {\n      shape.parentNode.removeChild(shape);\n    }\n  },\n  // documented in AbstractRenderer\n  updatePathStringPrim: function (el) {\n    var i,\n        scr,\n        scr1,\n        scr2,\n        len,\n        symbm = \"M\",\n        symbl = \"L\",\n        symbc = \"C\",\n        nextSymb = symbm,\n        maxSize = 5000.0,\n        context = this.context;\n\n    if (el.numberPoints <= 0) {\n      return;\n    }\n\n    len = Math.min(el.points.length, el.numberPoints);\n    context.beginPath();\n\n    if (el.bezierDegree === 1) {\n      /*\n      if (isNotPlot && el.board.options.curve.RDPsmoothing) {\n          el.points = Numerics.RamerDouglasPeucker(el.points, 0.5);\n      }\n      */\n      for (i = 0; i < len; i++) {\n        scr = el.points[i].scrCoords;\n\n        if (isNaN(scr[1]) || isNaN(scr[2])) {\n          // PenUp\n          nextSymb = symbm;\n        } else {\n          // Chrome has problems with values  being too far away.\n          if (scr[1] > maxSize) {\n            scr[1] = maxSize;\n          } else if (scr[1] < -maxSize) {\n            scr[1] = -maxSize;\n          }\n\n          if (scr[2] > maxSize) {\n            scr[2] = maxSize;\n          } else if (scr[2] < -maxSize) {\n            scr[2] = -maxSize;\n          }\n\n          if (nextSymb === symbm) {\n            context.moveTo(scr[1], scr[2]);\n          } else {\n            context.lineTo(scr[1], scr[2]);\n          }\n\n          nextSymb = symbl;\n        }\n      }\n    } else if (el.bezierDegree === 3) {\n      i = 0;\n\n      while (i < len) {\n        scr = el.points[i].scrCoords;\n\n        if (isNaN(scr[1]) || isNaN(scr[2])) {\n          // PenUp\n          nextSymb = symbm;\n        } else {\n          if (nextSymb === symbm) {\n            context.moveTo(scr[1], scr[2]);\n          } else {\n            i += 1;\n            scr1 = el.points[i].scrCoords;\n            i += 1;\n            scr2 = el.points[i].scrCoords;\n            context.bezierCurveTo(scr[1], scr[2], scr1[1], scr1[2], scr2[1], scr2[2]);\n          }\n\n          nextSymb = symbc;\n        }\n\n        i += 1;\n      }\n    }\n\n    context.lineCap = \"round\";\n\n    this._fill(el);\n\n    this._stroke(el);\n  },\n  // Already documented in JXG.AbstractRenderer\n  updatePathStringBezierPrim: function (el) {\n    var i,\n        j,\n        k,\n        scr,\n        lx,\n        ly,\n        len,\n        symbm = \"M\",\n        symbl = \"C\",\n        nextSymb = symbm,\n        maxSize = 5000.0,\n        f = _type.default.evaluate(el.visProp.strokewidth),\n        isNoPlot = _type.default.evaluate(el.visProp.curvetype) !== \"plot\",\n        context = this.context;\n\n    if (el.numberPoints <= 0) {\n      return;\n    }\n\n    if (isNoPlot && el.board.options.curve.RDPsmoothing) {\n      el.points = _numerics.default.RamerDouglasPeucker(el.points, 0.5);\n    }\n\n    len = Math.min(el.points.length, el.numberPoints);\n    context.beginPath();\n\n    for (j = 1; j < 3; j++) {\n      nextSymb = symbm;\n\n      for (i = 0; i < len; i++) {\n        scr = el.points[i].scrCoords;\n\n        if (isNaN(scr[1]) || isNaN(scr[2])) {\n          // PenUp\n          nextSymb = symbm;\n        } else {\n          // Chrome has problems with values being too far away.\n          if (scr[1] > maxSize) {\n            scr[1] = maxSize;\n          } else if (scr[1] < -maxSize) {\n            scr[1] = -maxSize;\n          }\n\n          if (scr[2] > maxSize) {\n            scr[2] = maxSize;\n          } else if (scr[2] < -maxSize) {\n            scr[2] = -maxSize;\n          }\n\n          if (nextSymb === symbm) {\n            context.moveTo(scr[1], scr[2]);\n          } else {\n            k = 2 * j;\n            context.bezierCurveTo(lx + (scr[1] - lx) * 0.333 + f * (k * Math.random() - j), ly + (scr[2] - ly) * 0.333 + f * (k * Math.random() - j), lx + (scr[1] - lx) * 0.666 + f * (k * Math.random() - j), ly + (scr[2] - ly) * 0.666 + f * (k * Math.random() - j), scr[1], scr[2]);\n          }\n\n          nextSymb = symbl;\n          lx = scr[1];\n          ly = scr[2];\n        }\n      }\n    }\n\n    context.lineCap = \"round\";\n\n    this._fill(el);\n\n    this._stroke(el);\n  },\n  // documented in AbstractRenderer\n  updatePolygonPrim: function (node, el) {\n    var scrCoords,\n        i,\n        j,\n        len = el.vertices.length,\n        context = this.context,\n        isReal = true;\n\n    if (len <= 0 || !el.visPropCalc.visible) {\n      return;\n    }\n\n    if (el.elType === \"polygonalchain\") {\n      len++;\n    }\n\n    context.beginPath();\n    i = 0;\n\n    while (!el.vertices[i].isReal && i < len - 1) {\n      i++;\n      isReal = false;\n    }\n\n    scrCoords = el.vertices[i].coords.scrCoords;\n    context.moveTo(scrCoords[1], scrCoords[2]);\n\n    for (j = i; j < len - 1; j++) {\n      if (!el.vertices[j].isReal) {\n        isReal = false;\n      }\n\n      scrCoords = el.vertices[j].coords.scrCoords;\n      context.lineTo(scrCoords[1], scrCoords[2]);\n    }\n\n    context.closePath();\n\n    if (isReal) {\n      this._fill(el); // The edges of a polygon are displayed separately (as segments).\n\n    }\n  },\n  // **************************  Set Attributes *************************\n  // Already documented in JXG.AbstractRenderer\n  display: function (el, val) {\n    if (el && el.rendNode) {\n      el.visPropOld.visible = val;\n\n      if (val) {\n        el.rendNode.style.visibility = \"inherit\";\n      } else {\n        el.rendNode.style.visibility = \"hidden\";\n      }\n    }\n  },\n  // documented in AbstractRenderer\n  show: function (el) {\n    _jxg.default.deprecated(\"Board.renderer.show()\", \"Board.renderer.display()\");\n\n    if (_type.default.exists(el.rendNode)) {\n      el.rendNode.style.visibility = \"inherit\";\n    }\n  },\n  // documented in AbstractRenderer\n  hide: function (el) {\n    _jxg.default.deprecated(\"Board.renderer.hide()\", \"Board.renderer.display()\");\n\n    if (_type.default.exists(el.rendNode)) {\n      el.rendNode.style.visibility = \"hidden\";\n    }\n  },\n  // documented in AbstractRenderer\n  setGradient: function (el) {\n    var // col,\n    op;\n    op = _type.default.evaluate(el.visProp.fillopacity);\n    op = op > 0 ? op : 0; // col = Type.evaluate(el.visProp.fillcolor);\n  },\n  // documented in AbstractRenderer\n  setShadow: function (el) {\n    if (el.visPropOld.shadow === el.visProp.shadow) {\n      return;\n    } // not implemented yet\n    // we simply have to redraw the element\n    // probably the best way to do so would be to call el.updateRenderer(), i think.\n\n\n    el.visPropOld.shadow = el.visProp.shadow;\n  },\n  // documented in AbstractRenderer\n  highlight: function (obj) {\n    if (obj.elementClass === _constants.default.OBJECT_CLASS_TEXT && _type.default.evaluate(obj.visProp.display) === \"html\") {\n      this.updateTextStyle(obj, true);\n    } else {\n      obj.board.prepareUpdate();\n      obj.board.renderer.suspendRedraw(obj.board);\n      obj.board.updateRenderer();\n      obj.board.renderer.unsuspendRedraw();\n    }\n\n    return this;\n  },\n  // documented in AbstractRenderer\n  noHighlight: function (obj) {\n    if (obj.elementClass === _constants.default.OBJECT_CLASS_TEXT && _type.default.evaluate(obj.visProp.display) === \"html\") {\n      this.updateTextStyle(obj, false);\n    } else {\n      obj.board.prepareUpdate();\n      obj.board.renderer.suspendRedraw(obj.board);\n      obj.board.updateRenderer();\n      obj.board.renderer.unsuspendRedraw();\n    }\n\n    return this;\n  },\n\n  /* **************************\n   * renderer control\n   * **************************/\n  // documented in AbstractRenderer\n  suspendRedraw: function (board) {\n    this.context.save();\n    this.context.clearRect(0, 0, this.canvasRoot.width, this.canvasRoot.height);\n\n    if (board && board.attr.showcopyright) {\n      this.displayCopyright(_jxg.default.licenseText, 12);\n    }\n  },\n  // documented in AbstractRenderer\n  unsuspendRedraw: function () {\n    this.context.restore();\n  },\n  // document in AbstractRenderer\n  resize: function (w, h) {\n    if (this.container) {\n      this.canvasRoot.style.width = parseFloat(w) + \"px\";\n      this.canvasRoot.style.height = parseFloat(h) + \"px\";\n      this.canvasRoot.setAttribute(\"width\", 2 * parseFloat(w) + \"px\");\n      this.canvasRoot.setAttribute(\"height\", 2 * parseFloat(h) + \"px\");\n    } else {\n      this.canvasRoot.width = 2 * parseFloat(w);\n      this.canvasRoot.height = 2 * parseFloat(h);\n    }\n\n    this.context = this.canvasRoot.getContext(\"2d\"); // The width and height of the canvas is set to twice the CSS values,\n    // followed by an appropiate scaling.\n    // See http://stackoverflow.com/questions/22416462/canvas-element-with-blurred-lines\n\n    this.context.scale(2, 2);\n  },\n  removeToInsertLater: function () {\n    return function () {};\n  }\n});\n\nvar _default = _jxg.default.CanvasRenderer;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_jxg","_abstract","_constants","_env","_type","_uuid","_color","_coords","_math","_geometry","_numerics","_canvas","CanvasRenderer","_jxg.default.CanvasRenderer","container","dim","type","suspendHandle","canvasRoot","canvasId","genUUID","canvasNamespace","isBrowser","style","MozUserSelect","userSelect","overflow","position","innerHTML","width","height","join","ownerDocument","getElementById","display","context","getContext","isNode","err","console","log","dashArray","prototype","extend","_drawPolygon","shape","degree","doFill","len","length","lineWidth","beginPath","moveTo","i","lineTo","bezierCurveTo","closePath","fill","stroke","_fill","el","save","_setColor","restore","_rotatePoint","angle","x","y","Math","cos","sin","_rotateShape","rv","push","updateGradientAngle","radians","f","co","si","bb","getBoundingBox","abs","x1","x2","y1","y2","c1","COORDS_BY_USER","board","c2","dx","scrCoords","dy","createLinearGradient","updateGradientCircle","cx","cy","r","fx","fy","fr","createRadialGradient","updateGradient","ev_g","evaluate","visProp","gradient","fillopacity","col","fillcolor","gradientangle","gradientcx","gradientcy","gradientr","gradientfx","gradientfy","gradientfr","addColorStop","gradientstartoffset","gradientendoffset","gradientsecondcolor","targetType","hasColor","ev","hl","_getHighlighted","grad","rgba","o","rgbo","rgba2rgbo","c","globalAlpha","oo","sw","parseFloat","isNaN","undefined","linecap","lineCap","_stroke","ev_dash","dash","setLineDash","lineDashArray","_translateShape","drawPoint","face","size","scr","coords","sqrt32","sqrt","s05","stroke05","strokewidth","visPropCalc","visible","lineJoin","arc","PI","fillRect","updatePoint","drawArrows","scr1","scr2","a","degree_fa","degree_la","ang2","ev_fa","evFirst","ev_la","evLast","strokecolor","elementClass","OBJECT_CLASS_LINE","ang1","atan2","points","last","d1x","d1y","d2x","d2y","w0","sizeFirst","w","type_fa","typeFirst","arrowTail","sizeLast","type_la","typeLast","arrowHead","drawLine","point1","usrCoords","point2","margin","arrowData","getArrowHeadData","calcStraight","handleTouchpoints","c1_org","c2_org","getPositionArrowHead","updateLine","drawTicks","updateTicks","ticks","j","len2","drawCurve","handdrawing","updatePathStringBezierPrim","updatePathStringPrim","numberPoints","updateCurve","drawEllipse","m1","center","m2","sX","unitX","sY","unitY","rX","Radius","rY","aWidth","aHeight","aX","aY","hB","vB","eX","eY","mX","mY","updateEllipse","displayCopyright","str","fontSize","font","fillStyle","fillText","drawInternalText","ev_fs","fontsize","fontUnit","fontunit","ev_ax","getAnchorX","ev_ay","getAnchorY","transformImage","transformations","textAlign","textBaseline","plaintext","updateInternalText","setObjectStrokeColor","color","opacity","visPropOld","strokeopacity","exists","node","rendNode","OBJECT_CLASS_TEXT","drawImage","Image","_src","updateImage","paintImg","bind","imgIsLoaded","updateImageURL","onload","t","ctx","m","joinTransforms","det","eps","transform","url","src","remove","parentNode","removeChild","nextSymb","symbm","min","bezierDegree","maxSize","symbl","symbc","isNoPlot","curvetype","options","curve","RDPsmoothing","RamerDouglasPeucker","k","lx","random","ly","updatePolygonPrim","vertices","isReal","elType","val","visibility","show","deprecated","hide","setGradient","setShadow","shadow","highlight","updateTextStyle","prepareUpdate","renderer","suspendRedraw","updateRenderer","unsuspendRedraw","noHighlight","clearRect","attr","showcopyright","licenseText","resize","h","setAttribute","scale","removeToInsertLater"]
}

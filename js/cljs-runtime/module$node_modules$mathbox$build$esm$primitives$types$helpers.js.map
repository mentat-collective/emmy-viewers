{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$helpers.js",
"lineCount":22,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/helpers.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$helpers\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Helpers = void 0;\n\nvar UGLSL = _interopRequireWildcard(require(\"../../util/glsl.js\"));\n\nvar UTicks = _interopRequireWildcard(require(\"../../util/ticks.js\"));\n\nvar _constants = require(\"three/src/constants.js\");\n\nvar _Vector = require(\"three/src/math/Vector2.js\");\n\nvar _Vector2 = require(\"three/src/math/Vector3.js\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS103: Rewrite code to no longer use __guard__, or convert again using --optional-chaining\n * DS104: Avoid inline assignments\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n\n/*\n\nThis is the general dumping ground for trait behavior.\n\nHelpers are auto-attached to primitives that have the matching trait\n\n*/\nconst helpers = {\n  bind: {\n    make(slots) {\n      if (this.bind == null) {\n        this.bind = {};\n      }\n\n      if (this.bound == null) {\n        this.bound = [];\n      } // Fetch attached objects and bind to them\n      // Attach rebuild watcher for DOM changes to bound nodes\n\n\n      for (const slot of Array.from(slots)) {\n        let {\n          callback\n        } = slot;\n        const {\n          to,\n          trait,\n          optional,\n          unique,\n          multiple\n        } = slot;\n\n        if (callback == null) {\n          callback = this.rebuild;\n        }\n\n        const name = to.split(/\\./g).pop();\n\n        const selector = this._get(to); // Find by selector\n\n\n        let source = null;\n\n        if (selector != null) {\n          let start = this;\n          let done = false;\n\n          while (!done) {\n            // Keep scanning back until a new node is found\n            start = source = this._attach(selector, trait, callback, this, start, optional, multiple);\n            const isUnique = unique && (source == null || this.bound.indexOf(source) < 0);\n            done = multiple || optional || !unique || isUnique;\n          }\n        } // Monitor source for reallocation / resize\n\n\n        if (source != null) {\n          if (this.resize != null) {\n            this._listen(source, \"source.resize\", this.resize);\n          }\n\n          if (callback) {\n            this._listen(source, \"source.rebuild\", callback);\n          }\n\n          if (multiple) {\n            for (const s of Array.from(source)) {\n              this.bound.push(s);\n            }\n          } else {\n            this.bound.push(source);\n          }\n        }\n\n        this.bind[name] = source;\n      }\n\n      return null;\n    },\n\n    unmake() {\n      if (!this.bind) {\n        return;\n      }\n\n      delete this.bind;\n      return delete this.bound;\n    }\n\n  },\n  span: {\n    make() {\n      // Look up nearest view to inherit from\n      // Monitor size changes\n      this.spanView = this._inherit(\"view\");\n      return this._listen(\"view\", \"view.range\", () => this.trigger({\n        type: \"span.range\"\n      }));\n    },\n\n    unmake() {\n      return delete this.spanView;\n    },\n\n    get: function () {\n      const def = new _Vector.Vector2(-1, 1);\n      return function (prefix, dimension) {\n        // Return literal range\n        let left;\n\n        const range = this._get(prefix + \"span.range\");\n\n        if (range != null) {\n          return range;\n        } // Inherit from view\n\n\n        return (left = this.spanView != null ? this.spanView.axis(dimension) : undefined) != null ? left : def;\n      };\n    }()\n  },\n  scale: {\n    // Divisions to allocate on scale\n    divide(prefix) {\n      const divide = this._get(prefix + \"scale.divide\");\n\n      const factor = this._get(prefix + \"scale.factor\");\n\n      return Math.round(divide * 2.5 / factor);\n    },\n\n    // Generate ticks on scale\n    generate(prefix, buffer, min, max) {\n      const mode = this._get(prefix + \"scale.mode\");\n\n      const divide = this._get(prefix + \"scale.divide\");\n\n      const unit = this._get(prefix + \"scale.unit\");\n\n      const base = this._get(prefix + \"scale.base\");\n\n      const factor = this._get(prefix + \"scale.factor\");\n\n      const start = this._get(prefix + \"scale.start\");\n\n      const end = this._get(prefix + \"scale.end\");\n\n      const zero = this._get(prefix + \"scale.zero\");\n\n      const nice = this._get(prefix + \"scale.nice\");\n\n      const ticks = UTicks.make(mode, min, max, divide, unit, base, factor, start, end, zero, nice);\n      buffer.copy(ticks);\n      return ticks;\n    }\n\n  },\n  style: {\n    // Return bound style uniforms\n    uniforms() {\n      return {\n        styleColor: this.node.attributes[\"style.color\"],\n        styleOpacity: this.node.attributes[\"style.opacity\"],\n        styleZBias: this.node.attributes[\"style.zBias\"],\n        styleZIndex: this.node.attributes[\"style.zIndex\"]\n      };\n    }\n\n  },\n  arrow: {\n    // Return bound arrow style uniforms\n    uniforms() {\n      const {\n        start\n      } = this.props;\n      const {\n        end\n      } = this.props;\n\n      const space = this._attributes.make(this._types.number(1.25 / (start + end)));\n\n      const style = this._attributes.make(this._types.vec2(+start, +end));\n\n      const size = this.node.attributes[\"arrow.size\"];\n      return {\n        clipStyle: style,\n        clipRange: size,\n        clipSpace: space,\n        arrowSpace: space,\n        arrowSize: size\n      };\n    }\n\n  },\n  point: {\n    // Return bound point style uniforms\n    uniforms() {\n      return {\n        pointSize: this.node.attributes[\"point.size\"],\n        pointDepth: this.node.attributes[\"point.depth\"]\n      };\n    }\n\n  },\n  line: {\n    // Return bound line style uniforms\n    uniforms() {\n      return {\n        lineWidth: this.node.attributes[\"line.width\"],\n        lineDepth: this.node.attributes[\"line.depth\"],\n        lineProximity: this.node.attributes[\"line.proximity\"]\n      };\n    }\n\n  },\n  surface: {\n    // Return bound surface style uniforms\n    uniforms() {\n      return {};\n    }\n\n  },\n  shade: {\n    pipeline(shader) {\n      if (!this._inherit(\"fragment\")) {\n        return shader;\n      }\n\n      if (shader == null) {\n        shader = this._shaders.shader();\n      }\n\n      for (let pass = 0; pass <= 2; pass++) {\n        shader = __guard__(this._inherit(\"fragment\"), x => x.fragment(shader, pass));\n      }\n\n      shader.pipe(\"fragment.map.rgba\");\n      return shader;\n    },\n\n    normal(shader) {\n      shader.pipe(UGLSL.swizzleVec4(\"xyz\"));\n      return shader;\n    },\n\n    map(shader) {\n      if (!shader) {\n        return shader;\n      }\n\n      return shader = this._shaders.shader().pipe(\"mesh.map.uvwo\").pipe(shader);\n    }\n\n  },\n  position: {\n    pipeline(shader) {\n      if (!this._inherit(\"vertex\")) {\n        return shader;\n      }\n\n      if (shader == null) {\n        shader = this._shaders.shader();\n      }\n\n      for (let pass = 0; pass <= 3; pass++) {\n        shader = __guard__(this._inherit(\"vertex\"), x => x.vertex(shader, pass));\n      }\n\n      return shader;\n    },\n\n    swizzle(shader, order) {\n      if (shader) {\n        return this._shaders.shader().pipe(UGLSL.swizzleVec4(order)).pipe(shader);\n      }\n    },\n\n    swizzle2(shader, order1, order2) {\n      if (shader) {\n        return this._shaders.shader().split().pipe(UGLSL.swizzleVec4(order1)).next().pipe(UGLSL.swizzleVec4(order2)).join().pipe(shader);\n      }\n    }\n\n  },\n  visible: {\n    make() {\n      const e = {\n        type: \"visible.change\"\n      };\n      let visible = null;\n\n      this.setVisible = function (vis) {\n        if (vis != null) {\n          visible = vis;\n        }\n\n        return onVisible();\n      };\n\n      const onVisible = () => {\n        let left;\n        const last = this.isVisible;\n        let self = (left = visible != null ? visible : this._get(\"object.visible\")) != null ? left : true;\n\n        if (visibleParent != null) {\n          if (self) {\n            self = visibleParent.isVisible;\n          }\n        }\n\n        this.isVisible = self;\n\n        if (last !== this.isVisible) {\n          return this.trigger(e);\n        }\n      };\n\n      const visibleParent = this._inherit(\"visible\");\n\n      if (visibleParent) {\n        this._listen(visibleParent, \"visible.change\", onVisible);\n      }\n\n      if (this.is(\"object\")) {\n        this._listen(this.node, \"change:object\", onVisible);\n      }\n\n      return onVisible();\n    },\n\n    unmake() {\n      return delete this.isVisible;\n    }\n\n  },\n  active: {\n    make() {\n      const e = {\n        type: \"active.change\"\n      };\n      let active = null;\n\n      this.setActive = function (act) {\n        if (act != null) {\n          active = act;\n        }\n\n        return onActive();\n      };\n\n      const onActive = () => {\n        let left;\n        const last = this.isActive;\n        let self = (left = active != null ? active : this._get(\"entity.active\")) != null ? left : true;\n\n        if (activeParent != null) {\n          if (self) {\n            self = activeParent.isActive;\n          }\n        }\n\n        this.isActive = self;\n\n        if (last !== this.isActive) {\n          return this.trigger(e);\n        }\n      };\n\n      const activeParent = this._inherit(\"active\");\n\n      if (activeParent) {\n        this._listen(activeParent, \"active.change\", onActive);\n      }\n\n      if (this.is(\"entity\")) {\n        this._listen(this.node, \"change:entity\", onActive);\n      }\n\n      return onActive();\n    },\n\n    unmake() {\n      return delete this.isActive;\n    }\n\n  },\n  object: {\n    // Generic 3D renderable wrapper, handles the fiddly Three.js bits that require a 'style recalculation'.\n    //\n    // Pass renderables to nearest root for rendering\n    // Track visibility from parent and notify children\n    // Track blends / transparency for three.js materials\n    make(objects) {\n      // Aggregate rendered three objects for reference\n      let blending, zOrder;\n\n      if (objects == null) {\n        objects = [];\n      }\n\n      this.objects = objects;\n      this.renders = this.objects.reduce((a, b) => a.concat(b.renders), []);\n\n      const objectScene = this._inherit(\"scene\");\n\n      let opacity = blending = zOrder = null;\n      const hasStyle = Array.from(this.traits).includes(\"style\");\n      opacity = 1;\n      blending = _constants.NormalBlending;\n      let zWrite = true;\n      let zTest = true;\n\n      if (hasStyle) {\n        ({\n          opacity\n        } = this.props);\n        ({\n          blending\n        } = this.props);\n        ({\n          zOrder\n        } = this.props);\n        ({\n          zWrite\n        } = this.props);\n        ({\n          zTest\n        } = this.props);\n      }\n\n      const onChange = event => {\n        const {\n          changed\n        } = event;\n        let refresh = null;\n\n        if (changed[\"style.opacity\"]) {\n          refresh = opacity = this.props.opacity;\n        }\n\n        if (changed[\"style.blending\"]) {\n          refresh = blending = this.props.blending;\n        }\n\n        if (changed[\"style.zOrder\"]) {\n          refresh = zOrder = this.props.zOrder;\n        }\n\n        if (changed[\"style.zWrite\"]) {\n          refresh = zWrite = this.props.zWrite;\n        }\n\n        if (changed[\"style.zTest\"]) {\n          refresh = zTest = this.props.zTest;\n        }\n\n        if (refresh != null) {\n          return onVisible();\n        }\n      };\n\n      const onVisible = () => {\n        const order = zOrder != null ? -zOrder : this.node.order;\n        const visible = (this.isVisible != null ? this.isVisible : true) && opacity > 0;\n\n        if (visible) {\n          if (hasStyle) {\n            return (() => {\n              const result = [];\n\n              for (const o of Array.from(this.objects)) {\n                o.show(opacity < 1, blending, order);\n                result.push(o.depth(zWrite, zTest));\n              }\n\n              return result;\n            })();\n          } else {\n            return (() => {\n              const result1 = [];\n\n              for (const o of Array.from(this.objects)) {\n                result1.push(o.show(true, blending, order));\n              }\n\n              return result1;\n            })();\n          }\n        } else {\n          return (() => {\n            const result2 = [];\n\n            for (const o of Array.from(this.objects)) {\n              result2.push(o.hide());\n            }\n\n            return result2;\n          })();\n        }\n      };\n\n      this._listen(this.node, \"change:style\", onChange);\n\n      this._listen(this.node, \"reindex\", onVisible);\n\n      this._listen(this, \"visible.change\", onVisible);\n\n      for (const object of Array.from(this.objects)) {\n        objectScene.adopt(object);\n      }\n\n      return onVisible();\n    },\n\n    unmake(dispose) {\n      let object;\n\n      if (dispose == null) {\n        dispose = true;\n      }\n\n      if (!this.objects) {\n        return;\n      }\n\n      const objectScene = this._inherit(\"scene\");\n\n      for (object of Array.from(this.objects)) {\n        objectScene.unadopt(object);\n      }\n\n      if (dispose) {\n        return (() => {\n          const result = [];\n\n          for (object of Array.from(this.objects)) {\n            result.push(object.dispose());\n          }\n\n          return result;\n        })();\n      }\n    },\n\n    mask() {\n      let mask, shader;\n\n      if (!(mask = this._inherit(\"mask\"))) {\n        return;\n      }\n\n      return shader = mask.mask(shader);\n    }\n\n  },\n  unit: {\n    make() {\n      let focusDepth, pixelRatio, pixelUnit, renderAspect, renderHeight, renderOdd, renderScale, renderScaleInv, renderWidth, viewHeight, viewWidth, worldUnit;\n      let \u03c0 = Math.PI;\n      this.unitUniforms = {\n        renderScaleInv: renderScaleInv = this._attributes.make(this._types.number(1)),\n        renderScale: renderScale = this._attributes.make(this._types.number(1)),\n        renderAspect: renderAspect = this._attributes.make(this._types.number(1)),\n        renderWidth: renderWidth = this._attributes.make(this._types.number(0)),\n        renderHeight: renderHeight = this._attributes.make(this._types.number(0)),\n        viewWidth: viewWidth = this._attributes.make(this._types.number(0)),\n        viewHeight: viewHeight = this._attributes.make(this._types.number(0)),\n        pixelRatio: pixelRatio = this._attributes.make(this._types.number(1)),\n        pixelUnit: pixelUnit = this._attributes.make(this._types.number(1)),\n        worldUnit: worldUnit = this._attributes.make(this._types.number(1)),\n        focusDepth: focusDepth = this._attributes.make(this._types.number(1)),\n        renderOdd: renderOdd = this._attributes.make(this._types.vec2())\n      };\n      const top = new _Vector2.Vector3();\n      const bottom = new _Vector2.Vector3();\n\n      const handler = () => {\n        let camera, size;\n\n        if ((size = root != null ? root.getSize() : undefined) == null) {\n          return;\n        }\n\n        \u03c0 = Math.PI;\n        const {\n          scale\n        } = this.props;\n        const {\n          fov\n        } = this.props;\n        const focus = this.props.focus != null ? this.props.focus : this.inherit(\"unit\").props.focus;\n        const isAbsolute = scale === null; // Measure live FOV to be able to accurately predict anti-aliasing in\n        // perspective\n\n        let measure = 1;\n\n        if (camera = root != null ? root.getCamera() : undefined) {\n          const m = camera.projectionMatrix; // Measure top to bottom\n\n          top.set(0, -0.5, 1).applyMatrix4(m);\n          bottom.set(0, 0.5, 1).applyMatrix4(m);\n          top.sub(bottom);\n          measure = top.y;\n        } // Calculate device pixel ratio\n\n\n        const dpr = size.renderHeight / size.viewHeight; // Calculate correction for fixed on-screen size regardless of FOV\n\n        const fovtan = fov != null ? measure * Math.tan(fov * \u03c0 / 360) : 1; // Calculate device pixels per virtual pixel\n\n        const pixel = isAbsolute ? dpr : size.renderHeight / scale * fovtan; // Calculate device pixels per world unit\n\n        const rscale = size.renderHeight * measure / 2; // Calculate world units per virtual pixel\n\n        const world = pixel / rscale;\n        viewWidth.value = size.viewWidth;\n        viewHeight.value = size.viewHeight;\n        renderWidth.value = size.renderWidth;\n        renderHeight.value = size.renderHeight;\n        renderAspect.value = size.aspect;\n        renderScale.value = rscale;\n        renderScaleInv.value = 1 / rscale;\n        pixelRatio.value = dpr;\n        pixelUnit.value = pixel;\n        worldUnit.value = world;\n        focusDepth.value = focus;\n        return renderOdd.value.set(size.renderWidth % 2, size.renderHeight % 2).multiplyScalar(0.5);\n      }; //console.log 'worldUnit', world, pixel, rscale, isAbsolute\n\n\n      const root = this.is(\"root\") ? this : this._inherit(\"root\"); //@_listen root, 'root.resize', handler\n      //@_listen root, 'root.camera', handler\n      //@_listen @node, 'change:unit', handler\n\n      this._listen(root, \"root.update\", handler);\n\n      return handler();\n    },\n\n    unmake() {\n      return delete this.unitUniforms;\n    },\n\n    get() {\n      const u = {};\n\n      for (const k in this.unitUniforms) {\n        const v = this.unitUniforms[k];\n        u[k] = v.value;\n      }\n\n      return u;\n    },\n\n    uniforms() {\n      return this.unitUniforms;\n    }\n\n  }\n};\n\nconst Helpers = function (object, traits) {\n  const h = {};\n\n  for (const trait of Array.from(traits)) {\n    let methods;\n\n    if (!(methods = helpers[trait])) {\n      continue;\n    }\n\n    h[trait] = {};\n\n    for (const key in methods) {\n      const method = methods[key];\n      h[trait][key] = method.bind(object);\n    }\n  }\n\n  return h;\n};\n\nexports.Helpers = Helpers;\n\nfunction __guard__(value, transform) {\n  return typeof value !== \"undefined\" && value !== null ? transform(value) : undefined;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","__guard__","value","transform","undefined","Helpers","UGLSL","UTicks","_constants","_Vector","_Vector2","helpers","bind","make","slots","bound","slot","Array","from","callback","to","trait","optional","unique","multiple","rebuild","name","split","pop","selector","_get","source","start","done","_attach","isUnique","indexOf","resize","_listen","s","push","unmake","span","spanView","_inherit","trigger","type","def","Vector2","prefix","dimension","left","range","axis","scale","divide","factor","Math","round","generate","buffer","min","max","mode","unit","base","end","zero","nice","ticks","copy","style","uniforms","styleColor","node","attributes","styleOpacity","styleZBias","styleZIndex","arrow","props","space","_attributes","_types","number","vec2","size","clipStyle","clipRange","clipSpace","arrowSpace","arrowSize","point","pointSize","pointDepth","line","lineWidth","lineDepth","lineProximity","surface","shade","pipeline","shader","_shaders","pass","x","fragment","pipe","normal","swizzleVec4","map","position","vertex","swizzle","order","swizzle2","order1","order2","next","join","visible","e","setVisible","this.setVisible","vis","onVisible","last","isVisible","self","visibleParent","is","active","setActive","this.setActive","act","onActive","isActive","activeParent","object","objects","blending","zOrder","renders","reduce","a","b","concat","objectScene","opacity","hasStyle","traits","includes","NormalBlending","zWrite","zTest","result","o","show","depth","result1","result2","hide","event","onChange","changed","refresh","adopt","dispose","unadopt","mask","focusDepth","pixelRatio","pixelUnit","renderAspect","renderHeight","renderOdd","renderScale","renderScaleInv","renderWidth","viewHeight","viewWidth","worldUnit","\u03c0","PI","unitUniforms","top","Vector3","bottom","handler","camera","root","getSize","fov","focus","inherit","isAbsolute","measure","getCamera","m","projectionMatrix","applyMatrix4","sub","y","dpr","fovtan","tan","pixel","rscale","aspect","multiplyScalar","u","k","v","h","methods","method"]
}

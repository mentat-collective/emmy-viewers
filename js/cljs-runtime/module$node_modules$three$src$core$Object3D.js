shadow$provide.module$node_modules$three$src$core$Object3D=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}Object.defineProperty(exports,"__esModule",{value:!0});exports.Object3D=void 0;var _Quaternion=require("module$node_modules$three$src$math$Quaternion"),
_Vector=require("module$node_modules$three$src$math$Vector3"),_Matrix=require("module$node_modules$three$src$math$Matrix4");global=require("module$node_modules$three$src$core$EventDispatcher");var _Euler=require("module$node_modules$three$src$math$Euler"),_Layers=require("module$node_modules$three$src$core$Layers"),_Matrix2=require("module$node_modules$three$src$math$Matrix3"),MathUtils=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&
"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=
obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$three$src$math$MathUtils"));let _object3DId=0;const _v1=new _Vector.Vector3,_q1=new _Quaternion.Quaternion,_m1=new _Matrix.Matrix4,_target=new _Vector.Vector3,_position=new _Vector.Vector3,_scale=new _Vector.Vector3,_quaternion=new _Quaternion.Quaternion,_xAxis=new _Vector.Vector3(1,0,0),_yAxis=new _Vector.Vector3(0,1,0),_zAxis=new _Vector.Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};
class Object3D extends global.EventDispatcher{constructor(){super();Object.defineProperty(this,"id",{value:_object3DId++});this.uuid=MathUtils.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Object3D.DefaultUp.clone();const position=new _Vector.Vector3,rotation=new _Euler.Euler,quaternion=new _Quaternion.Quaternion,scale=new _Vector.Vector3(1,1,1);rotation._onChange(function(){quaternion.setFromEuler(rotation,!1)});quaternion._onChange(function(){rotation.setFromQuaternion(quaternion,
void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:position},rotation:{configurable:!0,enumerable:!0,value:rotation},quaternion:{configurable:!0,enumerable:!0,value:quaternion},scale:{configurable:!0,enumerable:!0,value:scale},modelViewMatrix:{value:new _Matrix.Matrix4},normalMatrix:{value:new _Matrix2.Matrix3}});this.matrix=new _Matrix.Matrix4;this.matrixWorld=new _Matrix.Matrix4;this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=
!1;this.layers=new _Layers.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.animations=[];this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(matrix){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(q){this.quaternion.premultiply(q);return this}setRotationFromAxisAngle(axis,angle){this.quaternion.setFromAxisAngle(axis,angle)}setRotationFromEuler(euler){this.quaternion.setFromEuler(euler,
!0)}setRotationFromMatrix(m){this.quaternion.setFromRotationMatrix(m)}setRotationFromQuaternion(q){this.quaternion.copy(q)}rotateOnAxis(axis,angle){_q1.setFromAxisAngle(axis,angle);this.quaternion.multiply(_q1);return this}rotateOnWorldAxis(axis,angle){_q1.setFromAxisAngle(axis,angle);this.quaternion.premultiply(_q1);return this}rotateX(angle){return this.rotateOnAxis(_xAxis,angle)}rotateY(angle){return this.rotateOnAxis(_yAxis,angle)}rotateZ(angle){return this.rotateOnAxis(_zAxis,angle)}translateOnAxis(axis,
distance){_v1.copy(axis).applyQuaternion(this.quaternion);this.position.add(_v1.multiplyScalar(distance));return this}translateX(distance){return this.translateOnAxis(_xAxis,distance)}translateY(distance){return this.translateOnAxis(_yAxis,distance)}translateZ(distance){return this.translateOnAxis(_zAxis,distance)}localToWorld(vector){return vector.applyMatrix4(this.matrixWorld)}worldToLocal(vector){return vector.applyMatrix4(_m1.copy(this.matrixWorld).invert())}lookAt(x,y,z){x.isVector3?_target.copy(x):
_target.set(x,y,z);x=this.parent;this.updateWorldMatrix(!0,!1);_position.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?_m1.lookAt(_position,_target,this.up):_m1.lookAt(_target,_position,this.up);this.quaternion.setFromRotationMatrix(_m1);x&&(_m1.extractRotation(x.matrixWorld),_q1.setFromRotationMatrix(_m1),this.quaternion.premultiply(_q1.invert()))}add(object){if(1<arguments.length){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}if(object===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",
object),this;object&&object.isObject3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,this.children.push(object),object.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object);return this}remove(object){if(1<arguments.length){for(var i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}i=this.children.indexOf(object);-1!==i&&(object.parent=null,this.children.splice(i,1),object.dispatchEvent(_removedEvent));
return this}removeFromParent(){const parent=this.parent;null!==parent&&parent.remove(this);return this}clear(){for(let i=0;i<this.children.length;i++){const object=this.children[i];object.parent=null;object.dispatchEvent(_removedEvent)}this.children.length=0;return this}attach(object){this.updateWorldMatrix(!0,!1);_m1.copy(this.matrixWorld).invert();null!==object.parent&&(object.parent.updateWorldMatrix(!0,!1),_m1.multiply(object.parent.matrixWorld));object.applyMatrix4(_m1);this.add(object);object.updateWorldMatrix(!1,
!0);return this}getObjectById(id){return this.getObjectByProperty("id",id)}getObjectByName(name){return this.getObjectByProperty("name",name)}getObjectByProperty(name,value){if(this[name]===value)return this;for(let i=0,l=this.children.length;i<l;i++){const object=this.children[i].getObjectByProperty(name,value);if(void 0!==object)return object}}getWorldPosition(target){this.updateWorldMatrix(!0,!1);return target.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(target){this.updateWorldMatrix(!0,
!1);this.matrixWorld.decompose(_position,target,_scale);return target}getWorldScale(target){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(_position,_quaternion,target);return target}getWorldDirection(target){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return target.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(callback){callback(this);const children=this.children;for(let i=0,l=children.length;i<l;i++)children[i].traverse(callback)}traverseVisible(callback){if(!1!==
this.visible){callback(this);var children=this.children;for(let i=0,l=children.length;i<l;i++)children[i].traverseVisible(callback)}}traverseAncestors(callback){const parent=this.parent;null!==parent&&(callback(parent),parent.traverseAncestors(callback))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(force){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||force)null===this.parent?this.matrixWorld.copy(this.matrix):
this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,force=!0;const children=this.children;for(let i=0,l=children.length;i<l;i++)children[i].updateMatrixWorld(force)}updateWorldMatrix(updateParents,updateChildren){const parent=this.parent;!0===updateParents&&null!==parent&&parent.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix);if(!0===updateChildren){updateParents=this.children;for(let i=0,l=updateParents.length;i<l;i++)updateParents[i].updateWorldMatrix(!1,!0)}}toJSON(meta){function serialize(library,element){void 0===library[element.uuid]&&(library[element.uuid]=element.toJSON(meta));return element.uuid}function extractFromCache(cache){const values=[];for(const key in cache){const data=cache[key];delete data.metadata;values.push(data)}return values}var isRootObject=void 0===meta||"string"===typeof meta;const output=
{};isRootObject&&(meta={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},output.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const object={};object.uuid=this.uuid;object.type=this.type;""!==this.name&&(object.name=this.name);!0===this.castShadow&&(object.castShadow=!0);!0===this.receiveShadow&&(object.receiveShadow=!0);!1===this.visible&&(object.visible=!1);!1===this.frustumCulled&&(object.frustumCulled=!1);0!==this.renderOrder&&(object.renderOrder=
this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData);object.layers=this.layers.mask;object.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(object.matrixAutoUpdate=!1);this.isInstancedMesh&&(object.type="InstancedMesh",object.count=this.count,object.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(object.instanceColor=this.instanceColor.toJSON()));if(this.isScene)this.background&&(this.background.isColor?object.background=this.background.toJSON():
this.background.isTexture&&(object.background=this.background.toJSON(meta).uuid)),this.environment&&this.environment.isTexture&&(object.environment=this.environment.toJSON(meta).uuid);else if(this.isMesh||this.isLine||this.isPoints){object.geometry=serialize(meta.geometries,this.geometry);var parameters=this.geometry.parameters;if(void 0!==parameters&&void 0!==parameters.shapes)if(parameters=parameters.shapes,Array.isArray(parameters))for(let i=0,l=parameters.length;i<l;i++)serialize(meta.shapes,
parameters[i]);else serialize(meta.shapes,parameters)}this.isSkinnedMesh&&(object.bindMode=this.bindMode,object.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(serialize(meta.skeletons,this.skeleton),object.skeleton=this.skeleton.uuid));if(void 0!==this.material)if(Array.isArray(this.material)){parameters=[];for(let i=0,l=this.material.length;i<l;i++)parameters.push(serialize(meta.materials,this.material[i]));object.material=parameters}else object.material=serialize(meta.materials,this.material);
if(0<this.children.length)for(object.children=[],parameters=0;parameters<this.children.length;parameters++)object.children.push(this.children[parameters].toJSON(meta).object);if(0<this.animations.length)for(object.animations=[],parameters=0;parameters<this.animations.length;parameters++)object.animations.push(serialize(meta.animations,this.animations[parameters]));if(isRootObject){isRootObject=extractFromCache(meta.geometries);parameters=extractFromCache(meta.materials);const textures=extractFromCache(meta.textures),
images=extractFromCache(meta.images),shapes=extractFromCache(meta.shapes),skeletons=extractFromCache(meta.skeletons),animations=extractFromCache(meta.animations);0<isRootObject.length&&(output.geometries=isRootObject);0<parameters.length&&(output.materials=parameters);0<textures.length&&(output.textures=textures);0<images.length&&(output.images=images);0<shapes.length&&(output.shapes=shapes);0<skeletons.length&&(output.skeletons=skeletons);0<animations.length&&(output.animations=animations)}output.object=
object;return output}clone(recursive){return(new this.constructor).copy(this,recursive)}copy(source,recursive=!0){this.name=source.name;this.up.copy(source.up);this.position.copy(source.position);this.rotation.order=source.rotation.order;this.quaternion.copy(source.quaternion);this.scale.copy(source.scale);this.matrix.copy(source.matrix);this.matrixWorld.copy(source.matrixWorld);this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate;this.layers.mask=
source.layers.mask;this.visible=source.visible;this.castShadow=source.castShadow;this.receiveShadow=source.receiveShadow;this.frustumCulled=source.frustumCulled;this.renderOrder=source.renderOrder;this.userData=JSON.parse(JSON.stringify(source.userData));if(!0===recursive)for(recursive=0;recursive<source.children.length;recursive++)this.add(source.children[recursive].clone());return this}}exports.Object3D=Object3D;Object3D.DefaultUp=new _Vector.Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.prototype.isObject3D=
!0}
//# sourceMappingURL=module$node_modules$three$src$core$Object3D.js.map

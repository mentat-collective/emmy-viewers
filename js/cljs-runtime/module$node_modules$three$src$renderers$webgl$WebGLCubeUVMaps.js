shadow$provide.module$node_modules$three$src$renderers$webgl$WebGLCubeUVMaps=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.WebGLCubeUVMaps=function(renderer){function onTextureDispose(event){event=event.target;event.removeEventListener("dispose",onTextureDispose);const cubemapUV=cubeUVmaps.get(event);void 0!==cubemapUV&&(cubeUVmaps.delete(event),cubemapUV.dispose())}let cubeUVmaps=new WeakMap,pmremGenerator=null;return{get:function(texture){if(texture&&
texture.isTexture){var mapping=texture.mapping,isEquirectMap=mapping===_constants.EquirectangularReflectionMapping||mapping===_constants.EquirectangularRefractionMapping,isCubeMap=mapping===_constants.CubeReflectionMapping||mapping===_constants.CubeRefractionMapping;if(isEquirectMap||isCubeMap){if(texture.isRenderTargetTexture&&!0===texture.needsPMREMUpdate)return texture.needsPMREMUpdate=!1,mapping=cubeUVmaps.get(texture),null===pmremGenerator&&(pmremGenerator=new _PMREMGenerator.PMREMGenerator(renderer)),
mapping=isEquirectMap?pmremGenerator.fromEquirectangular(texture,mapping):pmremGenerator.fromCubemap(texture,mapping),cubeUVmaps.set(texture,mapping),mapping.texture;if(cubeUVmaps.has(texture))return cubeUVmaps.get(texture).texture;mapping=texture.image;var JSCompiler_temp;if(!(JSCompiler_temp=isEquirectMap&&mapping&&0<mapping.height)&&(JSCompiler_temp=isCubeMap&&mapping)){JSCompiler_temp=0;for(isCubeMap=0;6>isCubeMap;isCubeMap++)void 0!==mapping[isCubeMap]&&JSCompiler_temp++;JSCompiler_temp=6===
JSCompiler_temp}return JSCompiler_temp?(null===pmremGenerator&&(pmremGenerator=new _PMREMGenerator.PMREMGenerator(renderer)),isEquirectMap=isEquirectMap?pmremGenerator.fromEquirectangular(texture):pmremGenerator.fromCubemap(texture),cubeUVmaps.set(texture,isEquirectMap),texture.addEventListener("dispose",onTextureDispose),isEquirectMap.texture):null}}return texture},dispose:function(){cubeUVmaps=new WeakMap;null!==pmremGenerator&&(pmremGenerator.dispose(),pmremGenerator=null)}}};var _constants=require("module$node_modules$three$src$constants"),
_PMREMGenerator=require("module$node_modules$three$src$extras$PMREMGenerator")}
//# sourceMappingURL=module$node_modules$three$src$renderers$webgl$WebGLCubeUVMaps.js.map

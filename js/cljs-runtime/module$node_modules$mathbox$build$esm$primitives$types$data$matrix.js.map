{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$data$matrix.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/data/matrix.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$data$matrix\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Matrix = void 0;\n\nvar UData = _interopRequireWildcard(require(\"../../../util/data.js\"));\n\nvar _buffer = require(\"./buffer.js\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Matrix extends _buffer.Buffer {\n  static initClass() {\n    this.traits = [\"node\", \"buffer\", \"active\", \"data\", \"source\", \"index\", \"texture\", \"matrix\", \"raw\"];\n  }\n\n  init() {\n    this.buffer = this.spec = null;\n    this.space = {\n      width: 0,\n      height: 0,\n      history: 0\n    };\n    this.used = {\n      width: 0,\n      height: 0\n    };\n    this.storage = \"matrixBuffer\";\n\n    this.passthrough = (emit, x, y) => emit(x, y, 0, 0);\n\n    return super.init();\n  }\n\n  sourceShader(shader) {\n    const dims = this.getDimensions();\n    this.alignShader(dims, shader);\n    return this.buffer.shader(shader);\n  }\n\n  getDimensions() {\n    return {\n      items: this.items,\n      width: this.space.width,\n      height: this.space.height,\n      depth: this.space.history\n    };\n  }\n\n  getActiveDimensions() {\n    return {\n      items: this.items,\n      width: this.used.width,\n      height: this.used.height,\n      depth: this.buffer.getFilled()\n    };\n  }\n\n  getFutureDimensions() {\n    return {\n      items: this.items,\n      width: this.used.width,\n      height: this.used.height,\n      depth: this.space.history\n    };\n  }\n\n  getRawDimensions() {\n    return {\n      items: this.items,\n      width: this.space.width,\n      height: this.space.height,\n      depth: 1\n    };\n  }\n\n  make() {\n    super.make(); // Read sampling parameters\n\n    const minFilter = this.minFilter != null ? this.minFilter : this.props.minFilter;\n    const magFilter = this.magFilter != null ? this.magFilter : this.props.magFilter;\n    const type = this.type != null ? this.type : this.props.type; // Read given dimensions\n\n    const {\n      width\n    } = this.props;\n    const {\n      height\n    } = this.props;\n    const {\n      history\n    } = this.props;\n    const reserveX = this.props.bufferWidth;\n    const reserveY = this.props.bufferHeight;\n    const {\n      channels\n    } = this.props;\n    const {\n      items\n    } = this.props;\n    let dims = this.spec = {\n      channels,\n      items,\n      width,\n      height\n    };\n    this.items = dims.items;\n    this.channels = dims.channels; // Init to right size if data supplied\n\n    const {\n      data\n    } = this.props;\n    dims = UData.getDimensions(data, dims);\n    const {\n      space\n    } = this;\n    space.width = Math.max(reserveX, dims.width || 1);\n    space.height = Math.max(reserveY, dims.height || 1);\n    space.history = history; // Create matrix buffer\n\n    return this.buffer = this._renderables.make(this.storage, {\n      width: space.width,\n      height: space.height,\n      history: space.history,\n      channels,\n      items,\n      minFilter,\n      magFilter,\n      type\n    });\n  }\n\n  unmake() {\n    super.unmake();\n\n    if (this.buffer) {\n      this.buffer.dispose();\n      return this.buffer = this.spec = null;\n    }\n  }\n\n  change(changed, touched, init) {\n    if (touched[\"texture\"] || changed[\"matrix.history\"] || changed[\"buffer.channels\"] || changed[\"buffer.items\"] || changed[\"matrix.bufferWidth\"] || changed[\"matrix.bufferHeight\"]) {\n      return this.rebuild();\n    }\n\n    if (!this.buffer) {\n      return;\n    }\n\n    if (changed[\"matrix.width\"]) {\n      const {\n        width,\n        bufferWidth\n      } = this.props;\n      this.spec.width = width;\n\n      if (width > bufferWidth) {\n        return this.rebuild();\n      }\n    }\n\n    if (changed[\"matrix.height\"]) {\n      const {\n        height,\n        bufferHeight\n      } = this.props;\n      this.spec.height = height;\n\n      if (height > bufferHeight) {\n        return this.rebuild();\n      }\n    }\n\n    if (changed[\"data.map\"] || changed[\"data.data\"] || changed[\"data.resolve\"] || changed[\"data.expr\"] || init) {\n      return this.buffer.setCallback(this.emitter());\n    }\n  }\n\n  callback(callback) {\n    if (callback.length <= 3) {\n      return callback;\n    } else {\n      return (emit, i, j) => {\n        return callback(emit, i, j, this.bufferClock, this.bufferStep);\n      };\n    }\n  }\n\n  update() {\n    if (!this.buffer) {\n      return;\n    }\n\n    const {\n      data\n    } = this.props;\n    const {\n      space,\n      used\n    } = this;\n    const w = used.width;\n    const h = used.height;\n    const filled = this.buffer.getFilled();\n    this.syncBuffer(abort => {\n      if (data != null) {\n        const dims = UData.getDimensions(data, this.spec); // Grow if needed\n\n        if (dims.width > space.width || dims.height > space.height) {\n          abort();\n          return this.rebuild();\n        }\n\n        used.width = dims.width;\n        used.height = dims.height;\n        this.buffer.setActive(used.width, used.height);\n\n        if (typeof this.buffer.callback.rebind === \"function\") {\n          this.buffer.callback.rebind(data);\n        }\n\n        return this.buffer.update();\n      } else {\n        let _w;\n\n        const width = this.spec.width || 1;\n        const height = this.spec.height || 1;\n        this.buffer.setActive(width, height);\n        const length = this.buffer.update();\n        used.width = _w = width;\n        used.height = Math.min(height, Math.ceil(length / _w));\n\n        if (used.height === 1) {\n          used.width = Math.min(width, length);\n        }\n      }\n    });\n\n    if (used.width !== w || used.height !== h || filled !== this.buffer.getFilled()) {\n      return this.trigger({\n        type: \"source.resize\"\n      });\n    }\n  }\n\n}\n\nexports.Matrix = Matrix;\nMatrix.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","Object","defineProperty","value","Matrix","UData","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_buffer","Buffer","initClass","traits","init","buffer","spec","space","width","height","history","used","storage","passthrough","emit","x","y","this.passthrough","sourceShader","shader","dims","getDimensions","alignShader","items","depth","getActiveDimensions","getFilled","getFutureDimensions","getRawDimensions","make","minFilter","props","magFilter","type","reserveX","bufferWidth","reserveY","bufferHeight","channels","data","Math","max","_renderables","unmake","dispose","change","changed","touched","rebuild","setCallback","emitter","callback","length","i","j","bufferClock","bufferStep","update","w","h","filled","syncBuffer","abort","setActive","rebind","min","ceil","trigger"]
}

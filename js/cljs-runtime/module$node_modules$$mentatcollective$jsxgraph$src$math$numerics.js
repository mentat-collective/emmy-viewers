shadow$provide.module$node_modules$$mentatcollective$jsxgraph$src$math$numerics=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _jxg=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$jxg")),_type=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$type")),_env=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$env")),
_math=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$math")),predefinedButcher={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};_math.default.Numerics={Gauss:function(A,b){var k,eps=_math.default.eps,n=0<A.length?A[0].length:0;if(n!==b.length||n!==A.length)throw Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");
var Acopy=[];var x=b.slice(0,n);for(b=0;b<n;b++)Acopy[b]=A[b].slice(0,n);for(A=0;A<n;A++){for(b=n-1;b>A;b--)if(Math.abs(Acopy[b][A])>eps)if(Math.abs(Acopy[A][A])<eps)_type.default.swap(Acopy,b,A),_type.default.swap(x,b,A);else for(Acopy[b][A]/=Acopy[A][A],x[b]-=Acopy[b][A]*x[A],k=A+1;k<n;k++)Acopy[b][k]-=Acopy[b][A]*Acopy[A][k];if(Math.abs(Acopy[A][A])<eps)throw Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.");}this.backwardSolve(Acopy,x,!0);return x},backwardSolve:function(R,
b,canModify){var j;b=canModify?b:b.slice(0,b.length);var m=R.length;canModify=0<R.length?R[0].length:0;for(--m;0<=m;m--){for(j=canModify-1;j>m;j--)b[m]-=R[m][j]*b[j];b[m]/=R[m][m]}return b},gaussBareiss:function(mat){var c,i,j,eps=_math.default.eps;var n=mat.length;if(0>=n)return 0;mat[0].length<n&&(n=mat[0].length);var M=[];for(i=0;i<n;i++)M[i]=mat[i].slice(0,n);var s=c=1;for(mat=0;mat<n-1;mat++){var p=M[mat][mat];if(Math.abs(p)<eps){for(i=mat+1;i<n&&!(Math.abs(M[i][mat])>=eps);i++);if(i===n)return 0;
for(j=mat;j<n;j++){var t=M[i][j];M[i][j]=M[mat][j];M[mat][j]=t}s=-s;p=M[mat][mat]}for(i=mat+1;i<n;i++)for(j=mat+1;j<n;j++)t=p*M[i][j]-M[i][mat]*M[mat][j],M[i][j]=t/c;c=p}return s*M[n-1][n-1]},det:function(mat){return 2===mat.length&&2===mat[0].length?mat[0][0]*mat[1][1]-mat[1][0]*mat[0][1]:this.gaussBareiss(mat)},Jacobi:function(Ain){var i,j,ssum,eps=_math.default.eps*_math.default.eps,sum=0,n=Ain.length,V=[[0,0,0],[0,0,0],[0,0,0]],A=[[0,0,0],[0,0,0],[0,0,0]],nloops=0;for(i=0;i<n;i++){for(j=0;j<n;j++)V[i][j]=
0,A[i][j]=Ain[i][j],sum+=Math.abs(A[i][j]);V[i][i]=1}if(1===n||0>=sum)return[A,V];sum/=n*n;do{var amax=ssum=0;for(j=1;j<n;j++)for(i=0;i<j;i++){var k=Math.abs(A[i][j]);k>amax&&(amax=k);ssum+=k;if(k>=eps){k=.5*Math.atan2(2*A[i][j],A[i][i]-A[j][j]);Ain=Math.sin(k);var co=Math.cos(k);for(k=0;k<n;k++){var tt=A[k][i];A[k][i]=co*tt+Ain*A[k][j];A[k][j]=-Ain*tt+co*A[k][j];tt=V[k][i];V[k][i]=co*tt+Ain*V[k][j];V[k][j]=-Ain*tt+co*V[k][j]}A[i][i]=co*A[i][i]+Ain*A[j][i];A[j][j]=-Ain*A[i][j]+co*A[j][j];for(k=A[i][j]=
0;k<n;k++)A[i][k]=A[k][i],A[j][k]=A[k][j]}}nloops+=1}while(Math.abs(ssum)/sum>eps&&2E3>nloops);return[A,V]},NewtonCotes:function(interval,f,config){var i;var number_of_intervals=config&&_type.default.isNumber(config.number_of_nodes)?config.number_of_nodes:28;var evaluation_point={trapez:!0,simpson:!0,milne:!0};evaluation_point=config&&config.integration_type&&evaluation_point.hasOwnProperty(config.integration_type)&&evaluation_point[config.integration_type]?config.integration_type:"milne";config=
(interval[1]-interval[0])/number_of_intervals;switch(evaluation_point){case "trapez":var integral_value=.5*(f(interval[0])+f(interval[1]));evaluation_point=interval[0];for(i=0;i<number_of_intervals-1;i++)evaluation_point+=config,integral_value+=f(evaluation_point);integral_value*=config;break;case "simpson":if(0<number_of_intervals%2)throw Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");number_of_intervals/=2;integral_value=f(interval[0])+f(interval[1]);evaluation_point=
interval[0];for(i=0;i<number_of_intervals-1;i++)evaluation_point+=2*config,integral_value+=2*f(evaluation_point);evaluation_point=interval[0]-config;for(i=0;i<number_of_intervals;i++)evaluation_point+=2*config,integral_value+=4*f(evaluation_point);integral_value*=config/3;break;default:if(0<number_of_intervals%4)throw Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");number_of_intervals*=.25;integral_value=7*(f(interval[0])+f(interval[1]));evaluation_point=interval[0];
for(i=0;i<number_of_intervals-1;i++)evaluation_point+=4*config,integral_value+=14*f(evaluation_point);evaluation_point=interval[0]-3*config;for(i=0;i<number_of_intervals;i++)evaluation_point+=4*config,integral_value+=32*(f(evaluation_point)+f(evaluation_point+2*config));evaluation_point=interval[0]-2*config;for(i=0;i<number_of_intervals;i++)evaluation_point+=4*config,integral_value+=12*f(evaluation_point);integral_value*=2*config/45}return integral_value},Romberg:function(interval,f,config){var i,
q,p=[];var s=0;var last=Infinity,m=config&&_type.default.isNumber(config.max_iterations)?config.max_iterations:20,eps=config&&_type.default.isNumber(config.eps)?config.eps:config.eps||1E-7;config=interval[0];var b=interval[1];interval=b-config;var n=1;p[0]=.5*interval*(f(config)+f(b));for(b=0;b<m;++b){s=0;interval*=.5;n*=2;for(i=q=1;i<n;i+=2)s+=f(config+i*interval);p[b+1]=.5*p[b]+s*interval;s=p[b+1];for(i=b-1;0<=i;--i)q*=4,p[i]=p[i+1]+(p[i+1]-p[i])/(q-1),s=p[i];if(Math.abs(s-last)<eps*Math.abs(s))break;
last=s}return s},GaussLegendre:function(interval,f,config){var table_xi=[];var xm=[];config=config&&_type.default.isNumber(config.n)?config.n:12;18<config&&(config=18);table_xi[2]=[.5773502691896257];xm[2]=[1];table_xi[4]=[.33998104358485626,.8611363115940526];xm[4]=[.6521451548625461,.34785484513745385];table_xi[6]=[.2386191860831969,.6612093864662645,.932469514203152];xm[6]=[.46791393457269104,.3607615730481386,.17132449237917036];table_xi[8]=[.1834346424956498,.525532409916329,.7966664774136267,
.9602898564975363];xm[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626];table_xi[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717];xm[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814];table_xi[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192];xm[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,
.10693932599531843,.04717533638651183];table_xi[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123];xm[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186];table_xi[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499];xm[16]=[.1894506104550685,
.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096];table_xi[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309];xm[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331];table_xi[3]=
[0,.7745966692414834];xm[3]=[.8888888888888888,.5555555555555556];table_xi[5]=[0,.5384693101056831,.906179845938664];xm[5]=[.5688888888888889,.47862867049936647,.23692688505618908];table_xi[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585];xm[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697];table_xi[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261];xm[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,
.08127438836157441];table_xi[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057];xm[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366];table_xi[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881];xm[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588];
table_xi[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854];xm[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727];table_xi[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174];xm[17]=[.17944647035620653,.17656270536699264,
.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793];var a=interval[0];var b=interval[1];interval=config+1>>1;table_xi=table_xi[config];var w=xm[config];xm=.5*(b-a);a=.5*(b+a);config&1?(b=w[0]*f(a),config=1):config=b=0;for(;config<interval;++config)b+=w[config]*(f(a+xm*table_xi[config])+f(a-xm*table_xi[config]));return xm*b},_rescale_error:function(err,result_abs,result_asc){err=Math.abs(err);0!==result_asc&&0!==err&&
(err=Math.pow(200*err/result_asc,1.5),err=1>err?result_asc*err:result_asc);2.0041683600089728E-294<result_abs&&(result_abs*=1.1102230246251565E-14,result_abs>err&&(err=result_abs));return err},_gaussKronrod:function(interval,f,n,xgk,wg,wgk,resultObj){var a=interval[0];interval=interval[1];var center=.5*(a+interval);a=.5*(interval-a);var abs_half_length=Math.abs(a),f_center=f(center);interval=0;var result_kronrod=f_center*wgk[n-1],result_abs=Math.abs(result_kronrod),j,fv1=[],fv2=[];0===n%2&&(interval=
f_center*wg[n/2-1]);var up=Math.floor((n-1)/2);for(j=0;j<up;j++){var jtw=2*j+1;var abscissa=a*xgk[jtw];var fval1=f(center-abscissa);abscissa=f(center+abscissa);var fsum=fval1+abscissa;fv1[jtw]=fval1;fv2[jtw]=abscissa;interval+=wg[j]*fsum;result_kronrod+=wgk[jtw]*fsum;result_abs+=wgk[jtw]*(Math.abs(fval1)+Math.abs(abscissa))}up=Math.floor(n/2);for(j=0;j<up;j++)wg=2*j,abscissa=a*xgk[wg],fval1=f(center-abscissa),abscissa=f(center+abscissa),fv1[wg]=fval1,fv2[wg]=abscissa,result_kronrod+=wgk[wg]*(fval1+
abscissa),result_abs+=wgk[wg]*(Math.abs(fval1)+Math.abs(abscissa));xgk=.5*result_kronrod;f=wgk[n-1]*Math.abs(f_center-xgk);for(j=0;j<n-1;j++)f+=wgk[j]*(Math.abs(fv1[j]-xgk)+Math.abs(fv2[j]-xgk));result_abs*=abs_half_length;f*=abs_half_length;n=result_kronrod*a;resultObj.abserr=this._rescale_error((result_kronrod-interval)*a,result_abs,f);resultObj.resabs=result_abs;resultObj.resasc=f;return n},GaussKronrod15:function(interval,f,resultObj){return this._gaussKronrod(interval,f,8,[.9914553711208126,
.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782],resultObj)},GaussKronrod21:function(interval,f,resultObj){return this._gaussKronrod(interval,f,11,[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,
.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169],resultObj)},GaussKronrod31:function(interval,f,resultObj){return this._gaussKronrod(interval,
f,16,[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,
.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154],resultObj)},_workspace:function(interval,n){return{limit:n,size:0,nrmax:0,i:0,alist:[interval[0]],blist:[interval[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var last=this.size-1,limit=this.limit,errmax,i_nrmax=this.nrmax,i_maxerr=this.order[i_nrmax];if(2>
last)this.order[0]=0,this.order[1]=1,this.i=i_maxerr;else{for(errmax=this.elist[i_maxerr];0<i_nrmax&&errmax>this.elist[this.order[i_nrmax-1]];)this.order[i_nrmax]=this.order[i_nrmax-1],i_nrmax--;var k=last<limit/2+2?last:limit-last+1;for(limit=i_nrmax+1;limit<k&&errmax<this.elist[this.order[limit]];)this.order[limit-1]=this.order[limit],limit++;this.order[limit-1]=i_maxerr;errmax=this.elist[last];for(--k;k>limit-2&&errmax>=this.elist[this.order[k]];)this.order[k+1]=this.order[k],k--;this.order[k+
1]=last;this.i=i_maxerr=this.order[i_nrmax];this.nrmax=i_nrmax}},set_initial_result:function(result,error){this.size=1;this.rlist[0]=result;this.elist[0]=error},update:function(a1,b1,area1,error1,a2,b2,area2,error2){var i_max=this.i,i_new=this.size,new_level=this.level[this.i]+1;error2>error1?(this.alist[i_max]=a2,this.rlist[i_max]=area2,this.elist[i_max]=error2,this.level[i_max]=new_level,this.alist[i_new]=a1,this.blist[i_new]=b1,this.rlist[i_new]=area1,this.elist[i_new]=error1):(this.blist[i_max]=
b1,this.rlist[i_max]=area1,this.elist[i_max]=error1,this.level[i_max]=new_level,this.alist[i_new]=a2,this.blist[i_new]=b2,this.rlist[i_new]=area2,this.elist[i_new]=error2);this.level[i_new]=new_level;this.size++;new_level>this.maximum_level&&(this.maximum_level=new_level);this.qpsrt()},retrieve:function(){var i=this.i;return{a:this.alist[i],b:this.blist[i],r:this.rlist[i],e:this.elist[i]}},sum_results:function(){var nn=this.size,k,result_sum=0;for(k=0;k<nn;k++)result_sum+=this.rlist[k];return result_sum},
subinterval_too_small:function(a1,a2,b2){a2=1.0000000000000222*(Math.abs(a2)+2.2250738585072014E-305);return Math.abs(a1)<=a2&&Math.abs(b2)<=a2}}},Qag:function(interval,f,config){var ws=this._workspace(interval,1E3),limit=config&&_type.default.isNumber(config.limit)?config.limit:15,epsrel=config&&_type.default.isNumber(config.epsrel)?config.epsrel:1E-7,epsabs=config&&_type.default.isNumber(config.epsabs)?config.epsabs:1E-7;config=config&&_type.default.isFunction(config.q)?config.q:this.GaussKronrod15;
var resultObj={},roundoff_type1=0,roundoff_type2=0,error_type=0;limit>ws.limit&&_jxg.default.warn("iteration limit exceeds available workspace");0>=epsabs&&(epsrel<50*_math.default.eps||5E-29>epsrel)&&_jxg.default.warn("tolerance cannot be acheived with given epsabs and epsrel");interval=config.apply(this,[interval,f,resultObj]);var errsum=resultObj.abserr;var resabs0=resultObj.resabs;var resasc0=resultObj.resasc;ws.set_initial_result(interval,errsum);var tolerance=Math.max(epsabs,epsrel*Math.abs(interval));
if(errsum<=1.1102230246251565E-14*resabs0&&errsum>tolerance)return _jxg.default.warn("cannot reach tolerance because of roundoff error on first attempt"),-Infinity;if(errsum<=tolerance&&errsum!==resasc0||0===errsum)return interval;if(1===limit)return _jxg.default.warn("a maximum of one iteration was insufficient"),-Infinity;resabs0=1;do{resasc0=ws.retrieve();var b1=resasc0.a;var b2=resasc0.b;tolerance=resasc0.r;var e_i=resasc0.e;resasc0=b1;var a2=b1=.5*(b1+b2);var area1=config.apply(this,[[resasc0,
b1],f,resultObj]);var error1=resultObj.abserr;var resasc1=resultObj.resasc;var area2=config.apply(this,[[a2,b2],f,resultObj]);var error2=resultObj.abserr;var resasc2=resultObj.resasc;var area12=area1+area2;var error12=error1+error2;errsum+=error12-e_i;interval+=area12-tolerance;resasc1!==error1&&resasc2!==error2&&(tolerance-=area12,Math.abs(tolerance)<=1E-5*Math.abs(area12)&&error12>=.99*e_i&&roundoff_type1++,10<=resabs0&&error12>e_i&&roundoff_type2++);tolerance=Math.max(epsabs,epsrel*Math.abs(interval));
if(errsum>tolerance){if(6<=roundoff_type1||20<=roundoff_type2)error_type=2;ws.subinterval_too_small(resasc0,a2,b2)&&(error_type=3)}ws.update(resasc0,b1,area1,error1,a2,b2,area2,error2);ws.retrieve();resabs0++}while(resabs0<limit&&!error_type&&errsum>tolerance);return ws.sum_results()},I:function(interval,f){return this.Qag(interval,f,{q:this.GaussKronrod15,limit:15,epsrel:1E-7,epsabs:1E-7})},Newton:function(f,x,context){var i=0,h=_math.default.eps,newf=f.apply(context,[x]);for(_type.default.isArray(x)&&
(x=x[0]);50>i&&Math.abs(newf)>h;){var df=this.D(f,context)(x);x=Math.abs(df)>h?x-newf/df:x+(.2*Math.random()-1);newf=f.apply(context,[x]);i+=1}return x},root:function(f,x,context){return this.chandrupatla(f,x,context)},generalizedNewton:function(c1,c2,t1ini,t2ini){var D11,count=0;this.generalizedNewton.t1memo&&(t1ini=this.generalizedNewton.t1memo,t2ini=this.generalizedNewton.t2memo);var e=c1.X(t1ini)-c2.X(t2ini);var f=c1.Y(t1ini)-c2.Y(t2ini);var a=e*e+f*f;var D00=this.D(c1.X,c1);var D01=this.D(c2.X,
c2);var D10=this.D(c1.Y,c1);for(D11=this.D(c2.Y,c2);a>_math.default.eps&&10>count;){a=D00(t1ini);var b=-D01(t2ini);var c=D10(t1ini);var d=-D11(t2ini);var disc=a*d-b*c;t1ini-=(d*e-b*f)/disc;t2ini-=(a*f-c*e)/disc;e=c1.X(t1ini)-c2.X(t2ini);f=c1.Y(t1ini)-c2.Y(t2ini);a=e*e+f*f;count+=1}this.generalizedNewton.t1memo=t1ini;this.generalizedNewton.t2memo=t2ini;return Math.abs(t1ini)<Math.abs(t2ini)?[c1.X(t1ini),c1.Y(t1ini)]:[c2.X(t2ini),c2.Y(t2ini)]},Neville:function(p){var w=[],makeFct=function(fun){return function(t,
suspendedUpdate){var bin=_math.default.binomial,len=p.length,len1=len-1,num=0,denom=0;if(!suspendedUpdate){var s=1;for(suspendedUpdate=0;suspendedUpdate<len;suspendedUpdate++)w[suspendedUpdate]=bin(len1,suspendedUpdate)*s,s*=-1}for(suspendedUpdate=0;suspendedUpdate<len;suspendedUpdate++){if(0===t)return p[suspendedUpdate][fun]();s=w[suspendedUpdate]/t;--t;num+=p[suspendedUpdate][fun]()*s;denom+=s}return num/denom}},xfct=makeFct("X");makeFct=makeFct("Y");return[xfct,makeFct,0,function(){return p.length-
1}]},splineDef:function(x,y){var i,n=Math.min(x.length,y.length),diag=[],z=[],data=[],dx=[],delta=[],F=[];if(2===n)return[0,0];for(i=0;i<n;i++){var pair={X:x[i],Y:y[i]};data.push(pair)}data.sort(function(a,b){return a.X-b.X});for(i=0;i<n;i++)x[i]=data[i].X,y[i]=data[i].Y;for(i=0;i<n-1;i++)dx.push(x[i+1]-x[i]);for(i=0;i<n-2;i++)delta.push(6*(y[i+2]-y[i+1])/dx[i+1]-6*(y[i+1]-y[i])/dx[i]);diag.push(2*(dx[0]+dx[1]));z.push(delta[0]);for(i=0;i<n-3;i++)x=dx[i+1]/diag[i],diag.push(2*(dx[i+1]+dx[i+2])-x*
dx[i+1]),z.push(delta[i+1]-x*z[i]);F[n-3]=z[n-3]/diag[n-3];for(i=n-4;0<=i;i--)F[i]=(z[i]-dx[i+1]*F[i+1])/diag[i];for(i=n-3;0<=i;i--)F[i+1]=F[i];F[0]=0;F[n-1]=0;return F},splineEval:function(x0,x,y,F){var i,j,n=Math.min(x.length,y.length),l=1,asArray=!1,y0=[];_type.default.isArray(x0)?(l=x0.length,asArray=!0):x0=[x0];for(i=0;i<l;i++){if(x0[i]<x[0]||x[i]>x[n-1])return NaN;for(j=1;j<n&&!(x0[i]<=x[j]);j++);--j;var a=y[j];var b=(y[j+1]-y[j])/(x[j+1]-x[j])-(x[j+1]-x[j])/6*(F[j+1]+2*F[j]);var c=F[j]/2;var d=
(F[j+1]-F[j])/(6*(x[j+1]-x[j]));j=x0[i]-x[j];y0.push(a+(b+(c+d*j)*j)*j)}return asArray?y0:y0[0]},generatePolynomialTerm:function(coeffs,deg,varname,prec){for(var t=[];0<=deg;deg--)t=t.concat(["(",coeffs[deg].toPrecision(prec),")"]),1<deg?t=t.concat(["*",varname,"\x3csup\x3e",deg,"\x3c","/sup\x3e + "]):1===deg&&(t=t.concat(["*",varname," + "]));return t.join("")},lagrangePolynomial:function(p){var w=[],that=this,fct=function(x,suspendedUpdate){var k,len=p.length,num=0,denom=0;if(!suspendedUpdate)for(suspendedUpdate=
0;suspendedUpdate<len;suspendedUpdate++){w[suspendedUpdate]=1;var xi=p[suspendedUpdate].X();for(k=0;k<len;k++)k!==suspendedUpdate&&(w[suspendedUpdate]*=xi-p[k].X());w[suspendedUpdate]=1/w[suspendedUpdate]}for(suspendedUpdate=0;suspendedUpdate<len;suspendedUpdate++){xi=p[suspendedUpdate].X();if(x===xi)return p[suspendedUpdate].Y();k=w[suspendedUpdate]/(x-xi);denom+=k;num+=k*p[suspendedUpdate].Y()}return num/denom};fct.getTerm=function(digits,param,dot){return that.lagrangePolynomialTerm(p,digits,param,
dot)()};return fct},lagrangePolynomialTerm:function(points,digits,param,dot){return function(){var len=points.length,coeffs_sum=[],isLeading=!0,i,j;param=param||"x";void 0===dot&&(dot=" * ");var n=len-1;for(j=0;j<len;j++)coeffs_sum[j]=0;for(i=0;i<len;i++){var c=points[i].Y();var p=points[i].X();var zeroes=[];for(j=0;j<len;j++)j!==i&&(c/=p-points[j].X(),zeroes.push(points[j].X()));zeroes=[1].concat(_math.default.Vieta(zeroes));for(j=0;j<zeroes.length;j++)coeffs_sum[j]+=(1===j%2?-1:1)*zeroes[j]*c}len=
"";for(j=0;j<coeffs_sum.length;j++)c=coeffs_sum[j],Math.abs(c)<_math.default.eps||(_jxg.default.exists(digits)&&(c=_env.default._round10(c,-digits)),isLeading?(len+=0<c?c:"-"+-c,isLeading=!1):len+=0<c?" + "+c:" - "+-c,1<n-j?len+=dot+param+"^"+(n-j):1===n-j&&(len+=dot+param));return len}},_initCubicPoly:function(x1,x2,t1,t2){return[x1,t1,-3*x1+3*x2-2*t1-t2,2*x1-2*x2+t1+t2]},CardinalSpline:function(points,tau_param,type){var p$jscomp$0,coeffs=[],tau,that=this;var _tau=_type.default.isFunction(tau_param)?
tau_param:function(){return tau_param};void 0===type&&(type="uniform");var makeFct=function(which){return function(t,suspendedUpdate){if(2>points.length)return NaN;if(!suspendedUpdate){tau=_tau();suspendedUpdate={X:function(){return 2*points[0].X()-points[1].X()},Y:function(){return 2*points[0].Y()-points[1].Y()},Dist:function(p){var dx=this.X()-p.X();p=this.Y()-p.Y();return Math.sqrt(dx*dx+p*p)}};var last={X:function(){return 2*points[points.length-1].X()-points[points.length-2].X()},Y:function(){return 2*
points[points.length-1].Y()-points[points.length-2].Y()},Dist:function(p){var dx=this.X()-p.X();p=this.Y()-p.Y();return Math.sqrt(dx*dx+p*p)}};p$jscomp$0=[suspendedUpdate].concat(points,[last]);var len=p$jscomp$0.length;coeffs[which]=[];for(suspendedUpdate=0;suspendedUpdate<len-3;suspendedUpdate++)if("centripetal"===type){var t1=p$jscomp$0[suspendedUpdate].Dist(p$jscomp$0[suspendedUpdate+1]);last=p$jscomp$0[suspendedUpdate+2].Dist(p$jscomp$0[suspendedUpdate+1]);var t2=p$jscomp$0[suspendedUpdate+3].Dist(p$jscomp$0[suspendedUpdate+
2]);t1=Math.sqrt(t1);last=Math.sqrt(last);t2=Math.sqrt(t2);last<_math.default.eps&&(last=1);t1<_math.default.eps&&(t1=last);t2<_math.default.eps&&(t2=last);t1=(p$jscomp$0[suspendedUpdate+1][which]()-p$jscomp$0[suspendedUpdate][which]())/t1-(p$jscomp$0[suspendedUpdate+2][which]()-p$jscomp$0[suspendedUpdate][which]())/(last+t1)+(p$jscomp$0[suspendedUpdate+2][which]()-p$jscomp$0[suspendedUpdate+1][which]())/last;t2=(p$jscomp$0[suspendedUpdate+2][which]()-p$jscomp$0[suspendedUpdate+1][which]())/last-
(p$jscomp$0[suspendedUpdate+3][which]()-p$jscomp$0[suspendedUpdate+1][which]())/(t2+last)+(p$jscomp$0[suspendedUpdate+3][which]()-p$jscomp$0[suspendedUpdate+2][which]())/t2;t1*=last;t2*=last;coeffs[which][suspendedUpdate]=that._initCubicPoly(p$jscomp$0[suspendedUpdate+1][which](),p$jscomp$0[suspendedUpdate+2][which](),tau*t1,tau*t2)}else coeffs[which][suspendedUpdate]=that._initCubicPoly(p$jscomp$0[suspendedUpdate+1][which](),p$jscomp$0[suspendedUpdate+2][which](),tau*(p$jscomp$0[suspendedUpdate+
2][which]()-p$jscomp$0[suspendedUpdate][which]()),tau*(p$jscomp$0[suspendedUpdate+3][which]()-p$jscomp$0[suspendedUpdate+1][which]()))}if(isNaN(t))return NaN;len=points.length;if(0>=t)return points[0][which]();if(t>=len)return points[len-1][which]();suspendedUpdate=Math.floor(t);if(suspendedUpdate===t)return points[suspendedUpdate][which]();t-=suspendedUpdate;suspendedUpdate=coeffs[which][suspendedUpdate];return void 0===suspendedUpdate?NaN:((suspendedUpdate[3]*t+suspendedUpdate[2])*t+suspendedUpdate[1])*
t+suspendedUpdate[0]}};return[makeFct("X"),makeFct("Y"),0,function(){return points.length-1}]},CatmullRomSpline:function(points,type){return this.CardinalSpline(points,.5,type)},regressionPolynomial:function(degree,dataX,dataY){var coeffs,dX,dY,term="";if(_type.default.isPoint(degree)&&_type.default.isFunction(degree.Value))var deg=function(){return degree.Value()};else if(_type.default.isFunction(degree))deg=degree;else if(_type.default.isNumber(degree))deg=function(){return degree};else throw Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+
typeof degree+"'.");if(3===arguments.length&&_type.default.isArray(dataX)&&_type.default.isArray(dataY))var inputType=0;else if(2===arguments.length&&_type.default.isArray(dataX)&&0<dataX.length&&_type.default.isPoint(dataX[0]))inputType=1;else if(2===arguments.length&&_type.default.isArray(dataX)&&0<dataX.length&&dataX[0].usrCoords&&dataX[0].scrCoords)inputType=2;else throw Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");var fct=function(x,suspendedUpdate){var i,j;var y=dataX.length;
var d=Math.floor(deg());if(!suspendedUpdate){if(1===inputType)for(dX=[],dY=[],i=0;i<y;i++)dX[i]=dataX[i].X(),dY[i]=dataX[i].Y();if(2===inputType)for(dX=[],dY=[],i=0;i<y;i++)dX[i]=dataX[i].usrCoords[1],dY[i]=dataX[i].usrCoords[2];if(0===inputType)for(dX=[],dY=[],i=0;i<y;i++)_type.default.isFunction(dataX[i])?dX.push(dataX[i]()):dX.push(dataX[i]),_type.default.isFunction(dataY[i])?dY.push(dataY[i]()):dY.push(dataY[i]);suspendedUpdate=[];for(j=0;j<y;j++)suspendedUpdate.push([1]);for(i=1;i<=d;i++)for(j=
0;j<y;j++)suspendedUpdate[j][i]=suspendedUpdate[j][i-1]*dX[j];y=dY;i=_math.default.transpose(suspendedUpdate);suspendedUpdate=_math.default.matMatMult(i,suspendedUpdate);i=_math.default.matVecMult(i,y);coeffs=_math.default.Numerics.Gauss(suspendedUpdate,i);term=_math.default.Numerics.generatePolynomialTerm(coeffs,d,"x",3)}suspendedUpdate=coeffs[d];for(i=d-1;0<=i;i--)suspendedUpdate=suspendedUpdate*x+coeffs[i];return suspendedUpdate};fct.getTerm=function(){return term};return fct},bezier:function(points){var len,
flen,makeFct=function(which){return function(t,suspendedUpdate){var z=3*Math.floor(t),t0=t%1,t1=1-t0;suspendedUpdate||(flen=3*Math.floor((points.length-1)/3),len=Math.floor(flen/3));return 0>t?points[0][which]():t>=len?points[flen][which]():isNaN(t)?NaN:t1*t1*(t1*points[z][which]()+3*t0*points[z+1][which]())+(3*t1*points[z+2][which]()+t0*points[z+3][which]())*t0*t0}};return[makeFct("X"),makeFct("Y"),0,function(){return Math.floor(points.length/3)}]},bspline:function(points,order){var knots,makeFct=
function(which){return function(t,suspendedUpdate){var len=points.length,n=len-1;var j=order;if(0>=n)return NaN;n+2<=j&&(j=n+1);if(0>=t)return points[0][which]();if(t>=n-j+2)return points[n][which]();suspendedUpdate=Math.floor(t)+j-1;var k=j,j$jscomp$0,kn=[];for(j$jscomp$0=0;j$jscomp$0<n+k+1;j$jscomp$0++)kn[j$jscomp$0]=j$jscomp$0<k?0:j$jscomp$0<=n?j$jscomp$0-k+1:n-k+2;k=knots=kn;j$jscomp$0=j;var j$jscomp$1;n=[];n[suspendedUpdate]=k[suspendedUpdate]<=t&&t<k[suspendedUpdate+1]?1:0;for(kn=2;kn<=j$jscomp$0;kn++)for(j$jscomp$1=
suspendedUpdate-kn+1;j$jscomp$1<=suspendedUpdate;j$jscomp$1++){var a=j$jscomp$1<=suspendedUpdate-kn+1||0>j$jscomp$1?0:n[j$jscomp$1];var b=j$jscomp$1>=suspendedUpdate?0:n[j$jscomp$1+1];var den=k[j$jscomp$1+kn-1]-k[j$jscomp$1];n[j$jscomp$1]=0===den?0:(t-k[j$jscomp$1])/den*a;den=k[j$jscomp$1+kn]-k[j$jscomp$1+1];0!==den&&(n[j$jscomp$1]+=(k[j$jscomp$1+kn]-t)/den*b)}t=0;for(j=suspendedUpdate-j+1;j<=suspendedUpdate;j++)j<len&&0<=j&&(t+=points[j][which]()*n[j]);return t}};return[makeFct("X"),makeFct("Y"),
0,function(){return points.length-1}]},D:function(f,obj){return _type.default.exists(obj)?function(x,suspendedUpdate){return(f.apply(obj,[x+1E-5,suspendedUpdate])-f.apply(obj,[x-1E-5,suspendedUpdate]))/2E-5}:function(x,suspendedUpdate){return(f(x+1E-5,suspendedUpdate)-f(x-1E-5,suspendedUpdate))/2E-5}},_riemannValue:function(x,f,type,delta){var x1;0>delta&&("trapezoidal"!==type&&(x+=delta),delta*=-1,"lower"===type?type="upper":"upper"===type&&(type="lower"));var delta1=.01*delta;if("right"===type)type=
f(x+delta);else if("middle"===type)type=f(x+.5*delta);else if("left"===type||"trapezoidal"===type)type=f(x);else if("lower"===type){type=f(x);for(x1=x+delta1;x1<=x+delta;x1+=delta1){var y1=f(x1);y1<type&&(type=y1)}y1=f(x+delta);y1<type&&(type=y1)}else if("upper"===type){type=f(x);for(x1=x+delta1;x1<=x+delta;x1+=delta1)y1=f(x1),y1>type&&(type=y1);y1=f(x+delta);y1>type&&(type=y1)}else type="random"===type?f(x+delta*Math.random()):"simpson"===type?(f(x)+4*f(x+.5*delta)+f(x+delta))/6:f(x);return type},
riemann:function(gf,n,type,start,end){var xarr=[],yarr=[],j=0,x=start,sum=0;if(_type.default.isArray(gf)){var g=gf[0];gf=gf[1]}n=Math.floor(n);if(0>=n)return[xarr,yarr,sum];end=(end-start)/n;for(start=0;start<n;start++){var y=this._riemannValue(x,gf,type,end);xarr[j]=x;yarr[j]=y;j+=1;x+=end;"trapezoidal"===type&&(y=gf(x));xarr[j]=x;yarr[j]=y;j+=1}for(start=0;start<n;start++){y=g?this._riemannValue(x,g,type,-end):0;xarr[j]=x;yarr[j]=y;j+=1;x-=end;"trapezoidal"===type&&g&&(y=g(x));xarr[j]=x;yarr[j]=
y;if("trapezoidal"!==type)var yup=yarr[2*(n-1)-2*start];else yup=.5*(gf(x+end)+gf(x)),y=g?.5*(g(x+end)+g(x)):0;sum+=(yup-y)*end;j+=1;xarr[j]=x;yarr[j]=yarr[2*(n-1)-2*start];j+=1}return[xarr,yarr,sum]},riemannsum:function(f,n,type,start,end){_jxg.default.deprecated("Numerics.riemannsum()","Numerics.riemann()");return this.riemann(f,n,type,start,end)[2]},rungeKutta:function(butcher,x0,I,N,f){var j,l,x=[],y=[],h=(I[1]-I[0])/N,t=I[0],dim=x0.length,result=[],r=0;_type.default.isString(butcher)&&(butcher=
predefinedButcher[butcher]||predefinedButcher.euler);var s=butcher.s;for(I=0;I<dim;I++)x[I]=x0[I];for(x0=0;x0<N;x0++){result[r]=[];for(I=0;I<dim;I++)result[r][I]=x[I];r+=1;var k=[];for(j=0;j<s;j++){for(I=0;I<dim;I++)y[I]=0;for(l=0;l<j;l++)for(I=0;I<dim;I++)y[I]+=butcher.A[j][l]*h*k[l][I];for(I=0;I<dim;I++)y[I]+=x[I];k.push(f(t+butcher.c[j]*h,y))}for(I=0;I<dim;I++)y[I]=0;for(l=0;l<s;l++)for(I=0;I<dim;I++)y[I]+=butcher.b[l]*k[l][I];for(I=0;I<dim;I++)x[I]+=h*y[I];t+=h}return result},maxIterationsRoot:80,
maxIterationsMinimize:500,findBracket:function(f,x0,object){var i;if(_type.default.isArray(x0))return x0;var fa=f.call(object,x0);var aa=0===x0?1:x0;aa=[x0-.1*aa,x0+.1*aa,x0-1,x0+1,x0-.5*aa,x0+.5*aa,x0-.6*aa,x0+.6*aa,x0-1*aa,x0+1*aa,x0-2*aa,x0+2*aa,x0-5*aa,x0+5*aa,x0-10*aa,x0+10*aa,x0-50*aa,x0+50*aa,x0-100*aa,x0+100*aa];var len=aa.length;for(i=0;i<len;i++){var b=aa[i];var fb=f.call(object,b);if(0>=fa*fb)break}b<x0&&(f=x0,x0=b,b=f,f=fa,fa=fb,fb=f);return[x0,fa,b,fb]},fzero:function(f,x0,object){var fc,
eps=_math.default.eps,maxiter=this.maxIterationsRoot,niter=0;if(_type.default.isArray(x0)){if(2>x0.length)throw Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");var a=x0[0];var fa=f.call(object,a);var b=x0[1];var fb=f.call(object,b)}else fb=this.findBracket(f,x0,object),a=fb[0],fa=fb[1],b=fb[2],fb=fb[3];if(Math.abs(fa)<=eps)return a;if(Math.abs(fb)<=eps)return b;if(0<fa*fb)return _type.default.isArray(x0)?this.fminbr(f,[a,b],object):this.Newton(f,a,object);x0=a;for(fc=
fa;niter<maxiter;){var prev_step=b-a;Math.abs(fc)<Math.abs(fb)&&(a=b,b=x0,x0=a,fa=fb,fb=fc,fc=fa);var tol_act=2*eps*Math.abs(b)+.5*eps;var new_step=.5*(x0-b);if(Math.abs(new_step)<=tol_act||Math.abs(fb)<=eps)break;if(Math.abs(prev_step)>=tol_act&&Math.abs(fa)>Math.abs(fb)){var cb=x0-b;if(a===x0){var t1=fb/fa;a=cb*t1;var q=1-t1}else q=fa/fc,t1=fb/fc,fa=fb/fa,a=fa*(cb*q*(q-t1)-(b-a)*(t1-1)),q=(q-1)*(t1-1)*(fa-1);0<a?q=-q:a=-a;a<.75*cb*q-.5*Math.abs(tol_act*q)&&a<Math.abs(prev_step*q*.5)&&(new_step=
a/q)}Math.abs(new_step)<tol_act&&(new_step=0<new_step?tol_act:-tol_act);a=b;fa=fb;b+=new_step;fb=f.call(object,b);if(0<fb&&0<fc||0>fb&&0>fc)x0=a,fc=fa;niter++}return b},chandrupatla:function(f,x0,object){var niter=0,maxiter=this.maxIterationsRoot,rand=1+.001*Math.random(),t=.5*rand,eps=_math.default.eps;if(_type.default.isArray(x0)){if(2>x0.length)throw Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");var a=x0[0];var fa=f.call(object,a);var b=x0[1];var fb=f.call(object,
b)}else fb=this.findBracket(f,x0,object),a=fb[0],fa=fb[1],b=fb[2],fb=fb[3];if(0<fa*fb)return _type.default.isArray(x0)?this.fminbr(f,[a,b],object):this.Newton(f,a,object);x0=a;do{a=x0+t*(b-x0);var y=f.call(object,a);if(Math.sign(y)===Math.sign(fa)){var x3=x0;t=fa}else x3=b,b=x0,t=fb,fb=fa;x0=a;fa=y;a=x0;var fm=fa;Math.abs(fb)<Math.abs(fa)&&(a=b,fm=fb);y=2*eps*Math.abs(a)+5E-6;y/=Math.abs(b-x0);if(.5<y||0===fm)break;var xi=(x0-b)/(x3-b);fm=(fa-fb)/(t-fb);var fl=1-Math.sqrt(1-xi);xi=Math.sqrt(xi);fl<
fm&&fm<xi?(x3=(x3-x0)/(b-x0),fm=fa/(fb-fa),fl=t/(fb-t),xi=fa/(t-fa),t=fb/(t-fb),t=fm*fl+xi*t*x3):t=.5*rand;t<y&&(t=y);t>1-y&&(t=1-y);niter++}while(niter<=maxiter);return a},fminbr:function(f,x0,context){var x,fx,fw,r=.5*(3-Math.sqrt(5)),tol=_math.default.eps,sqrteps=_math.default.eps,maxiter=this.maxIterationsMinimize,niter=0;if(!_type.default.isArray(x0)||2>x0.length)throw Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");var a=x0[0];x0=x0[1];var v=a+r*(x0-a);var fv=f.call(context,
v);var w=x=v;for(fw=fx=fv;niter<maxiter;){var range=x0-a;var middle_range=.5*(a+x0);var tol_act=sqrteps*Math.abs(x)+tol/3;if(Math.abs(x-middle_range)+.5*range<=2*tol_act)break;middle_range=r*(x<middle_range?x0-x:a-x);if(Math.abs(x-w)>=tol_act){range=(x-w)*(fx-fv);var q=(x-v)*(fx-fw);var p=(x-v)*q-(x-w)*range;q=2*(q-range);0<q?p=-p:q=-q;Math.abs(p)<Math.abs(middle_range*q)&&p>q*(a-x+2*tol_act)&&p<q*(x0-x-2*tol_act)&&(middle_range=p/q)}Math.abs(middle_range)<tol_act&&(middle_range=0<middle_range?tol_act:
-tol_act);range=x+middle_range;tol_act=f.call(context,range);if(tol_act<=fx)range<x?x0=x:a=x,v=w,w=x,x=range,fv=fw,fw=fx,fx=tol_act;else if(range<x?a=range:x0=range,tol_act<=fw||w===x)v=w,w=range,fv=fw,fw=tol_act;else if(tol_act<=fv||v===x||v===w)v=range,fv=tol_act;niter+=1}return x},RamerDouglasPeucker:function(pts,eps$jscomp$0){var allPts=[],newPts=[],i$jscomp$0,k$jscomp$0,findSplit=function(pts,i,j){var dist=0,f=i;if(2>j-i)return[-1,0];var ci=pts[i].scrCoords;var cj=pts[j].scrCoords;if(isNaN(ci[1])||
isNaN(ci[2]))return[NaN,i];if(isNaN(cj[1])||isNaN(cj[2]))return[NaN,j];for(i+=1;i<j;i++){var ck=pts[i].scrCoords;if(isNaN(ck[1])||isNaN(ck[2]))return[NaN,i];var d=ck[1]-ci[1];ck=ck[2]-ci[2];var x1=cj[1]-ci[1];var y1=cj[2]-ci[2];d=Infinity===d?1E4:d;ck=Infinity===ck?1E4:ck;x1=Infinity===x1?1E4:x1;y1=Infinity===y1?1E4:y1;d=-Infinity===d?-1E4:d;ck=-Infinity===ck?-1E4:ck;x1=-Infinity===x1?-1E4:x1;y1=-Infinity===y1?-1E4:y1;var den=x1*x1+y1*y1;den>=_math.default.eps&&(den=(d*x1+ck*y1)/den,0>den?den=0:1<
den&&(den=1),d-=den*x1,ck-=den*y1);d=d*d+ck*ck;d>dist&&(dist=d,f=i)}return[Math.sqrt(dist),f]},RDP=function(pts,i,j,eps,newPts){var result=findSplit(pts,i,j),k=result[1];if(isNaN(result[0])){RDP(pts,i,k-1,eps,newPts);newPts.push(pts[k]);do++k;while(k<=j&&isNaN(pts[k].scrCoords[1]+pts[k].scrCoords[2]));k<=j&&newPts.push(pts[k]);RDP(pts,k+1,j,eps,newPts)}else result[0]>eps?(RDP(pts,i,k,eps,newPts),RDP(pts,k,j,eps,newPts)):newPts.push(pts[j])};var len=pts.length;for(i$jscomp$0=0;;){for(;i$jscomp$0<len&&
isNaN(pts[i$jscomp$0].scrCoords[1]+pts[i$jscomp$0].scrCoords[2]);)i$jscomp$0+=1;for(k$jscomp$0=i$jscomp$0+1;k$jscomp$0<len&&!isNaN(pts[k$jscomp$0].scrCoords[1]+pts[k$jscomp$0].scrCoords[2]);)k$jscomp$0+=1;k$jscomp$0--;i$jscomp$0<len&&k$jscomp$0>i$jscomp$0&&(newPts=[],newPts[0]=pts[i$jscomp$0],RDP(pts,i$jscomp$0,k$jscomp$0,eps$jscomp$0,newPts),allPts=allPts.concat(newPts));if(i$jscomp$0>=len)break;k$jscomp$0<len-1&&allPts.push(pts[k$jscomp$0+1]);i$jscomp$0=k$jscomp$0+1}return allPts},RamerDouglasPeuker:function(pts,
eps){_jxg.default.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()");return this.RamerDouglasPeucker(pts,eps)},Visvalingam:function(pts,numPoints){var i,linkedList=[],heap=[],points=[];var len=pts.length;if(2>=len)return pts;linkedList[0]={used:!0,lft:null,node:null};points=0;for(i=1;i<len-1;i++){var vol=Math.abs(_jxg.default.Math.Numerics.det([pts[i-1].usrCoords,pts[i].usrCoords,pts[i+1].usrCoords]));isNaN(vol)||(vol={v:vol,idx:i},heap.push(vol),linkedList[i]={used:!0,lft:points,
node:vol},points=linkedList[points].rt=i)}linkedList[len-1]={used:!0,rt:null,lft:points,node:null};linkedList[points].rt=len-1;for(len=-Infinity;heap.length>numPoints;)heap.sort(function(a,b){return b.v-a.v}),i=heap.pop().idx,linkedList[i].used=!1,len=linkedList[i].node.v,points=linkedList[i].lft,i=linkedList[i].rt,linkedList[points].rt=i,linkedList[i].lft=points,vol=linkedList[points].lft,null!==vol&&(vol=Math.abs(_jxg.default.Math.Numerics.det([pts[vol].usrCoords,pts[points].usrCoords,pts[i].usrCoords])),
linkedList[points].node.v=vol>=len?vol:len),vol=linkedList[i].rt,null!==vol&&(vol=Math.abs(_jxg.default.Math.Numerics.det([pts[points].usrCoords,pts[i].usrCoords,pts[vol].usrCoords])),linkedList[i].node.v=vol>=len?vol:len);i=0;points=[pts[i]];do i=linkedList[i].rt,points.push(pts[i]);while(null!==linkedList[i].rt);return points}};exports.default=_math.default.Numerics}
//# sourceMappingURL=module$node_modules$$mentatcollective$jsxgraph$src$math$numerics.js.map

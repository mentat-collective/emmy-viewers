shadow$provide.module$node_modules$$mentatcollective$jsxgraph$src$element$arc=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _jxg=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$jxg")),_geometry=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$geometry")),_math=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$math")),
_coords=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$coords")),_circle=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$circle")),_type=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$type")),_constants=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$constants"));_jxg.default.createArc=function(board,parents,attributes){var points=_type.default.providePoints(board,
parents,attributes,"arc",["center","radiusPoint","anglePoint"]);if(!1===points||3>points.length)throw Error("JSXGraph: Can't create Arc with parent types '"+typeof parents[0]+"' and '"+typeof parents[1]+"' and '"+typeof parents[2]+"'.\nPossible parent types: [point,point,point], [arc, transformation]");parents=_type.default.copyAttributes(attributes,board.options,"arc");board=board.create("curve",[[0],[0]],parents);board.elType="arc";board.setParents(points);board.type=_constants.default.OBJECT_TYPE_ARC;
board.center=points[0];board.radiuspoint=points[1];board.point2=board.radiuspoint;board.anglepoint=points[2];board.point3=board.anglepoint;_type.default.exists(board.center._is_new)?(board.addChild(board.center),delete board.center._is_new):board.center.addChild(board);_type.default.exists(board.radiuspoint._is_new)?(board.addChild(board.radiuspoint),delete board.radiuspoint._is_new):board.radiuspoint.addChild(board);_type.default.exists(board.anglepoint._is_new)?(board.addChild(board.anglepoint),
delete board.anglepoint._is_new):board.anglepoint.addChild(board);board.useDirection=parents.usedirection;board.updateDataArray=function(){var ar=1;var A=this.radiuspoint,B=this.center,C=this.anglepoint;var p1c=_type.default.evaluate(this.visProp.selection);var phi=_geometry.default.rad(A,B,C);if("minor"===p1c&&phi>Math.PI||"major"===p1c&&phi<Math.PI)ar=-1;if(this.useDirection){phi=points[1].coords.usrCoords;p1c=points[3].coords.usrCoords;var p2c=points[2].coords.usrCoords;phi=(phi[1]-p2c[1])*(phi[2]-
p1c[2])-(phi[2]-p2c[2])*(phi[1]-p1c[1]);0>phi?(this.radiuspoint=points[1],this.anglepoint=points[2]):(this.radiuspoint=points[2],this.anglepoint=points[1])}A=A.coords.usrCoords;B=B.coords.usrCoords;C=C.coords.usrCoords;ar=_geometry.default.bezierArc(A,B,C,!1,ar);this.dataX=ar[0];this.dataY=ar[1];this.bezierDegree=3;this.updateStdform();this.updateQuadraticform()};board.Radius=function(){return this.radiuspoint.Dist(this.center)};board.getRadius=function(){_jxg.default.deprecated("Arc.getRadius()",
"Arc.Radius()");return this.Radius()};board.Value=function(){return this.Radius()*_geometry.default.rad(this.radiuspoint,this.center,this.anglepoint)};board.hasPoint=function(x,y){var has=this.Radius();if(_type.default.evaluate(this.visProp.hasinnerpoints))return this.hasPointSector(x,y);if(_type.default.isObject(_type.default.evaluate(this.visProp.precision))){var prec=this.board._inputDevice;prec=_type.default.evaluate(this.visProp.precision[prec])}else prec=this.board.options.precision.hasPoint;
prec/=Math.min(this.board.unitX,this.board.unitY);x=new _coords.default(_constants.default.COORDS_BY_SCREEN,[x,y],this.board);0<this.transformations.length&&(this.updateTransformMatrix(),y=_math.default.inverse(this.transformMat),x=_math.default.matVecMult(y,x.usrCoords),x=new _coords.default(_constants.default.COORDS_BY_USER,x,this.board));y=this.center.coords.distance(_constants.default.COORDS_BY_USER,x);(has=Math.abs(y-has)<prec)&&(has=_geometry.default.coordsOnArc(this,x));return has};board.hasPointSector=
function(x,y){x=new _coords.default(_constants.default.COORDS_BY_SCREEN,[x,y],this.board);y=this.Radius();(y=this.center.coords.distance(_constants.default.COORDS_BY_USER,x)<y)&&(y=_geometry.default.coordsOnArc(this,x));return y};board.getTextAnchor=function(){return this.center.coords};board.getLabelAnchor=function(){var vecx=_geometry.default.rad(this.radiuspoint,this.center,this.anglepoint);var vec=10/this.board.unitX;var dy=10/this.board.unitY,p2c=this.point2.coords.usrCoords,pmc=this.center.coords.usrCoords;
var coords=p2c[1]-pmc[1];var len=p2c[2]-pmc[2];var ev_s=_type.default.evaluate(this.visProp.selection);p2c=this.label?this.label.visProp:this.visProp.label;if("minor"===ev_s&&vecx>Math.PI||"major"===ev_s&&vecx<Math.PI)vecx=-(2*Math.PI-vecx);coords=new _coords.default(_constants.default.COORDS_BY_USER,[pmc[1]+Math.cos(.5*vecx)*coords-Math.sin(.5*vecx)*len,pmc[2]+Math.sin(.5*vecx)*coords+Math.cos(.5*vecx)*len],this.board);vecx=coords.usrCoords[1]-pmc[1];coords=coords.usrCoords[2]-pmc[2];len=Math.sqrt(vecx*
vecx+coords*coords);vec=[pmc[1]+vecx*(len+vec)/len,pmc[2]+coords*(len+dy)/len];p2c.position=_geometry.default.calcLabelQuadrant(_geometry.default.rad([1,0],[0,0],vec));return new _coords.default(_constants.default.COORDS_BY_USER,vec,this.board)};board.updateQuadraticform=_circle.default.Circle.prototype.updateQuadraticform;board.updateStdform=_circle.default.Circle.prototype.updateStdform;board.methodMap=_jxg.default.deepCopy(board.methodMap,{getRadius:"getRadius",radius:"Radius",center:"center",
radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value"});board.prepareUpdate().update();return board};_jxg.default.registerElement("arc",_jxg.default.createArc);_jxg.default.createSemicircle=function(board,parents,attributes){var points=_type.default.providePoints(board,parents,attributes,"point");if(!1===points||2!==points.length)throw Error("JSXGraph: Can't create Semicircle with parent types '"+typeof parents[0]+"' and '"+typeof parents[1]+"'.\nPossible parent types: [point,point]");var attr=
_type.default.copyAttributes(attributes,board.options,"semicircle","center");parents=board.create("midpoint",points,attr);parents.dump=!1;attr=_type.default.copyAttributes(attributes,board.options,"semicircle");board=board.create("arc",[parents,points[1],points[0]],attr);board.elType="semicircle";board.setParents([points[0].id,points[1].id]);board.subs={midpoint:parents};board.inherits.push(parents);board.midpoint=board.center=parents;return board};_jxg.default.registerElement("semicircle",_jxg.default.createSemicircle);
_jxg.default.createCircumcircleArc=function(board,parents,attributes){var points=_type.default.providePoints(board,parents,attributes,"point");if(!1===points||3!==points.length)throw Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof parents[0]+"' and '"+typeof parents[1]+"' and '"+typeof parents[2]+"'.\nPossible parent types: [point,point,point]");var attr=_type.default.copyAttributes(attributes,board.options,"circumcirclearc","center");parents=board.create("circumcenter",points,
attr);parents.dump=!1;attr=_type.default.copyAttributes(attributes,board.options,"circumcirclearc");attr.usedirection=!0;board=board.create("arc",[parents,points[0],points[2],points[1]],attr);board.elType="circumcirclearc";board.setParents([points[0].id,points[1].id,points[2].id]);board.subs={center:parents};board.inherits.push(parents);board.center=parents;return board};_jxg.default.registerElement("circumcirclearc",_jxg.default.createCircumcircleArc);_jxg.default.createMinorArc=function(board,parents,
attributes){attributes.selection="minor";return _jxg.default.createArc(board,parents,attributes)};_jxg.default.registerElement("minorarc",_jxg.default.createMinorArc);_jxg.default.createMajorArc=function(board,parents,attributes){attributes.selection="major";return _jxg.default.createArc(board,parents,attributes)};_jxg.default.registerElement("majorarc",_jxg.default.createMajorArc);exports.default={createArc:_jxg.default.createArc,createSemicircle:_jxg.default.createSemicircle,createCircumcircleArc:_jxg.default.createCircumcircleArc,
createMinorArc:_jxg.default.createMinorArc,createMajorArc:_jxg.default.createMajorArc}}
//# sourceMappingURL=module$node_modules$$mentatcollective$jsxgraph$src$element$arc.js.map

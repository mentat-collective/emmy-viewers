shadow$provide.module$node_modules$$mentatcollective$jsxgraph$src$utils$env=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _jxg=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$jxg")),_type=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$type")),_canvas=_interopRequireDefault(require("module$node_modules$canvas$browser"));
_jxg.default.extendConstants(_jxg.default,{touchProperty:"touches"});_jxg.default.extend(_jxg.default,{isTouchEvent:function(evt){return _jxg.default.exists(evt[_jxg.default.touchProperty])},isPointerEvent:function(evt){return _jxg.default.exists(evt.pointerId)},isMouseEvent:function(evt){return!_jxg.default.isTouchEvent(evt)&&!_jxg.default.isPointerEvent(evt)},getNumberOfTouchPoints:function(evt){var n=-1;_jxg.default.isTouchEvent(evt)&&(n=evt[_jxg.default.touchProperty].length);return n},isFirstTouch:function(evt){var touchPoints=
_jxg.default.getNumberOfTouchPoints(evt);return _jxg.default.isPointerEvent(evt)?evt.isPrimary:1===touchPoints},isBrowser:"object"===typeof window&&"object"===typeof document,supportsES6:function(){try{return new Function("(a \x3d 0) \x3d\x3e a"),!0}catch(err){return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){return this.isBrowser&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},supportsCanvas:function(){var hasCanvas=
!1;if(this.isNode())try{var c="object"===typeof module?module.require("canvas"):_canvas.default;hasCanvas=!!c}catch(err){}return hasCanvas||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&("object"===typeof module&&!!module.exports||"object"===typeof global&&global.requirejsVars&&!global.requirejsVars.isBrowser)},isWebWorker:function(){return!this.isBrowser&&"object"===typeof self&&"function"===typeof self.postMessage},supportsPointerEvents:function(){return!!(this.isBrowser&&
window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&void 0!==window.ontouchstart},isAndroid:function(){return _type.default.exists(navigator)&&-1<navigator.userAgent.toLowerCase().indexOf("android")},isWebkitAndroid:function(){return this.isAndroid()&&-1<navigator.userAgent.indexOf(" AppleWebKit/")},isApple:function(){return _type.default.exists(navigator)&&(-1<navigator.userAgent.indexOf("iPad")||
-1<navigator.userAgent.indexOf("iPhone"))},isWebkitApple:function(){return this.isApple()&&-1<navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)},isMetroApp:function(){return"object"===typeof window&&window.clientInformation&&window.clientInformation.appVersion&&-1<window.clientInformation.appVersion.indexOf("MSAppHost")},isMozilla:function(){return _type.default.exists(navigator)&&-1<navigator.userAgent.toLowerCase().indexOf("mozilla")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")},
isFirefoxOS:function(){return _type.default.exists(navigator)&&-1===navigator.userAgent.toLowerCase().indexOf("android")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")&&-1<navigator.userAgent.toLowerCase().indexOf("mobile")&&-1<navigator.userAgent.toLowerCase().indexOf("mozilla")},ieVersion:function(){var v=3;if("object"!==typeof document)return 0;var div=document.createElement("div");var all=div.getElementsByTagName("i");do div.innerHTML="\x3c!--[if gt IE "+ ++v+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e";
while(all[0]);return 4<v?v:void 0}(),getDimensions:function(elementId,doc){var els=/\d+(\.\d*)?px/;if(!this.isBrowser||null===elementId)return{width:500,height:500};doc=doc||document;doc=doc.getElementById(elementId);if(!_type.default.exists(doc))throw Error("\nJSXGraph: HTML container element '"+elementId+"' not found.");elementId=doc.style.display;if("none"!==elementId&&null!==elementId){if(0<doc.clientWidth&&0<doc.clientHeight)return{width:doc.clientWidth,height:doc.clientHeight};doc=window.getComputedStyle?
window.getComputedStyle(doc):doc.style;return{width:els.test(doc.width)?parseFloat(doc.width):0,height:els.test(doc.height)?parseFloat(doc.height):0}}els=doc.style;elementId=els.visibility;var originalPosition=els.position;var originalDisplay=els.display;els.visibility="hidden";els.position="absolute";els.display="block";var originalWidth=doc.clientWidth;doc=doc.clientHeight;els.display=originalDisplay;els.position=originalPosition;els.visibility=elementId;return{width:originalWidth,height:doc}},
addEvent:function(obj,type,fn,owner){var el=function(){return fn.apply(owner,arguments)};el.origin=fn;owner["x_internal"+type]=owner["x_internal"+type]||[];owner["x_internal"+type].push(el);_type.default.exists(obj)&&_type.default.exists(obj.addEventListener)&&obj.addEventListener(type,el,!1);_type.default.exists(obj)&&_type.default.exists(obj.attachEvent)&&obj.attachEvent("on"+type,el)},removeEvent:function(obj,type,fn,owner){if(_type.default.exists(owner))if(_type.default.exists(owner["x_internal"+
type]))if(_type.default.isArray(owner["x_internal"+type])){var i=_type.default.indexOf(owner["x_internal"+type],fn,"origin");if(-1===i)_jxg.default.debug("removeEvent: no such event function in internal list: "+fn);else{try{_type.default.exists(obj)&&_type.default.exists(obj.removeEventListener)&&obj.removeEventListener(type,owner["x_internal"+type][i],!1),_type.default.exists(obj)&&_type.default.exists(obj.detachEvent)&&obj.detachEvent("on"+type,owner["x_internal"+type][i])}catch(e){_jxg.default.debug("event not registered in browser: ("+
type+" -- "+fn+")")}owner["x_internal"+type].splice(i,1)}}else _jxg.default.debug("owner[x_internal + "+type+"] is not an array");else _jxg.default.debug("no such type: "+type);else _jxg.default.debug("no such owner")},removeAllEvents:function(obj,type,owner){if(owner["x_internal"+type]){var i=owner["x_internal"+type].length;for(--i;0<=i;i--)_jxg.default.removeEvent(obj,type,owner["x_internal"+type][i].origin,owner);0<owner["x_internal"+type].length&&_jxg.default.debug("removeAllEvents: Not all events could be removed.")}},
getPosition:function(e,index,doc){var posx=0,posy=0;e||(e=window.event);doc=e[_jxg.default.touchProperty];_type.default.exists(doc)&&0===doc.length&&(doc=e.changedTouches);if(_type.default.exists(index)&&_type.default.exists(doc))if(-1===index){var len=doc.length;for(index=0;index<len;index++)if(doc[index]){e=doc[index];break}}else e=doc[index];e.clientX&&(posx=e.clientX,posy=e.clientY);return[posx,posy]},getOffset:function(obj){var o=obj,l=o.offsetLeft-o.scrollLeft;var cPos=o.offsetTop-o.scrollTop;
cPos=this.getCSSTransform([l,cPos],o);l=cPos[0];cPos=cPos[1];for(o=o.offsetParent;o;){l+=o.offsetLeft;cPos+=o.offsetTop;o.offsetParent&&(l+=o.clientLeft-o.scrollLeft,cPos+=o.clientTop-o.scrollTop);cPos=this.getCSSTransform([l,cPos],o);l=cPos[0];cPos=cPos[1];for(obj=obj.parentNode;obj!==o;)l+=obj.clientLeft-obj.scrollLeft,cPos+=obj.clientTop-obj.scrollTop,cPos=this.getCSSTransform([l,cPos],obj),l=cPos[0],cPos=cPos[1],obj=obj.parentNode;o=o.offsetParent}return[l,cPos]},getStyle:function(obj,stylename){var doc=
obj.ownerDocument;if(doc.defaultView&&doc.defaultView.getComputedStyle)var r=doc.defaultView.getComputedStyle(obj,null).getPropertyValue(stylename);else obj.currentStyle&&9<=_jxg.default.ieVersion?r=obj.currentStyle[stylename]:obj.style&&(stylename=stylename.replace(/-([a-z]|[0-9])/gi,function(all,letter){return letter.toUpperCase()}),r=obj.style[stylename]);return r},getProp:function(el,css){el=parseInt(this.getStyle(el,css),10);return isNaN(el)?0:el},getCSSTransform:function(cPos,obj){var str;var arr=
["transform","webkitTransform","MozTransform","msTransform","oTransform"];var j=arr.length;var i=0;for(str="";i<j;i++)if(_type.default.exists(obj.style[arr[i]])){str=obj.style[arr[i]];break}if(""!==str&&(i=str.indexOf("("),0<i)){j=str.length;j=str.substring(i+1,j-1);arr=j.split(",");j=0;for(i=arr.length;j<i;j++)arr[j]=parseFloat(arr[j]);0===str.indexOf("matrix")?(cPos[0]+=arr[4],cPos[1]+=arr[5]):0===str.indexOf("translateX")?cPos[0]+=arr[0]:0===str.indexOf("translateY")?cPos[1]+=arr[0]:0===str.indexOf("translate")&&
(cPos[0]+=arr[0],cPos[1]+=arr[1])}_type.default.exists(obj.style.zoom)&&(str=obj.style.zoom,""!==str&&(cPos[0]*=parseFloat(str),cPos[1]*=parseFloat(str)));return cPos},getCSSTransformMatrix:function(obj){var str=obj.ownerDocument;var start=["transform","webkitTransform","MozTransform","msTransform","oTransform"];var mat=[[1,0,0],[0,1,0],[0,0,1]];if(str.defaultView&&str.defaultView.getComputedStyle)str=str.defaultView.getComputedStyle(obj,null),str=str.getPropertyValue("-webkit-transform")||str.getPropertyValue("-moz-transform")||
str.getPropertyValue("-ms-transform")||str.getPropertyValue("-o-transform")||str.getPropertyValue("transform");else{var j=start.length;var i=0;for(str="";i<j;i++)if(_type.default.exists(obj.style[start[i]])){str=obj.style[start[i]];break}}if(""!==str&&(start=str.indexOf("("),0<start)){j=str.length;j=str.substring(start+1,j-1);i=j.split(",");j=0;for(start=i.length;j<start;j++)i[j]=parseFloat(i[j]);0===str.indexOf("matrix")?mat=[[1,0,0],[0,i[0],i[1]],[0,i[2],i[3]]]:0===str.indexOf("scaleX")?mat[1][1]=
i[0]:0===str.indexOf("scaleY")?mat[2][2]=i[0]:0===str.indexOf("scale")&&(mat[1][1]=i[0],mat[2][2]=i[1])}_type.default.exists(obj.style.zoom)&&(str=obj.style.zoom,""!==str&&(mat[1][1]*=parseFloat(str),mat[2][2]*=parseFloat(str)));return mat},timedChunk:function(items,process,context,callback){var todo=items.concat(),timerFun=function(){var start=+new Date;do process.call(context,todo.shift());while(0<todo.length&&300>+new Date-start);0<todo.length?window.setTimeout(timerFun,1):callback(items)};window.setTimeout(timerFun,
1)},scaleJSXGraphDiv:function(wrap_id,inner_id,doc){var len=doc.styleSheets.length,pseudo_keys=[":fullscreen",":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"],len_pseudo=pseudo_keys.length;var i=new RegExp(".*#"+wrap_id+":.*full.*screen.*#"+inner_id+".*auto;.*transform:.*matrix");var b=doc.getElementById(wrap_id).getBoundingClientRect();var h=b.height;var w=b.width;var wi=doc.getElementById(inner_id).getBoundingClientRect();b=wi.height;wi=wi.width;w=wi/b>=w/h?.85*w/wi:.85*h/b;h="{margin:0 auto;transform:matrix("+
w+",0,0,"+w+",0,"+.5*(h-b)+");}";0===len&&(len=document.createElement("style"),len.appendChild(document.createTextNode("")),doc.appendChild(len),len=doc.styleSheets.length);0<doc.styleSheets[len-1].cssRules.length&&i.test(doc.styleSheets[len-1].cssRules[0].cssText)&&doc.styleSheets[len-1].deleteRule&&doc.styleSheets[len-1].deleteRule(0);for(i=0;i<len_pseudo;i++)try{var rule="#"+wrap_id+pseudo_keys[i]+" #"+inner_id+h;doc.styleSheets[len-1].insertRule(rule,0);break}catch(err){}i===len_pseudo&&(console.log("JXG.scaleJSXGraphDiv: Could not add any CSS rule."),
console.log("One possible reason could be that the id of the JSXGraph container does not start with a letter."))}});exports.default=_jxg.default}
//# sourceMappingURL=module$node_modules$$mentatcollective$jsxgraph$src$utils$env.js.map

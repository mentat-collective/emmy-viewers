{
"version":3,
"file":"module$node_modules$shadergraph$src$linker$link.js",
"lineCount":7,
"mappings":"AAAAA,cAAA,CAAA,+CAAA,CAAoE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,eAAhB,CAAuBC,gBAAvB,CAAgC,CAY5GC,QAASA,yBAAwB,CAACC,oBAAD,CAAc,CAAE,GAAuB,UAAvB,GAAI,MAAOC,QAAX,CAAmC,MAAO,KAAM,KAAIC,kBAAoB,IAAID,OAA5B,CAA2CE,iBAAmB,IAAIF,OAAW,OAAO,CAACF,wBAAD,CAA4BA,QAAS,CAACC,WAAD,CAAc,CAAE,MAAOA,YAAA,CAAcG,gBAAd,CAAiCD,iBAA1C,CAAnD,EAAmHF,oBAAnH,CAAtI,CAE/CI,QAASA,wBAAuB,CAACC,GAAD,CAAML,WAAN,CAAmB,CAAE,GAAI,CAACA,WAAL,EAAoBK,GAApB,EAA2BA,GAAIC,CAAAA,UAA/B,CAA6C,MAAOD,IAAO;GAAY,IAAZ,GAAIA,GAAJ,EAAmC,QAAnC,GAAoB,MAAOA,IAA3B,EAA8D,UAA9D,GAA+C,MAAOA,IAAtD,CAA4E,MAAO,CAAEE,QAASF,GAAX,CAAuE,KAA/CG,WAA+C,CAAvCT,wBAAA,CAAyBC,WAAzB,CAAuC,GAAaQ,WAAMC,CAAAA,GAAN,CAAUJ,GAAV,CAAb,CAA+B,MAAOG,YAAME,CAAAA,GAAN,CAAUL,GAAV,CAAkB,KAAIM,OAAS,EAAb,CAAqBC,sBAAwBC,MAAOC,CAAAA,cAA/BF,EAAiDC,MAAOE,CAAAA,wBAA7E,CAAgHC,GAAT,KAASA,GAAT,GAAgBX,IAAhB,CAAuB,GAAY,SAAZ,GAAIW,GAAJ,EAAyBH,MAAOI,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqCd,GAArC,CAA0CW,GAA1C,CAAzB,CAAyE,CAAE,IAAII,KAAOR,qBAAA,CAAwBC,MAAOE,CAAAA,wBAAP,CAAgCV,GAAhC,CAAqCW,GAArC,CAAxB,CAAoE,IAAUI,KAAJ,GAAaA,IAAKV,CAAAA,GAAlB,EAAyBU,IAAKC,CAAAA,GAA9B,EAAsCR,MAAOC,CAAAA,cAAP,CAAsBH,MAAtB,CAA8BK,GAA9B;AAAmCI,IAAnC,CAAtC,CAAyFT,MAAA,CAAOK,GAAP,CAAzF,CAAuGX,GAAA,CAAIW,GAAJ,CAA9L,CAA8ML,MAAOJ,CAAAA,OAAP,CAAiBF,GAASG,YAAJ,EAAaA,WAAMa,CAAAA,GAAN,CAAUhB,GAAV,CAAeM,MAAf,CAA0B,OAAOA,OAAxuB,CAXnDE,MAAOC,CAAAA,cAAP,CAAsBhB,gBAAtB,CAA+B,YAA/B,CAA6C,CAC3CwB,MAAO,CAAA,CADoC,CAA7C,CAGAxB,iBAAQyB,CAAAA,IAAR,CAAe,IAAK,EAEpB,KAAIC,MAAQpB,uBAAA,CAAwBR,OAAA,CAAQ,iDAAR,CAAxB,CAAZ,CAEI6B,SAAWrB,uBAAA,CAAwBR,OAAA,CAAQ,qDAAR,CAAxB,CAqKfE,iBAAQyB,CAAAA,IAAR,CA/IaA,QAAS,CAACG,QAAD,CAAWC,KAAX,CAAkBC,OAAlB,CAA2BC,QAA3B,CAAqC,CAEzD,IAAIC,SAAW,EACf,OAAMC,QAAU,EAAhB,CACMC,UAAY,EADlB,CAEMC;AAAW,EAFjB,CAGMC,WAAa,EAHnB,CAIMC,SAAW,EAJjB,CAKMC,QAAU,EALhB,CA8DMC,MAAQA,QAAS,CAACC,SAAD,CAAYC,IAAZ,CAAkBC,QAAlB,CAA4B,CACjD,MAAMC,OAASL,OAAA,CAAQE,SAAR,CAEf,OAAc,KAAd,EAAIG,MAAJ,CACSA,MAAOD,CAAAA,QADhB,CAC2Bf,QAASiB,CAAAA,GAAT,CAAaD,MAAOD,CAAAA,QAApB,CAA8BA,QAA9B,CAD3B,CAGSJ,OAAA,CAAQE,SAAR,CAHT,CAG8B,CAC1BC,IAD0B,CAE1BC,QAF0B,CANmB,CA9DnD,CA4EMG,QAAUA,QAAS,CAACC,IAAD,CAAO/C,MAAP,CAAe2C,QAAf,CAAyB,CAChD,IAASxB,GACTwB,SAAA,CAAWf,QAASoB,CAAAA,IAAT,CAAcL,QAAd,CAEX,KAAK,IAAMM,EAAX,GAAiBjD,OAAOuC,CAAAA,OAAxB,CAAiC,CAC/B,IAAMW,IAAMlD,MAAOuC,CAAAA,OAAP,CAAeU,EAAf,CACZT,MAAA,CAAMS,EAAN,CAAUC,GAAIR,CAAAA,IAAd,CAAoBd,QAASuB,CAAAA,IAAT,CAAcR,QAAd,CAAwBO,GAAIP,CAAAA,QAA5B,CAApB,CAF+B,CAMjCH,KAAA,CAAMxC,MAAOyC,CAAAA,SAAb,CAAwBzC,MAAOoD,CAAAA,IAA/B,CAAqCT,QAArC,CAEA,KAAKxB,GAAL,GAAYnB,OAAOoC,CAAAA,QAAnB,CACEiB,QACA,CADMrD,MAAOoC,CAAAA,QAAP,CAAgBjB,GAAhB,CACN;AAAAiB,QAAA,CAASjB,GAAT,CAAA,CAAgBkC,QAGlB,KAAKlC,GAAL,GAAYnB,OAAOsC,CAAAA,QAAnB,CACEe,QACA,CADMrD,MAAOsC,CAAAA,QAAP,CAAgBnB,GAAhB,CACN,CAAAmB,QAAA,CAASnB,GAAT,CAAA,CAAgBkC,QAGlB,KAAKlC,GAAL,GAAYnB,OAAOqC,CAAAA,UAAnB,CACEgB,QACA,CADMrD,MAAOqC,CAAAA,UAAP,CAAkBlB,GAAlB,CACN,CAAAkB,UAAA,CAAWlB,GAAX,CAAA,CAAkBkC,QAIZC,SAAAA,CAAS,EAEf,KAAKnC,GAAL,GAAYoC,MAAMC,CAAAA,IAAN,CAAWxD,MAAOkC,CAAAA,OAAlB,CAAZ,CAAwC,CAChCuB,EAAAA,CAAMzD,MAAOmC,CAAAA,SAAP,CAAiBhB,GAAjB,CAeuB,EAbpB4B,GAAAA,CAAAA,IAAUW,KAAAA,KAAJD,EAAIC,CAAAA,IAc7B,OAAMC,OAASZ,GAAKlC,CAAAA,GAAL,CAAS6C,IAAT,CAEf,IAAI,CAACC,MAAL,CAEE,KAAUC,MAAJ,CAAU,+CAA+CF,IAA/C,WADsE,IAAvE1D,GAAuB,IAAtB,EAAA+C,GAAKc,CAAAA,KAAMC,CAAAA,OAAX,CAA6Bf,GAAKc,CAAAA,KAAMC,CAAAA,OAAQC,CAAAA,KAAhD,CAAwDC,IAAAA,EAAzDhE,EAAoG,IAAtB,EAAA+C,GAAKc,CAAAA,KAAMC,CAAAA,OAAX,CAA6Bf,GAAKc,CAAAA,KAAMC,CAAAA,OAAQC,CAAAA,KAAhD;AAAwDC,IAAAA,EAAtIhE,CAAkJ+C,GAAKc,CAAAA,KAAMpB,CAAAA,SAC5J,IAAV,CAAN,CAIA,GAAA,CADEkB,MAAOM,CAAAA,KAAX,GAAqBtC,KAAMuC,CAAAA,EAA3B,CAC0B,IAD1B,GACSP,MAAOQ,CAAAA,KADhB,CAEWR,MAAOM,CAAAA,KAAX,GAAqBtC,KAAMyC,CAAAA,GAA3B,CAC2B,CAD3B,GACET,MAAOU,CAAAA,MAAOC,CAAAA,MADhB,CAVgC,IAAA,EAAA,CAb/B,GAAJ,EACEnC,SAAA,CAAUhB,GAAV,CACA,CADiBsC,EACjB,CAAAH,QAAOiB,CAAAA,IAAP,CAAYrC,OAAQqC,CAAAA,IAAR,CAAapD,GAAb,CAAZ,CAFF,EAIEmC,QAAOiB,CAAAA,IAAP,CAAYP,IAAAA,EAAZ,CAPoC,CAH1C,MAcSV,SAzCuC,CA6DlD,OAlIgBkB,SAAS,EAAG,CAC1B,IAAMvE,QAVS4B,QAUUC,CAAAA,KAAT,CAAeA,KAAf,CAChB,OAAM2C,OAAS,EAEK,KAApB,EAAIxE,OAAQyE,CAAAA,IAAZ,EACED,MAAOF,CAAAA,IAAP,CAAYtE,OAAQyE,CAAAA,IAApB,CAGoB,KAAtB,EAAIzE,OAAQ0E,CAAAA,MAAZ,EACEF,MAAOF,CAAAA,IAAP,CAAYtE,OAAQ0E,CAAAA,MAApB,CAGF,KAAK,MAAMC,CAAX,GAAgBrB,MAAMC,CAAAA,IAAN,CAAWzB,OAAX,CAAhB,CACEe,OAAA,CAAQ8B,CAAE7B,CAAAA,IAAV,CAAgB6B,CAAE5E,CAAAA,MAAlB,CAA0B4E,CAAEjC,CAAAA,QAA5B,CAcFV,SAAA,CAXgB,CAAA,EAAA,EAAM,CACpB,MAAMqB,OAAS,EAEf,KAAK,MAAML,EAAX,GAAiBV,QAAjB,CAEEe,MAAOiB,CAAAA,IAAP,CADYhC,OAAAW,CAAQD,EAARC,CACZ,CAGF;MAAOI,OARa,CAAN,CAAD,EASVuB,CAAAA,IATUC,CASL,CAACC,CAAD,CAAIC,CAAJ,CAAA,EAAUpD,QAASqD,CAAAA,OAAT,CAAiBF,CAAEpC,CAAAA,QAAnB,CAA6BqC,CAAErC,CAAAA,QAA/B,CATLmC,CAWGI,CAAAA,GAAP,CAAWC,CAAA,EAAKA,CAAEzC,CAAAA,IAAlB,CACPA,QAAAA,CArCWb,QAqCKuD,CAAAA,KAAT,CAAenD,QAAf,CACXS,QAAA,CAtCeb,QAsCCwD,CAAAA,MAAT,CAAgB3C,OAAhB,CAEH+B,OAAOH,CAAAA,MAAX,GACE5B,OADF,CACS,CAzCMb,QAyCIuD,CAAAA,KAAT,CAAeX,MAAf,CAAD,CAAyB/B,OAAzB,CAA+B4C,CAAAA,IAA/B,CAAoC,IAApC,CADT,CAIA5C,QAAA,CA5Ceb,QA4CC0D,CAAAA,KAAT,CAAe7C,OAAf,CACPA,QAAA,CA7Ceb,QA6CC2D,CAAAA,MAAT,CAAgB9C,OAAhB,CAGP,OAAO,CACLD,UAFQT,QAEKyD,CAAAA,IAAK/B,CAAAA,IADb,CAELhB,KAAAA,OAFK,CAIL+C,KALQzD,QAKAyD,CAAAA,IAJH,CAMLC,MAPQ1D,QAOCyD,CAAAA,IAAK/B,CAAAA,IANT,CAQLvB,SARK,CASLC,QATK,CAULC,UAVK,CAWLC,QAXK,CAvCmB,CAkIrB,EA5IkD,CAhCiD;",
"sources":["node_modules/shadergraph/src/linker/link.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$shadergraph$src$linker$link\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.link = void 0;\n\nvar Graph = _interopRequireWildcard(require(\"../graph\"));\n\nvar Priority = _interopRequireWildcard(require(\"./priority\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n\n/*\n Callback linker\n\n Imports given modules and generates linkages for registered callbacks.\n\n Builds composite program with single module as exported entry point\n*/\nconst link = function (language, links, modules, exported) {\n  const generate = language;\n  let includes = [];\n  const symbols = [];\n  const externals = {};\n  const uniforms = {};\n  const attributes = {};\n  const varyings = {};\n  const library = {};\n\n  const process = function () {\n    const exports = generate.links(links);\n    const header = [];\n\n    if (exports.defs != null) {\n      header.push(exports.defs);\n    }\n\n    if (exports.bodies != null) {\n      header.push(exports.bodies);\n    }\n\n    for (const m of Array.from(modules)) {\n      include(m.node, m.module, m.priority);\n    }\n\n    const sorted = (() => {\n      const result = [];\n\n      for (const ns in library) {\n        const lib = library[ns];\n        result.push(lib);\n      }\n\n      return result;\n    })().sort((a, b) => Priority.compare(a.priority, b.priority));\n\n    includes = sorted.map(x => x.code);\n    let code = generate.lines(includes);\n    code = generate.defuse(code);\n\n    if (header.length) {\n      code = [generate.lines(header), code].join(\"\\n\");\n    }\n\n    code = generate.hoist(code);\n    code = generate.dedupe(code); // Export module's externals\n\n    const e = exported;\n    return {\n      namespace: e.main.name,\n      code,\n      // Complete snippet (tests/debug)\n      main: e.main,\n      // Function signature\n      entry: e.main.name,\n      // Entry point name\n      externals,\n      uniforms,\n      attributes,\n      varyings\n    };\n  }; // Adopt given code as a library at given priority\n\n\n  const adopt = function (namespace, code, priority) {\n    const record = library[namespace];\n\n    if (record != null) {\n      return record.priority = Priority.max(record.priority, priority);\n    } else {\n      return library[namespace] = {\n        code,\n        priority\n      };\n    }\n  }; // Include piece of code\n\n\n  const include = function (node, module, priority) {\n    let def, key;\n    priority = Priority.make(priority); // Adopt snippet's libraries\n\n    for (const ns in module.library) {\n      const lib = module.library[ns];\n      adopt(ns, lib.code, Priority.nest(priority, lib.priority));\n    } // Adopt snippet body as library\n\n\n    adopt(module.namespace, module.body, priority); // Adopt externals\n\n    for (key in module.uniforms) {\n      def = module.uniforms[key];\n      uniforms[key] = def;\n    }\n\n    for (key in module.varyings) {\n      def = module.varyings[key];\n      varyings[key] = def;\n    }\n\n    for (key in module.attributes) {\n      def = module.attributes[key];\n      attributes[key] = def;\n    }\n\n    return (() => {\n      const result = [];\n\n      for (key of Array.from(module.symbols)) {\n        const ext = module.externals[key];\n\n        if (isDangling(node, ext.name)) {\n          externals[key] = ext;\n          result.push(symbols.push(key));\n        } else {\n          result.push(undefined);\n        }\n      }\n\n      return result;\n    })();\n  }; // Check for dangling input/output\n\n\n  const isDangling = function (node, name) {\n    const outlet = node.get(name);\n\n    if (!outlet) {\n      const module = (node.owner.snippet != null ? node.owner.snippet._name : undefined) != null ? node.owner.snippet != null ? node.owner.snippet._name : undefined : node.owner.namespace;\n      throw new Error(`Unable to link program. Unlinked callback \\`${name}\\` on \\`${module}\\``);\n    }\n\n    if (outlet.inout === Graph.IN) {\n      return outlet.input === null;\n    } else if (outlet.inout === Graph.OUT) {\n      return outlet.output.length === 0;\n    }\n  };\n\n  return process();\n};\n\nexports.link = link;\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","value","link","Graph","Priority","language","links","modules","exported","includes","symbols","externals","uniforms","attributes","varyings","library","adopt","namespace","code","priority","record","max","include","node","make","ns","lib","nest","body","def","result","Array","from","ext","name","outlet","Error","owner","snippet","_name","undefined","inout","IN","input","OUT","output","length","push","process","header","defs","bodies","m","sort","sorted","a","b","compare","map","x","lines","defuse","join","hoist","dedupe","main","entry"]
}

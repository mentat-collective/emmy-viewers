{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$present$play.js",
"lineCount":3,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/present/play.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$present$play\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Play = void 0;\n\nvar _track = require(\"./track.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Play extends _track.Track {\n  static initClass() {\n    this.traits = [\"node\", \"track\", \"trigger\", \"play\", \"bind\"];\n  }\n\n  init() {\n    super.init();\n    this.skew = null;\n    return this.start = null;\n  }\n\n  reset(go) {\n    if (go == null) {\n      go = true;\n    }\n\n    this.skew = go ? 0 : null;\n    return this.start = null;\n  }\n\n  make() {\n    super.make(); // Start on slide, or immediately if not inside slide\n\n    this._listen(\"slide\", \"slide.step\", e => {\n      const {\n        trigger\n      } = this.props;\n\n      if (trigger != null && e.index === trigger) {\n        return this.reset();\n      }\n\n      if (trigger != null && e.index === 0) {\n        return this.reset(false);\n      }\n    });\n\n    if (!this.props.trigger || this._inherit(\"slide\") == null) {\n      this.reset();\n    } // Find parent clock\n\n\n    const parentClock = this._inherit(\"clock\"); // Update clock\n\n\n    return this._listen(parentClock, \"clock.tick\", () => {\n      const {\n        from,\n        to,\n        speed,\n        pace,\n        delay,\n        realtime\n      } = this.props;\n      const time = parentClock.getTime();\n\n      if (this.skew != null) {\n        const now = realtime ? time.time : time.clock;\n        const delta = realtime ? time.delta : time.step;\n        const ratio = speed / pace;\n\n        if (this.start == null) {\n          this.start = now;\n        }\n\n        this.skew += delta * (ratio - 1);\n        let offset = Math.max(0, now - this.start + this.skew - delay * ratio);\n\n        if (this.props.loop) {\n          offset = offset % (to - from);\n        }\n\n        this.playhead = Math.min(to, from + offset);\n      } else {\n        this.playhead = 0;\n      }\n\n      return this.update();\n    });\n  }\n\n  update() {\n    return super.update();\n  }\n\n  change(changed, touched, init) {\n    if (changed[\"trigger.trigger\"] || changed[\"play.realtime\"]) {\n      return this.rebuild();\n    }\n\n    return super.change(changed, touched, init);\n  }\n\n}\n\nexports.Play = Play;\nPlay.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Play","_track","Track","initClass","traits","init","start","skew","reset","go","make","_listen","e","trigger","props","index","_inherit","parentClock","from","to","speed","pace","delay","realtime","time","getTime","now","clock","delta","step","ratio","offset","Math","max","loop","playhead","min","update","change","changed","touched","rebuild"]
}

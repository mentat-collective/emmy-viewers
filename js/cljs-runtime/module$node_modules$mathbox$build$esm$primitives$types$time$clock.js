shadow$provide.module$node_modules$mathbox$build$esm$primitives$types$time$clock=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.Clock=void 0;global=require("module$node_modules$mathbox$build$esm$primitives$types$base$parent");class Clock extends global.Parent{static initClass(){this.traits=["node","clock","seek","play"]}init(){this.last=this.skew=0;return this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}make(){return this._listen("clock",
"clock.tick",this.tick)}reset(){return this.skew=0}tick(e){const {from,to,speed,seek,pace,delay,realtime}=this.props,parent=this._inherit("clock").getTime(),time=realtime?parent.time:parent.clock,delta=realtime?parent.delta:parent.step,ratio=speed/pace;this.skew+=delta*(ratio-1);this.last>time&&(this.skew=0);this.time.now=parent.now+this.skew;this.time.time=parent.time;this.time.delta=parent.delta;this.time.clock=Math.min(to,from+Math.max(0,(null!=seek?seek:parent.clock+this.skew)-delay*ratio));this.time.step=
delta*ratio;this.last=time;return this.trigger(e)}getTime(){return this.time}}exports.Clock=Clock;Clock.initClass()}
//# sourceMappingURL=module$node_modules$mathbox$build$esm$primitives$types$time$clock.js.map

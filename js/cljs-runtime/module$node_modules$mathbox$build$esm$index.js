shadow$provide.module$node_modules$mathbox$build$esm$index=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===
obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=
obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}Object.defineProperty(exports,"__esModule",{value:!0});exports.mathBox=exports.DOM=exports.Util=exports.Stage=exports.Shaders=exports.Render=exports.Primitives=exports.Overlay=exports.Model=exports.version=exports.Context=exports.e=exports.\u03c4=exports.\u03c0=void 0;require("module$node_modules$mathbox$build$esm$splash");require("module$node_modules$threestrap$src$index");global=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$model$index"));
module=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$overlay$index"));var primitives=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$primitives$index")),render=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$render$index")),shaders=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$shaders$index")),stage=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$stage$index")),util=_interopRequireWildcard(require("module$node_modules$mathbox$build$esm$util$index")),
_bootstrap=require("module$node_modules$threestrap$src$bootstrap");require=require("module$node_modules$mathbox$build$esm$context");const \u03c0=Math.PI;exports.\u03c0=\u03c0;exports.\u03c4=2*\u03c0;exports.e=Math.E;const Context=require.Context;exports.Context=Context;const version=require.Context.Version;exports.version=version;exports.Model=global;exports.Overlay=module;exports.Primitives=primitives;exports.Render=render;exports.Shaders=shaders;exports.Stage=stage;exports.Util=util;exports.DOM=
util.VDOM;exports.mathBox=function(options){options=new _bootstrap.Bootstrap(options);options.fallback||(options.Time||options.install("time"),options.MathBox||options.install(["mathbox","splash"]));return null!=options.mathbox?options.mathbox:options};_bootstrap.Bootstrap.registerPlugin("mathbox",{defaults:{init:!0,warmup:2,inspect:!0,splash:!0},listen:["ready","pre","update","post","resize"],install(three){let inited=!1;this.first=!0;return three.MathBox={init:options=>{inited||(inited=!0,this.context=
new Context(three.renderer,(null!=options?options.scene:void 0)||this.options.scene||three.scene,(null!=options?options.camera:void 0)||this.options.camera||three.camera),this.context.api.three=three.three=three,this.context.api.mathbox=three.mathbox=this.context.api,this.context.api.start=()=>three.Loop.start(),this.context.api.stop=()=>three.Loop.stop(),this.context.init(),this.context.resize(three.Size),this.context.setWarmup(this.options.warmup),this.pending=0,this.warm=!this.options.warmup,console.log("MathBoxÂ²",
version),three.trigger({type:"mathbox/init",version,context:this.context}))},destroy:()=>{inited&&(inited=!1,three.trigger({type:"mathbox/destroy",context:this.context}),this.context.destroy(),delete three.mathbox,delete this.context.api.three,delete this.context)},object:()=>null!=this.context?this.context.scene.root:void 0}},uninstall(three){three.MathBox.destroy();delete three.MathBox},ready(event,three){if(this.options.init)return three.MathBox.init(),setTimeout(()=>{if(this.options.inspect&&
three.MathBox)return this.inspect(three)})},inspect(three){this.context.api.inspect();if(!this.options.warmup)return this.info(three)},info(three){const fmt=function(x){const out=[];for(;1E3<=x;)out.unshift(("000"+x%1E3).slice(-3)),x=Math.floor(x/1E3);out.unshift(x);return out.join(",")};three=three.renderer.info.render;console.log("Geometry  ",fmt(three.triangles)+" triangles  ",fmt(three.points)+" points  ",fmt(three.lines)+" lines  ",fmt(three.calls)+" draw calls  ")},resize(event,three){return null!=
this.context?this.context.resize(three.Size):void 0},pre(event,three){return null!=this.context?this.context.pre(three.Time):void 0},update(event,three){let camera;null!=this.context&&this.context.update();(camera=null!=this.context?this.context.camera:void 0)&&camera!==three.camera&&(three.camera=camera);three.Time.set({speed:this.context.speed});this.progress(this.context.getPending(),three);return null!=this.context?this.context.render():void 0},post(_event,_three){return null!=this.context?this.context.post():
void 0},progress(remain,three){if(remain||this.pending){var pending=Math.max(remain+this.options.warmup,this.pending),current=pending-remain,total=pending;three.trigger({type:"mathbox/progress",current:pending-remain,total:pending});0===remain&&(pending=0);this.pending=pending;current!==total||this.warm||(this.warm=!0,this.options.inspect&&this.info(three))}}})}
//# sourceMappingURL=module$node_modules$mathbox$build$esm$index.js.map

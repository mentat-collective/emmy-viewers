{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$operator$join.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/operator/join.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$operator$join\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Join = void 0;\n\nvar UGLSL = _interopRequireWildcard(require(\"../../../util/glsl.js\"));\n\nvar _operator = require(\"./operator.js\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n\n/*\nsplit:\n  order:       Types.transpose('wxyz')\n  axis:        Types.axis()\n  overlap:     Types.int(0)\n*/\nclass Join extends _operator.Operator {\n  static initClass() {\n    this.traits = [\"node\", \"bind\", \"operator\", \"source\", \"index\", \"join\"];\n  }\n\n  indexShader(shader) {\n    shader.pipe(this.operator);\n    return super.indexShader(shader);\n  }\n\n  sourceShader(shader) {\n    shader.pipe(this.operator);\n    return super.sourceShader(shader);\n  }\n\n  getDimensions() {\n    return this._resample(this.bind.source.getDimensions());\n  }\n\n  getActiveDimensions() {\n    return this._resample(this.bind.source.getActiveDimensions());\n  }\n\n  getFutureDimensions() {\n    return this._resample(this.bind.source.getFutureDimensions());\n  }\n\n  getIndexDimensions() {\n    return this._resample(this.bind.source.getIndexDimensions());\n  }\n\n  _resample(dims) {\n    let left;\n    let dim;\n    const {\n      order,\n      axis,\n      stride\n    } = this;\n    const labels = [\"width\", \"height\", \"depth\", \"items\"];\n    const mapped = order.map(x => labels[x - 1]);\n    const index = order.indexOf(axis);\n\n    let set = (() => {\n      const result = [];\n\n      for (dim of Array.from(mapped)) {\n        result.push(dims[dim]);\n      }\n\n      return result;\n    })();\n\n    const product = ((left = set[index + 1]) != null ? left : 1) * stride;\n    set.splice(index, 2, product);\n    set = set.slice(0, 3);\n    set.push(1);\n    const out = {};\n\n    for (let i = 0; i < mapped.length; i++) {\n      dim = mapped[i];\n      out[dim] = set[i];\n    } //console.log 'join', order, axis, length, stride\n    //console.log dims, out\n\n\n    return out;\n  }\n\n  make() {\n    super.make();\n\n    if (this.bind.source == null) {\n      return;\n    }\n\n    const {\n      order\n    } = this.props;\n    let {\n      axis\n    } = this.props;\n    let {\n      overlap\n    } = this.props;\n    /*\n    Calculate index transform\n         order: wxyz\n    length: 3\n    overlap: 1\n         axis: w\n    index: 0\n    rest: 00xy\n         axis: x\n    index: 1\n    rest: w00y\n         axis: y\n    index: 2\n    rest: wx00\n         axis: z\n    index: 3\n    rest: wxy0\n         */\n\n    const permute = order.join(\"\");\n\n    if (axis == null) {\n      axis = order[0];\n    }\n\n    const index = permute.indexOf(axis);\n    const rest = permute.replace(axis, \"00\").substring(0, 4);\n    const labels = [null, \"width\", \"height\", \"depth\", \"items\"];\n    const major = labels[axis]; // Prepare uniforms\n\n    const dims = this.bind.source.getDimensions();\n    const length = dims[major];\n    overlap = Math.min(length - 1, overlap);\n    const stride = length - overlap;\n    const uniforms = {\n      joinStride: this._attributes.make(this._types.number(stride)),\n      joinStrideInv: this._attributes.make(this._types.number(1 / stride))\n    }; // Build shader to split a dimension into two\n\n    const transform = this._shaders.shader();\n\n    transform.require(UGLSL.swizzleVec4(axis, 1));\n\n    transform.require(UGLSL.swizzleVec4(rest, 4));\n\n    transform.require(UGLSL.injectVec4([index, index + 1]));\n\n    transform.pipe(\"join.position\", uniforms);\n    transform.pipe(UGLSL.invertSwizzleVec4(order));\n    this.operator = transform;\n    this.order = order;\n    this.axis = axis;\n    this.overlap = overlap;\n    this.length = length;\n    return this.stride = stride;\n  }\n\n  unmake() {\n    return super.unmake();\n  }\n\n  change(changed, touched, _init) {\n    if (touched[\"join\"] || touched[\"operator\"]) {\n      return this.rebuild();\n    }\n  }\n\n}\n\nexports.Join = Join;\nJoin.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","Object","defineProperty","value","Join","UGLSL","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_operator","Operator","initClass","traits","indexShader","shader","pipe","operator","sourceShader","getDimensions","_resample","bind","source","getActiveDimensions","getFutureDimensions","getIndexDimensions","dims","left","dim","order","axis","stride","labels","mapped","map","x","index","indexOf","result","Array","from","push","product","splice","slice","out","i","length","make","props","overlap","permute","join","rest","replace","substring","major","Math","min","uniforms","joinStride","_attributes","_types","number","joinStrideInv","transform","_shaders","swizzleVec4","injectVec4","invertSwizzleVec4","unmake","change","changed","touched","_init","rebuild"]
}

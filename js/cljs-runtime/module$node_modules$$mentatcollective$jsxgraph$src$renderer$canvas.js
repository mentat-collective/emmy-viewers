shadow$provide.module$node_modules$$mentatcollective$jsxgraph$src$renderer$canvas=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _jxg=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$jxg"));global=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$renderer$abstract"));var _constants=
_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$constants")),_env=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$env")),_type=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$type")),_uuid=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$uuid")),_color=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$color")),
_coords=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$coords")),_math=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$math")),_geometry=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$geometry")),_numerics=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$numerics")),_canvas=_interopRequireDefault(require("module$node_modules$canvas$browser"));
_jxg.default.CanvasRenderer=function(container,dim){this.type="canvas";this.suspendHandle=this.canvasRoot=null;this.canvasId=_uuid.default.genUUID();this.canvasNamespace=null;if(_env.default.isBrowser)this.container=container,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.innerHTML=['\x3ccanvas id\x3d"',this.canvasId,'" width\x3d"',
dim.width,'px" height\x3d"',dim.height,'px"\x3e\x3c/canvas\x3e'].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(_env.default.isNode())try{this.canvasId="object"===typeof module?module.require("canvas"):_canvas.default,this.canvasRoot=new this.canvasId(500,500),this.context=this.canvasRoot.getContext("2d")}catch(err){console.log("Warning: 'canvas' not found. You might need to call 'npm install canvas'")}this.dashArray=
[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5]]};_jxg.default.CanvasRenderer.prototype=new global.default;_jxg.default.extend(_jxg.default.CanvasRenderer.prototype,{_drawPolygon:function(shape,degree,doFill){var len=shape.length,context=this.context;if(0<len){doFill&&(context.lineWidth=0);context.beginPath();context.moveTo(shape[0][0],shape[0][1]);if(1===degree)for(degree=1;degree<len;degree++)context.lineTo(shape[degree][0],shape[degree][1]);else for(degree=1;degree<len;degree+=3)context.bezierCurveTo(shape[degree][0],
shape[degree][1],shape[degree+1][0],shape[degree+1][1],shape[degree+2][0],shape[degree+2][1]);doFill?(context.lineTo(shape[0][0],shape[0][1]),context.closePath(),context.fill("evenodd")):context.stroke()}},_fill:function(el){var context=this.context;context.save();this._setColor(el,"fill")&&context.fill("evenodd");context.restore()},_rotatePoint:function(angle,x,y){return[x*Math.cos(angle)-y*Math.sin(angle),x*Math.sin(angle)+y*Math.cos(angle)]},_rotateShape:function(shape,angle){var i,rv=[],len=shape.length;
if(0>=len)return shape;for(i=0;i<len;i++)rv.push(this._rotatePoint(angle,shape[i][0],shape[i][1]));return rv},updateGradientAngle:function(el,radians){var f=1,co=Math.cos(-radians),si=Math.sin(-radians),bb=el.getBoundingBox();f=Math.abs(co)>Math.abs(si)?f/Math.abs(co):f/Math.abs(si);0<=co?(radians=0,co*=f):(radians=-co*f,co=0);if(0<=si){var y1=0;si*=f}else y1=-si*f,si=0;f=new _coords.default(_constants.default.COORDS_BY_USER,[bb[0],bb[1]],el.board);bb=new _coords.default(_constants.default.COORDS_BY_USER,
[bb[2],bb[3]],el.board);el=bb.scrCoords[1]-f.scrCoords[1];bb=bb.scrCoords[2]-f.scrCoords[2];return this.context.createLinearGradient(f.scrCoords[1]+el*radians,f.scrCoords[2]+bb*y1,f.scrCoords[1]+el*co,f.scrCoords[2]+bb*si)},updateGradientCircle:function(el,cx,cy,r,fx,fy,fr){var bb=el.getBoundingBox();var c1=new _coords.default(_constants.default.COORDS_BY_USER,[bb[0],bb[1]],el.board);el=new _coords.default(_constants.default.COORDS_BY_USER,[bb[2],bb[3]],el.board);bb=el.scrCoords[1]-c1.scrCoords[1];
var dy=c1.scrCoords[2]-el.scrCoords[2];return this.context.createRadialGradient(c1.scrCoords[1]+bb*fx,el.scrCoords[2]+dy*fy,fr*(bb+dy)*.5,c1.scrCoords[1]+bb*cx,el.scrCoords[2]+dy*cy,r*(bb+dy)*.5)},updateGradient:function(el){var ev_g=_type.default.evaluate(el.visProp.gradient),gradient;_type.default.evaluate(el.visProp.fillopacity);var col=_type.default.evaluate(el.visProp.fillcolor);"linear"===ev_g?gradient=this.updateGradientAngle(el,_type.default.evaluate(el.visProp.gradientangle)):"radial"===
ev_g&&(gradient=this.updateGradientCircle(el,_type.default.evaluate(el.visProp.gradientcx),_type.default.evaluate(el.visProp.gradientcy),_type.default.evaluate(el.visProp.gradientr),_type.default.evaluate(el.visProp.gradientfx),_type.default.evaluate(el.visProp.gradientfy),_type.default.evaluate(el.visProp.gradientfr)));gradient.addColorStop(_type.default.evaluate(el.visProp.gradientstartoffset),col);gradient.addColorStop(_type.default.evaluate(el.visProp.gradientendoffset),_type.default.evaluate(el.visProp.gradientsecondcolor));
return gradient},_setColor:function(el,type,targetType){var hasColor=!0,ev=el.visProp;type=type||"stroke";targetType=targetType||type;var hl=this._getHighlighted(el);var o=_type.default.evaluate(el.visProp.gradient);if("linear"===o||"radial"===o)return this.context[targetType+"Style"]=this.updateGradient(el),hasColor;el=_type.default.evaluate(ev[hl+type+"color"]);if("none"!==el&&!1!==el){o=_type.default.evaluate(ev[hl+type+"opacity"]);o=0<o?o:0;if(9===el.length){var rgbo=_color.default.rgba2rgbo(el);
el=rgbo[0];o*=rgbo[1]}this.context.globalAlpha=o;this.context[targetType+"Style"]=el}else hasColor=!1;targetType=parseFloat(_type.default.evaluate(ev[hl+"strokewidth"]));"stroke"!==type||isNaN(targetType)||(0===targetType?this.context.globalAlpha=0:this.context.lineWidth=targetType);"stroke"===type&&void 0!==ev.linecap&&""!==ev.linecap&&(this.context.lineCap=ev.linecap);return hasColor},_stroke:function(el){var context=this.context,ev_dash=_type.default.evaluate(el.visProp.dash);context.save();0<
ev_dash?context.setLineDash&&context.setLineDash(this.dashArray[ev_dash]):this.context.lineDashArray=[];this._setColor(el,"stroke")&&context.stroke();context.restore()},_translateShape:function(shape,x,y){var i,rv=[],len=shape.length;if(0>=len)return shape;for(i=0;i<len;i++)rv.push([shape[i][0]+x,shape[i][1]+y]);return rv},drawPoint:function(el){var f=_type.default.evaluate(el.visProp.face),size=_type.default.evaluate(el.visProp.size),scr=el.coords.scrCoords,sqrt32=size*Math.sqrt(3)*.5,s05=.5*size,
stroke05=parseFloat(_type.default.evaluate(el.visProp.strokewidth))/2,context=this.context;if(el.visPropCalc.visible)switch(f){case "cross":case "x":context.beginPath();context.moveTo(scr[1]-size,scr[2]-size);context.lineTo(scr[1]+size,scr[2]+size);context.moveTo(scr[1]+size,scr[2]-size);context.lineTo(scr[1]-size,scr[2]+size);context.lineCap="round";context.lineJoin="round";context.closePath();this._stroke(el);break;case "circle":case "o":context.beginPath();context.arc(scr[1],scr[2],size+1+stroke05,
0,2*Math.PI,!1);context.closePath();this._fill(el);this._stroke(el);break;case "square":case "[]":if(0>=size)break;context.save();this._setColor(el,"stroke","fill")&&context.fillRect(scr[1]-size-stroke05,scr[2]-size-stroke05,2*size+3*stroke05,2*size+3*stroke05);context.restore();context.save();this._setColor(el,"fill");context.fillRect(scr[1]-size+stroke05,scr[2]-size+stroke05,2*size-stroke05,2*size-stroke05);context.restore();break;case "plus":case "+":context.beginPath();context.moveTo(scr[1]-size,
scr[2]);context.lineTo(scr[1]+size,scr[2]);context.moveTo(scr[1],scr[2]-size);context.lineTo(scr[1],scr[2]+size);context.lineCap="round";context.lineJoin="round";context.closePath();this._stroke(el);break;case "diamond":case "\x3c\x3e":context.beginPath();context.moveTo(scr[1]-size,scr[2]);context.lineTo(scr[1],scr[2]+size);context.lineTo(scr[1]+size,scr[2]);context.lineTo(scr[1],scr[2]-size);context.closePath();this._fill(el);this._stroke(el);break;case "triangleup":case "a":case "^":context.beginPath();
context.moveTo(scr[1],scr[2]-size);context.lineTo(scr[1]-sqrt32,scr[2]+s05);context.lineTo(scr[1]+sqrt32,scr[2]+s05);context.closePath();this._fill(el);this._stroke(el);break;case "triangledown":case "v":context.beginPath();context.moveTo(scr[1],scr[2]+size);context.lineTo(scr[1]-sqrt32,scr[2]-s05);context.lineTo(scr[1]+sqrt32,scr[2]-s05);context.closePath();this._fill(el);this._stroke(el);break;case "triangleleft":case "\x3c":context.beginPath();context.moveTo(scr[1]-size,scr[2]);context.lineTo(scr[1]+
s05,scr[2]-sqrt32);context.lineTo(scr[1]+s05,scr[2]+sqrt32);context.closePath();this._fill(el);this._stroke(el);break;case "triangleright":case "\x3e":context.beginPath(),context.moveTo(scr[1]+size,scr[2]),context.lineTo(scr[1]-s05,scr[2]-sqrt32),context.lineTo(scr[1]-s05,scr[2]+sqrt32),context.closePath(),this._fill(el),this._stroke(el)}},updatePoint:function(el){this.drawPoint(el)},drawArrows:function(el,scr1,scr2,hl,a){var context=this.context,degree_fa=1,degree_la=1,ang2,ev_fa=a.evFirst,ev_la=
a.evLast;if("none"!==_type.default.evaluate(el.visProp.strokecolor)&&(ev_fa||ev_la)){if(el.elementClass===_constants.default.OBJECT_CLASS_LINE){var x1=scr1.scrCoords[1];scr1=scr1.scrCoords[2];var x2=scr2.scrCoords[1];scr2=scr2.scrCoords[2];var ang1=ang2=Math.atan2(scr2-scr1,x2-x1)}else{x1=el.points[0].scrCoords[1];scr1=el.points[0].scrCoords[2];var d2y=el.points.length-1;if(1>d2y)return;x2=el.points[el.points.length-1].scrCoords[1];scr2=el.points[el.points.length-1].scrCoords[2];var w=el.points[1].scrCoords[1]-
el.points[0].scrCoords[1];var type=el.points[1].scrCoords[2]-el.points[0].scrCoords[2];var len=el.points[d2y].scrCoords[1]-el.points[d2y-1].scrCoords[1];d2y=el.points[d2y].scrCoords[2]-el.points[d2y-1].scrCoords[2];ev_fa&&(ang1=Math.atan2(type,w));ev_la&&(ang2=Math.atan2(d2y,len))}hl=_type.default.evaluate(el.visProp[hl+"strokewidth"]);if(ev_fa){w=a.sizeFirst;w*=hl;var type_fa=type=a.typeFirst;if(2===type)var arrowTail=[[w,.5*-w],[0,0],[w,.5*w],[.5*w,0]];else if(3===type)arrowTail=[[w/3,.5*-w],[0,
.5*-w],[0,.5*w],[w/3,.5*w]];else if(4===type)for(w/=10,degree_fa=3,arrowTail=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]],len=arrowTail.length,type=0;type<len;type++)arrowTail[type][0]*=-w,arrowTail[type][1]*=w,arrowTail[type][0]+=10*w,arrowTail[type][1]-=3.31*w;else if(5===type)for(w/=10,degree_fa=3,arrowTail=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],
[3.19,1.49],[6.61,2.37],[10,3.28]],len=arrowTail.length,type=0;type<len;type++)arrowTail[type][0]*=-w,arrowTail[type][1]*=w,arrowTail[type][0]+=10*w,arrowTail[type][1]-=3.28*w;else if(6===type)for(w/=10,degree_fa=3,arrowTail=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]],len=arrowTail.length,type=0;type<len;type++)arrowTail[type][0]*=-w,arrowTail[type][1]*=w,arrowTail[type][0]+=10*w,arrowTail[type][1]-=2.84*
w;else if(7===type)for(w=hl,degree_fa=3,arrowTail=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]],len=arrowTail.length,type=0;type<len;type++)arrowTail[type][0]*=-w,arrowTail[type][1]*=w,arrowTail[type][0]+=10*w,arrowTail[type][1]-=5.2*w;else arrowTail=[[w,.5*-w],[0,0],[w,.5*w]]}if(ev_la){w=a.sizeLast;w*=hl;var type_la=type=a.typeLast;if(2===type)var arrowHead=[[-w,.5*-w],[0,0],[-w,.5*w],[.5*-w,0]];else if(3===type)arrowHead=[[-w/3,.5*-w],[0,.5*-w],[0,.5*w],[-w/3,.5*w]];else if(4===
type)for(w/=10,degree_la=3,arrowHead=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]],len=arrowHead.length,type=0;type<len;type++)arrowHead[type][0]*=w,arrowHead[type][1]*=w,arrowHead[type][0]-=10*w,arrowHead[type][1]-=3.31*w;else if(5===type)for(w/=10,degree_la=3,arrowHead=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]],len=
arrowHead.length,type=0;type<len;type++)arrowHead[type][0]*=w,arrowHead[type][1]*=w,arrowHead[type][0]-=10*w,arrowHead[type][1]-=3.28*w;else if(6===type)for(w/=10,degree_la=3,arrowHead=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]],len=arrowHead.length,type=0;type<len;type++)arrowHead[type][0]*=w,arrowHead[type][1]*=w,arrowHead[type][0]-=10*w,arrowHead[type][1]-=2.84*w;else if(7===type)for(w=hl,degree_la=3,arrowHead=
[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]],len=arrowHead.length,type=0;type<len;type++)arrowHead[type][0]*=w,arrowHead[type][1]*=w,arrowHead[type][0]-=10*w,arrowHead[type][1]-=5.2*w;else arrowHead=[[-w,.5*-w],[0,0],[-w,.5*w]]}context.save();this._setColor(el,"stroke","fill")&&(this._setColor(el,"stroke"),ev_fa&&(el=7===type_fa?!1:!0,this._drawPolygon(this._translateShape(this._rotateShape(arrowTail,ang1),x1,scr1),degree_fa,el)),ev_la&&(el=7===type_la?!1:!0,this._drawPolygon(this._translateShape(this._rotateShape(arrowHead,
ang2),x2,scr2),degree_la,el)));context.restore()}},drawLine:function(el){var c1=new _coords.default(_constants.default.COORDS_BY_USER,el.point1.coords.usrCoords,el.board),c2=new _coords.default(_constants.default.COORDS_BY_USER,el.point2.coords.usrCoords,el.board);var c1_org=null;if(el.visPropCalc.visible){var hl=this._getHighlighted(el);var w=_type.default.evaluate(el.visProp[hl+"strokewidth"]);w=this.getArrowHeadData(el,w,hl);if(w.evFirst||w.evLast)c1_org=-4;_geometry.default.calcStraight(el,c1,
c2,c1_org);this.handleTouchpoints(el,c1,c2,w);c1_org=new _coords.default(_constants.default.COORDS_BY_USER,c1.usrCoords,el.board);var c2_org=new _coords.default(_constants.default.COORDS_BY_USER,c2.usrCoords,el.board);this.getPositionArrowHead(el,c1,c2,w);this.context.beginPath();this.context.moveTo(c1.scrCoords[1],c1.scrCoords[2]);this.context.lineTo(c2.scrCoords[1],c2.scrCoords[2]);this._stroke(el);(w.evFirst||w.evLast)&&this.drawArrows(el,c1_org,c2_org,hl,w)}},updateLine:function(el){this.drawLine(el)},
drawTicks:function(){},updateTicks:function(ticks){var i,len=ticks.ticks.length,j,context=this.context;context.beginPath();for(i=0;i<len;i++){var c=ticks.ticks[i];var x=c[0];c=c[1];var len2=x.length;context.moveTo(x[0],c[0]);for(j=1;j<len2;++j)context.lineTo(x[j],c[j])}context.lineCap="round";this._stroke(ticks)},drawCurve:function(el){_type.default.evaluate(el.visProp.handdrawing)?this.updatePathStringBezierPrim(el):this.updatePathStringPrim(el);if(1<el.numberPoints){var hl=this._getHighlighted(el);
var w=_type.default.evaluate(el.visProp[hl+"strokewidth"]);w=this.getArrowHeadData(el,w,hl);(w.evFirst||w.evLast)&&this.drawArrows(el,null,null,hl,w)}},updateCurve:function(el){this.drawCurve(el)},drawEllipse:function(el){var m1=el.center.coords.scrCoords[1],m2=el.center.coords.scrCoords[2],sX=el.board.unitX,sY=el.board.unitY,rX=2*el.Radius(),rY=2*el.Radius(),aWidth=rX*sX,aHeight=rY*sY;sY=m1-aWidth/2;sX=m2-aHeight/2;var hB=aWidth/2*.5522848,vB=aHeight/2*.5522848,eX=sY+aWidth,eY=sX+aHeight;aWidth=
sY+aWidth/2;aHeight=sX+aHeight/2;var context=this.context;0<rX&&0<rY&&!isNaN(m1+m2)&&(context.beginPath(),context.moveTo(sY,aHeight),context.bezierCurveTo(sY,aHeight-vB,aWidth-hB,sX,aWidth,sX),context.bezierCurveTo(aWidth+hB,sX,eX,aHeight-vB,eX,aHeight),context.bezierCurveTo(eX,aHeight+vB,aWidth+hB,eY,aWidth,eY),context.bezierCurveTo(aWidth-hB,eY,sY,aHeight+vB,sY,aHeight),context.closePath(),this._fill(el),this._stroke(el))},updateEllipse:function(el){return this.drawEllipse(el)},displayCopyright:function(str,
fontSize){var context=this.context;context.save();context.font=fontSize+"px Arial";context.fillStyle="#aaa";context.lineWidth=.5;context.fillText(str,10,2+fontSize);context.restore()},drawInternalText:function(el){var ev_fs=_type.default.evaluate(el.visProp.fontsize),fontUnit=_type.default.evaluate(el.visProp.fontunit),ev_ax=el.getAnchorX(),ev_ay=el.getAnchorY(),context=this.context;context.save();this._setColor(el,"stroke","fill")&&!isNaN(el.coords.scrCoords[1]+el.coords.scrCoords[2])&&(context.font=
(0<ev_fs?ev_fs:0)+fontUnit+" Arial",this.transformImage(el,el.transformations),"left"===ev_ax?context.textAlign="left":"right"===ev_ax?context.textAlign="right":"middle"===ev_ax&&(context.textAlign="center"),"bottom"===ev_ay?context.textBaseline="bottom":"top"===ev_ay?context.textBaseline="top":"middle"===ev_ay&&(context.textBaseline="middle"),context.fillText(el.plaintext,el.coords.scrCoords[1],el.coords.scrCoords[2]));context.restore();return null},updateInternalText:function(el){this.drawInternalText(el)},
setObjectStrokeColor:function(el,color,opacity){color=_type.default.evaluate(color);var o=_type.default.evaluate(opacity);o=0<o?o:0;if(el.visPropOld.strokecolor!==color||el.visPropOld.strokeopacity!==o){if(_type.default.exists(color)&&!1!==color){if(9!==color.length){opacity=color;var rgbo=o}else rgbo=_color.default.rgba2rgbo(color),opacity=rgbo[0],rgbo=o*rgbo[1];var node=el.rendNode;el.elementClass===_constants.default.OBJECT_CLASS_TEXT&&"html"===_type.default.evaluate(el.visProp.display)&&(node.style.color=
opacity,node.style.opacity=rgbo)}el.visPropOld.strokecolor=color;el.visPropOld.strokeopacity=o}},drawImage:function(el){el.rendNode=new Image;el._src="";this.updateImage(el)},updateImage:function(el){var context=this.context,o=_type.default.evaluate(el.visProp.fillopacity),paintImg=_type.default.bind(function(){el.imgIsLoaded=!0;0>=el.size[0]||0>=el.size[1]||(context.save(),context.globalAlpha=o,this.transformImage(el,el.transformations),context.drawImage(el.rendNode,el.coords.scrCoords[1],el.coords.scrCoords[2]-
el.size[1],el.size[0],el.size[1]),context.restore())},this);this.updateImageURL(el)?el.rendNode.onload=paintImg:el.imgIsLoaded&&paintImg()},transformImage:function(el,t){var ctx=this.context;0<t.length&&(el=this.joinTransforms(el,t),Math.abs(_numerics.default.det(el))>=_math.default.eps&&ctx.transform(el[1][1],el[2][1],el[1][2],el[2][2],el[1][0],el[2][0]))},updateImageURL:function(el){var url=_type.default.evaluate(el.url);return el._src!==url?(el.imgIsLoaded=!1,el.rendNode.src=url,el._src=url,!0):
!1},remove:function(shape){_type.default.exists(shape)&&_type.default.exists(shape.parentNode)&&shape.parentNode.removeChild(shape)},updatePathStringPrim:function(el){var i;var scr1="M";var context=this.context;if(!(0>=el.numberPoints)){var len=Math.min(el.points.length,el.numberPoints);context.beginPath();if(1===el.bezierDegree)for(i=0;i<len;i++){var scr=el.points[i].scrCoords;isNaN(scr[1])||isNaN(scr[2])?scr1="M":(5E3<scr[1]?scr[1]=5E3:-5E3>scr[1]&&(scr[1]=-5E3),5E3<scr[2]?scr[2]=5E3:-5E3>scr[2]&&
(scr[2]=-5E3),"M"===scr1?context.moveTo(scr[1],scr[2]):context.lineTo(scr[1],scr[2]),scr1="L")}else if(3===el.bezierDegree)for(i=0;i<len;){scr=el.points[i].scrCoords;if(isNaN(scr[1])||isNaN(scr[2]))scr1="M";else{if("M"===scr1)context.moveTo(scr[1],scr[2]);else{i+=1;scr1=el.points[i].scrCoords;i+=1;var scr2=el.points[i].scrCoords;context.bezierCurveTo(scr[1],scr[2],scr1[1],scr1[2],scr2[1],scr2[2])}scr1="C"}i+=1}context.lineCap="round";this._fill(el);this._stroke(el)}},updatePathStringBezierPrim:function(el){var j,
f=_type.default.evaluate(el.visProp.strokewidth);var i="plot"!==_type.default.evaluate(el.visProp.curvetype);var context=this.context;if(!(0>=el.numberPoints)){i&&el.board.options.curve.RDPsmoothing&&(el.points=_numerics.default.RamerDouglasPeucker(el.points,.5));var len=Math.min(el.points.length,el.numberPoints);context.beginPath();for(j=1;3>j;j++){var k="M";for(i=0;i<len;i++){var scr=el.points[i].scrCoords;if(isNaN(scr[1])||isNaN(scr[2]))k="M";else{5E3<scr[1]?scr[1]=5E3:-5E3>scr[1]&&(scr[1]=-5E3);
5E3<scr[2]?scr[2]=5E3:-5E3>scr[2]&&(scr[2]=-5E3);"M"===k?context.moveTo(scr[1],scr[2]):(k=2*j,context.bezierCurveTo(lx+.333*(scr[1]-lx)+f*(k*Math.random()-j),ly+.333*(scr[2]-ly)+f*(k*Math.random()-j),lx+.666*(scr[1]-lx)+f*(k*Math.random()-j),ly+.666*(scr[2]-ly)+f*(k*Math.random()-j),scr[1],scr[2]));k="C";var lx=scr[1];var ly=scr[2]}}}context.lineCap="round";this._fill(el);this._stroke(el)}},updatePolygonPrim:function(node,el){var i,len=el.vertices.length,context=this.context,isReal=!0;if(!(0>=len)&&
el.visPropCalc.visible){"polygonalchain"===el.elType&&len++;context.beginPath();for(i=0;!el.vertices[i].isReal&&i<len-1;)i++,isReal=!1;node=el.vertices[i].coords.scrCoords;for(context.moveTo(node[1],node[2]);i<len-1;i++)el.vertices[i].isReal||(isReal=!1),node=el.vertices[i].coords.scrCoords,context.lineTo(node[1],node[2]);context.closePath();isReal&&this._fill(el)}},display:function(el,val){el&&el.rendNode&&(el.visPropOld.visible=val,el.rendNode.style.visibility=val?"inherit":"hidden")},show:function(el){_jxg.default.deprecated("Board.renderer.show()",
"Board.renderer.display()");_type.default.exists(el.rendNode)&&(el.rendNode.style.visibility="inherit")},hide:function(el){_jxg.default.deprecated("Board.renderer.hide()","Board.renderer.display()");_type.default.exists(el.rendNode)&&(el.rendNode.style.visibility="hidden")},setGradient:function(el){_type.default.evaluate(el.visProp.fillopacity)},setShadow:function(el){el.visPropOld.shadow!==el.visProp.shadow&&(el.visPropOld.shadow=el.visProp.shadow)},highlight:function(obj){obj.elementClass===_constants.default.OBJECT_CLASS_TEXT&&
"html"===_type.default.evaluate(obj.visProp.display)?this.updateTextStyle(obj,!0):(obj.board.prepareUpdate(),obj.board.renderer.suspendRedraw(obj.board),obj.board.updateRenderer(),obj.board.renderer.unsuspendRedraw());return this},noHighlight:function(obj){obj.elementClass===_constants.default.OBJECT_CLASS_TEXT&&"html"===_type.default.evaluate(obj.visProp.display)?this.updateTextStyle(obj,!1):(obj.board.prepareUpdate(),obj.board.renderer.suspendRedraw(obj.board),obj.board.updateRenderer(),obj.board.renderer.unsuspendRedraw());
return this},suspendRedraw:function(board){this.context.save();this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height);board&&board.attr.showcopyright&&this.displayCopyright(_jxg.default.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(w,h){this.container?(this.canvasRoot.style.width=parseFloat(w)+"px",this.canvasRoot.style.height=parseFloat(h)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(w)+"px"),this.canvasRoot.setAttribute("height",
2*parseFloat(h)+"px")):(this.canvasRoot.width=2*parseFloat(w),this.canvasRoot.height=2*parseFloat(h));this.context=this.canvasRoot.getContext("2d");this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}});exports.default=_jxg.default.CanvasRenderer}
//# sourceMappingURL=module$node_modules$$mentatcollective$jsxgraph$src$renderer$canvas.js.map

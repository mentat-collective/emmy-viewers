{
"version":3,
"file":"module$node_modules$shadergraph$src$block$block.js",
"lineCount":9,
"mappings":"AAAAA,cAAA,CAAA,+CAAA,CAAoE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,eAAhB,CAAuBC,OAAvB,CAAgC,CAY5GC,QAASA,yBAAwB,CAACC,oBAAD,CAAc,CAAE,GAAuB,UAAvB,GAAI,MAAOC,QAAX,CAAmC,MAAO,KAAM,KAAIC,kBAAoB,IAAID,OAA5B,CAA2CE,iBAAmB,IAAIF,OAAW,OAAO,CAACF,wBAAD,CAA4BA,QAAS,CAACC,WAAD,CAAc,CAAE,MAAOA,YAAA,CAAcG,gBAAd,CAAiCD,iBAA1C,CAAnD,EAAmHF,oBAAnH,CAAtI,CAmM/CI,QAASA,UAAS,CAACC,KAAD,CAAQC,SAAR,CAAmB,CACnC,MAAwB,WAAjB,GAAA,MAAOD,MAAP,EAA0C,IAA1C,GAAgCA,KAAhC,CAAiDC,SAAA,CAAUD,KAAV,CAAjD;AAAoEE,IAAAA,EADxC,CA5MrCC,MAAOC,CAAAA,cAAP,CAAsBX,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CO,MAAO,CAAA,CADoC,CAA7C,CAGAP,QAAQY,CAAAA,KAAR,CAAgB,IAAK,EAErB,KAAIC,MAMJC,QAAgC,CAACC,GAAD,CAAMb,WAAN,CAAmB,CAAE,GAAI,CAACA,WAAL,EAAoBa,GAApB,EAA2BA,GAAIC,CAAAA,UAA/B,CAA6C,MAAOD,IAAO,IAAY,IAAZ,GAAIA,GAAJ,EAAmC,QAAnC,GAAoB,MAAOA,IAA3B,EAA8D,UAA9D,GAA+C,MAAOA,IAAtD,CAA4E,MAAO,CAAEE,QAASF,GAAX,CAAuE,KAA/CG,WAA+C,CAAvCjB,wBAAA,CAAyBC,WAAzB,CAAuC,GAAagB,WAAMC,CAAAA,GAAN,CAAUJ,GAAV,CAAb,CAA+B,MAAOG,YAAME,CAAAA,GAAN,CAAUL,GAAV,CAAkB,KAAIM,OAAS,EAAb,CAAqBC,sBAAwBZ,MAAOC,CAAAA,cAA/BW,EAAiDZ,MAAOa,CAAAA,wBAA7E,CAAgHC,GAAT,KAASA,GAAT,GAAgBT,IAAhB,CAAuB,GAAY,SAAZ,GAAIS,GAAJ,EAAyBd,MAAOe,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqCZ,GAArC;AAA0CS,GAA1C,CAAzB,CAAyE,CAAE,IAAII,KAAON,qBAAA,CAAwBZ,MAAOa,CAAAA,wBAAP,CAAgCR,GAAhC,CAAqCS,GAArC,CAAxB,CAAoE,IAAUI,KAAJ,GAAaA,IAAKR,CAAAA,GAAlB,EAAyBQ,IAAKC,CAAAA,GAA9B,EAAsCnB,MAAOC,CAAAA,cAAP,CAAsBU,MAAtB,CAA8BG,GAA9B,CAAmCI,IAAnC,CAAtC,CAAyFP,MAAA,CAAOG,GAAP,CAAzF,CAAuGT,GAAA,CAAIS,GAAJ,CAA9L,CAA8MH,MAAOJ,CAAAA,OAAP,CAAiBF,GAASG,YAAJ,EAAaA,WAAMW,CAAAA,GAAN,CAAUd,GAAV,CAAeM,MAAf,CAA0B,OAAOA,OAAxuB,CANvC,CAAwBvB,OAAA,CAAQ,iDAAR,CAAxB,CAAZ,CAEIgC,QAAUhC,OAAA,CAAQ,kDAAR,CAkBd,MAAMc,MAAN,CACSmB,eAAQ,CAACC,MAAD,CAAS,CACtB,MAAuB,KAAhB,EAAAA,MAAOC,CAAAA,KAAP,CAAuBD,MAAOC,CAAAA,KAAMC,CAAAA,IAAKC,CAAAA,KAAzC,CAAiD1B,IAAAA,EADlC,CAIxB2B,WAAW,CAACC,KAAD,CAAQ,CAGJ,IAAb,EAAIA,KAAJ,GACEA,KADF;AACU,CAAA,CADV,CAIKA,MAAL,EACE,IAAKC,CAAAA,SAAL,EARe,CAYnBA,SAAS,EAAG,CACV,IAAIC,IAEkB,KAAtB,EAAI,IAAKC,CAAAA,SAAT,GACE,IAAKA,CAAAA,SADP,CACmBV,OAAQW,CAAAA,OAAQC,CAAAA,KAAhB,EADnB,CAIA,OAAO,KAAKR,CAAAA,IAAZ,CAAmB,IAAIrB,KAAM8B,CAAAA,IAAV,CAAe,IAAf,CAAyG,IAApF,GAACJ,IAAD,CAAoC,UAA5B,GAAA,MAAO,KAAKK,CAAAA,WAAZ,CAAyC,IAAKA,CAAAA,WAAL,EAAzC,CAA8DnC,IAAAA,EAAtE,EAA2F8B,IAA3F,CAAkG,EAAvH,CAPT,CAUZM,OAAO,EAAG,CACR,IAAIN,IACJ,OAAO,KAAKL,CAAAA,IAAKY,CAAAA,UAAV,CAAyG,IAApF,GAACP,IAAD,CAAoC,UAA5B,GAAA,MAAO,KAAKK,CAAAA,WAAZ,CAAyC,IAAKA,CAAAA,WAAL,EAAzC,CAA8DnC,IAAAA,EAAtE,EAA2F8B,IAA3F,CAAkG,EAAvH,CAFC,CAKVQ,KAAK,EAAG,CACN,MAAO,KAAInC,KADL,CAKRoC,OAAO,CAACC,QAAD,CAAWT,SAAX,CAAsB,CACrBU,QAAAA,CAAU,IAAIpB,OAAQW,CAAAA,OAAZ,CAAoBQ,QAApB,CAA2C,IAAb,EAAAT,SAAA,CAAoBA,SAApB,CAAgCV,OAAQW,CAAAA,OAAQC,CAAAA,KAAhB,EAA9D;AAAuF,IAAKR,CAAAA,IAAKiB,CAAAA,KAAjG,CAChB,KAAKxB,CAAAA,IAAL,CAAUuB,QAAV,CAAmB,CAAnB,CACA,OAAOA,SAAQE,CAAAA,QAAR,EAHoB,CAO7BC,IAAI,CAACJ,QAAD,CAAWT,SAAX,CAAsB,CAClBzC,SAAAA,CAAS,IAAKiD,CAAAA,OAAL,CAAaC,QAAb,CAAuBT,SAAvB,CACTc,SAAAA,CAAS,IAAIxB,OAAQyB,CAAAA,MAAZ,CAAmBN,QAAnB,CAA6B,IAAKf,CAAAA,IAAKiB,CAAAA,KAAvC,CAEf,KAAKK,CAAAA,QAAL,CAAczD,SAAd,CAAsBuD,QAAtB,CAA8B,CAA9B,CAEA,KAAKG,CAAAA,MAAL,CAAYH,QAAZ,CAAoB,CAApB,CACA,OAAOA,SAAOD,CAAAA,IAAP,CAAYtD,SAAZ,CAPiB,CAW1B4B,IAAI,CAAC+B,QAAD,CAAWC,MAAX,CAAmB,EAEvBC,QAAQ,CAACC,OAAD,CAAUF,MAAV,CAAkBG,KAAlB,CAAyBC,SAAzB,CAAoCC,OAApC,CAA6C,EAErDP,MAAM,CAACI,OAAD,CAAUF,MAAV,CAAkB,EAGxBM,KAAK,CAACC,MAAD,CAAS,CACZ,IAAIC,OAA0F,IAAjF,GAA4B,IAA3B,EAAA,IAAKjC,CAAAA,IAAKC,CAAAA,KAAMiC,CAAAA,OAAhB,CAAkC,IAAKlC,CAAAA,IAAKC,CAAAA,KAAMiC,CAAAA,OAAQN,CAAAA,KAA1D,CAAkErD,IAAAA,EAAnE,EAAmH,IAA3B,EAAA,IAAKyB,CAAAA,IAAKC,CAAAA,KAAMiC,CAAAA,OAAhB;AAAkC,IAAKlC,CAAAA,IAAKC,CAAAA,KAAMiC,CAAAA,OAAQN,CAAAA,KAA1D,CAAkErD,IAAAA,EAA1J,CAAsK,IAAKyB,CAAAA,IAAKC,CAAAA,KAAMK,CAAAA,SAEnM,IAAc,IAAd,EAAI0B,MAAJ,CACE,MAAOC,OAAP,EAAiB,GAAjB,CAAuBD,MAAvB,CAJU,CASdF,OAAO,CAACK,GAAD,CAAMC,KAAN,CAAa,CACZtC,KAAAA,CAASnB,KAAM0D,CAAAA,MAAOC,CAAAA,IAAb,CAAkBH,GAAlB,CAAuBC,KAAvB,CACftC,MAAOyC,CAAAA,IAAKJ,CAAAA,GAAZ,CAAkBA,GAClB,OAAOrC,MAHW,CAOpB0C,KAAK,CAAC3E,MAAD,CAASmD,OAAT,CAAkByB,KAAlB,CAAyB,CAC5B,MAAOzB,QAAQvB,CAAAA,IAAR,CAAa,IAAKO,CAAAA,IAAlB,CAAwBnC,MAAxB,CAAgC4E,KAAhC,CADqB,CAK9BC,QAAQ,CAAC7E,MAAD,CAASmD,OAAT,CAAkB,CACxB,MAAOA,QAAQpD,CAAAA,OAAR,CAAgB,IAAKoC,CAAAA,IAArB,CAA2BnC,MAA3B,CADiB,CAK1B8E,OAAO,CAAC9E,MAAD,CAASmD,OAAT,CAAkByB,KAAlB,CAAyB,CAC9B,MAAQ,CAAA,EAAA,EAAM,CACZ,MAAMG,OAAS,EAEf,KAAK,MAAMC,GAAX,GAAkBC,MAAMC,CAAAA,IAAN,CAAWlF,MAAOmF,CAAAA,IAAKC,CAAAA,SAAvB,CAAlB,CAAqD,CACnD,MAAMnD,OAAS,IAAKE,CAAAA,IAAKd,CAAAA,GAAV,CAAc2D,GAAIK,CAAAA,IAAlB,CACfN,OAAOO,CAAAA,IAAP,CAAY/E,SAAA,CAAUM,KAAMmB,CAAAA,QAAN,CAAeC,MAAf,CAAV;AAAkCsD,CAAA,EAAKA,CAAE3D,CAAAA,IAAF,CAAOuB,OAAP,CAAgByB,KAAhB,CAAwB,CAAxB,CAAvC,CAAZ,CAFmD,CAKrD,MAAOG,OARK,CAAN,CAAD,EADuB,CAchCS,SAAS,CAACxF,MAAD,CAASuD,MAAT,CAAiBqB,KAAjB,CAAwBS,IAAxB,CAA8BI,QAA9B,CAAwCxD,MAAxC,CAAgD,CACvD,MAAOsB,OAAOM,CAAAA,QAAP,CAAgB,IAAK1B,CAAAA,IAArB,CAA2BnC,MAA3B,CAAmC4E,KAAnC,CAA0CS,IAA1C,CAAgDI,QAAhD,CAA0DxD,MAA1D,CADgD,CAKzDwB,QAAQ,CAACzD,MAAD,CAASuD,MAAT,CAAiBqB,KAAjB,CAAwB,CAC9B,MAAOrB,OAAOmC,CAAAA,OAAP,CAAe,IAAKvD,CAAAA,IAApB,CAA0BnC,MAA1B,CAAkC4E,KAAlC,CADuB,CAKhCe,KAAK,CAAC3F,MAAD,CAASuD,MAAT,CAAiBqB,KAAjB,CAAwB,CAE3B,MAAQ,CAAA,EAAA,EAAM,CACZ,MAAMG,OAAS,EAEf,KAAK,MAAMtD,GAAX,GAAkBwD,MAAMC,CAAAA,IAAN,CAAWlF,MAAO4F,CAAAA,OAAlB,CAAlB,CAA8C,CAC5C,MAAMC,IAAM7F,MAAO8F,CAAAA,SAAP,CAAiBrE,GAAjB,CACZ,KAAIQ,OAAS,IAAKE,CAAAA,IAAKd,CAAAA,GAAV,CAAcwE,GAAIR,CAAAA,IAAlB,CAEb,IAAI,CAACpD,MAAL,CACE,KAAM,KAAI8D,WAAJ,CAAgB,yBAAyB,IAAK7B,CAAAA,KAAL,CAAW2B,GAAIR,CAAAA,IAAf,CAAzB,EAAhB,CAAN,CAGF,GAAyB,IAAzB;AAAIpD,MAAOyC,CAAAA,IAAKsB,CAAAA,KAAhB,CACE,QAGF,KAAIC,OAAShE,MAAb,CAEIiE,KAEJ,KAAA,CAAO,CAACA,KAAR,EAAiBD,MAAjB,CAAA,CACE,CAACA,MAAD,CAAShE,MAAT,CAAA,CAAmBgD,KAAMC,CAAAA,IAAN,CAAW,CAACjD,MAAOyC,CAAAA,IAAKuB,CAAAA,MAAb,CAAqBA,MAArB,CAAX,CAGrBC,MAAA,CAAQrF,KAAMmB,CAAAA,QAAN,CAAeC,MAAf,CAER,IAAI,CAACiE,KAAL,CACE,KAAM,KAAIH,WAAJ,CAAgB,yBAAyB,IAAK7B,CAAAA,KAAL,CAAW2B,GAAIR,CAAAA,IAAf,CAAzB,EAAhB,CAAN,CAIFa,KAAMrC,CAAAA,QAAN,CAAeN,MAAf,CAAuBqB,KAAvB,CAA+B,CAA/B,CAAkCnD,GAAlC,CAAuCoE,GAAvC,CAA4C5D,MAAOC,CAAAA,KAAnD,CACA6C,OAAOO,CAAAA,IAAP,CAAqB,IAAT,EAAAY,KAAA,CAAgBA,KAAMxC,CAAAA,MAAN,CAAaH,MAAb,CAAqBqB,KAArB,CAA6B,CAA7B,CAAhB,CAAkDlE,IAAAA,EAA9D,CA5B4C,CA+B9C,MAAOqE,OAlCK,CAAN,CAAD,EAFoB,CAyC7BoB,MAAM,CAACnG,MAAD,CAASuD,MAAT,CAAiBqB,KAAjB,CAAwB,CAE5B,MAAQ,CAAA,EAAA,EAAM,CACZ,MAAMG,OAAS,EAEf,KAAK,MAAMC,GAAX,GAAkBC,MAAMC,CAAAA,IAAN,CAAWlF,MAAOmF,CAAAA,IAAKC,CAAAA,SAAvB,CAAlB,CAAqD,CACnD,MAAMnD,OAAS,IAAKE,CAAAA,IAAKd,CAAAA,GAAV,CAAc2D,GAAIK,CAAAA,IAAlB,CACfN;MAAOO,CAAAA,IAAP,CAAY/E,SAAA,CAAUM,KAAMmB,CAAAA,QAAN,CAAeC,MAAf,CAAV,CAAkCsD,CAAA,EAAKA,CAAE7B,CAAAA,MAAF,CAASH,MAAT,CAAiBqB,KAAjB,CAAyB,CAAzB,CAAvC,CAAZ,CAFmD,CAKrD,MAAOG,OARK,CAAN,CAAD,EAFqB,CAzJhC,CAyKA9E,OAAQY,CAAAA,KAAR,CAAgBA,KAEhB,OAAMkF,YAAcA,QAAS,CAACK,OAAD,CAAU,CAC/BC,OAAAA,CAAQC,KAAJ,CAAUF,OAAV,CACVC,QAAEhB,CAAAA,IAAF,CAAS,aACT,OAAOgB,QAH8B,CAMvCN,YAAYrE,CAAAA,SAAZ,CAA4B4E,KAAJ,EA7MoF;",
"sources":["node_modules/shadergraph/src/block/block.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$shadergraph$src$block$block\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Block = void 0;\n\nvar Graph = _interopRequireWildcard(require(\"../graph\"));\n\nvar _linker = require(\"../linker\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS103: Rewrite code to no longer use __guard__, or convert again using --optional-chaining\n * DS104: Avoid inline assignments\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nconst debug = false;\n\nclass Block {\n  static previous(outlet) {\n    return outlet.input != null ? outlet.input.node.owner : undefined;\n  }\n\n  constructor(delay) {\n    // Subclasses can pass `delay` to allow them to initialize before they call\n    // `@construct`.\n    if (delay == null) {\n      delay = false;\n    }\n\n    if (!delay) {\n      this.construct();\n    }\n  }\n\n  construct() {\n    let left;\n\n    if (this.namespace == null) {\n      this.namespace = _linker.Program.entry();\n    }\n\n    return this.node = new Graph.Node(this, (left = typeof this.makeOutlets === \"function\" ? this.makeOutlets() : undefined) != null ? left : {});\n  }\n\n  refresh() {\n    let left;\n    return this.node.setOutlets((left = typeof this.makeOutlets === \"function\" ? this.makeOutlets() : undefined) != null ? left : {});\n  }\n\n  clone() {\n    return new Block();\n  } // Compile a new program starting from this block\n\n\n  compile(language, namespace) {\n    const program = new _linker.Program(language, namespace != null ? namespace : _linker.Program.entry(), this.node.graph);\n    this.call(program, 0);\n    return program.assemble();\n  } // Link up programs into a layout, starting from this block\n\n\n  link(language, namespace) {\n    const module = this.compile(language, namespace);\n    const layout = new _linker.Layout(language, this.node.graph);\n\n    this._include(module, layout, 0);\n\n    this.export(layout, 0);\n    return layout.link(module);\n  } // Subclassed methods\n\n\n  call(_program, _depth) {}\n\n  callback(_layout, _depth, _name, _external, _outlet) {}\n\n  export(_layout, _depth) {} // Info string for debugging\n\n\n  _info(suffix) {\n    let string = (this.node.owner.snippet != null ? this.node.owner.snippet._name : undefined) != null ? this.node.owner.snippet != null ? this.node.owner.snippet._name : undefined : this.node.owner.namespace;\n\n    if (suffix != null) {\n      return string += \".\" + suffix;\n    }\n  } // Create an outlet for a signature definition\n\n\n  _outlet(def, props) {\n    const outlet = Graph.Outlet.make(def, props);\n    outlet.meta.def = def;\n    return outlet;\n  } // Make a call to this module in the given program\n\n\n  _call(module, program, depth) {\n    return program.call(this.node, module, depth);\n  } // Require this module's dependencies in the given program\n\n\n  _require(module, program) {\n    return program.require(this.node, module);\n  } // Make a call to all connected inputs\n\n\n  _inputs(module, program, depth) {\n    return (() => {\n      const result = [];\n\n      for (const arg of Array.from(module.main.signature)) {\n        const outlet = this.node.get(arg.name);\n        result.push(__guard__(Block.previous(outlet), x => x.call(program, depth + 1)));\n      }\n\n      return result;\n    })();\n  } // Insert callback to this module in the given layout\n\n\n  _callback(module, layout, depth, name, external, outlet) {\n    return layout.callback(this.node, module, depth, name, external, outlet);\n  } // Include this module in the given layout\n\n\n  _include(module, layout, depth) {\n    return layout.include(this.node, module, depth);\n  } // Link this module's connected callbacks\n\n\n  _link(module, layout, depth) {\n    debug && console.log(\"block::_link\", this.toString(), module.namespace);\n    return (() => {\n      const result = [];\n\n      for (const key of Array.from(module.symbols)) {\n        const ext = module.externals[key];\n        let outlet = this.node.get(ext.name);\n\n        if (!outlet) {\n          throw new OutletError(`External not found on ${this._info(ext.name)}`);\n        }\n\n        if (outlet.meta.child != null) {\n          continue;\n        }\n\n        let parent = outlet; // eslint-disable-next-line prefer-const\n\n        let block;\n\n        while (!block && parent) {\n          [parent, outlet] = Array.from([outlet.meta.parent, parent]);\n        }\n\n        block = Block.previous(outlet);\n\n        if (!block) {\n          throw new OutletError(`Missing connection on ${this._info(ext.name)}`);\n        }\n\n        debug && console.log(\"callback -> \", this.toString(), ext.name, outlet);\n        block.callback(layout, depth + 1, key, ext, outlet.input);\n        result.push(block != null ? block.export(layout, depth + 1) : undefined);\n      }\n\n      return result;\n    })();\n  } // Trace backwards to discover callbacks further up\n\n\n  _trace(module, layout, depth) {\n    debug && console.log(\"block::_trace\", this.toString(), module.namespace);\n    return (() => {\n      const result = [];\n\n      for (const arg of Array.from(module.main.signature)) {\n        const outlet = this.node.get(arg.name);\n        result.push(__guard__(Block.previous(outlet), x => x.export(layout, depth + 1)));\n      }\n\n      return result;\n    })();\n  }\n\n}\n\nexports.Block = Block;\n\nconst OutletError = function (message) {\n  const e = new Error(message);\n  e.name = \"OutletError\";\n  return e;\n};\n\nOutletError.prototype = new Error();\n\nfunction __guard__(value, transform) {\n  return typeof value !== \"undefined\" && value !== null ? transform(value) : undefined;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__guard__","value","transform","undefined","Object","defineProperty","Block","Graph","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_linker","previous","outlet","input","node","owner","constructor","delay","construct","left","namespace","Program","entry","Node","makeOutlets","refresh","setOutlets","clone","compile","language","program","graph","assemble","link","layout","Layout","_include","export","_program","_depth","callback","_layout","_name","_external","_outlet","_info","suffix","string","snippet","def","props","Outlet","make","meta","_call","depth","_require","_inputs","result","arg","Array","from","main","signature","name","push","x","_callback","external","include","_link","symbols","ext","externals","OutletError","child","parent","block","_trace","message","e","Error"]
}

{
"version":3,
"file":"module$node_modules$$codemirror$view$dist$index_cjs.js",
"lineCount":412,
"mappings":"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",
"sources":["node_modules/@codemirror/view/dist/index.cjs"],
"sourcesContent":["shadow$provide[\"module$node_modules$$codemirror$view$dist$index_cjs\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar state = require('@codemirror/state');\nvar styleMod = require('style-mod');\nvar w3cKeyname = require('w3c-keyname');\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement(doc) {\n    let elt = doc.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nfunction scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    for (let cur = dom; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.assignedSlot || cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (y == \"nearest\") {\n                if (rect.top < bounding.top) {\n                    moveY = -(bounding.top - rect.top + yMargin);\n                    if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                        moveY = rect.bottom - bounding.bottom + moveY + yMargin;\n                }\n                else if (rect.bottom > bounding.bottom) {\n                    moveY = rect.bottom - bounding.bottom + yMargin;\n                    if (side < 0 && (rect.top - moveY) < bounding.top)\n                        moveY = -(bounding.top + moveY - rect.top + yMargin);\n                }\n            }\n            else {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop = y == \"center\" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 :\n                    y == \"start\" || y == \"center\" && side < 0 ? rect.top - yMargin :\n                        rect.bottom - boundingHeight + yMargin;\n                moveY = targetTop - bounding.top;\n            }\n            if (x == \"nearest\") {\n                if (rect.left < bounding.left) {\n                    moveX = -(bounding.left - rect.left + xMargin);\n                    if (side > 0 && rect.right > bounding.right + moveX)\n                        moveX = rect.right - bounding.right + moveX + xMargin;\n                }\n                else if (rect.right > bounding.right) {\n                    moveX = rect.right - bounding.right + xMargin;\n                    if (side < 0 && rect.left < bounding.left + moveX)\n                        moveX = -(bounding.left + moveX - rect.left + xMargin);\n                }\n            }\n            else {\n                let targetLeft = x == \"center\" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 :\n                    (x == \"start\") == ltr ? rect.left - xMargin :\n                        rect.right - (bounding.right - bounding.left) + xMargin;\n                moveX = targetLeft - bounding.left;\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    let movedX = 0, movedY = 0;\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        movedY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        movedX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - movedX, top: rect.top - movedY,\n                        right: rect.right - movedX, bottom: rect.bottom - movedY };\n                    if (movedX && Math.abs(movedX - moveX) < 1)\n                        x = \"nearest\";\n                    if (movedY && Math.abs(movedY - moveY) < 1)\n                        y = \"nearest\";\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    setRange(range) {\n        this.set(range.anchorNode, range.anchorOffset, range.focusNode, range.focusOffset);\n    }\n    set(anchorNode, anchorOffset, focusNode, focusOffset) {\n        this.anchorNode = anchorNode;\n        this.anchorOffset = anchorOffset;\n        this.focusNode = focusNode;\n        this.focusOffset = focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nfunction getRoot(node) {\n    while (node) {\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n        node = node.assignedSlot || node.parentNode;\n    }\n    return null;\n}\nfunction clearAttributes(node) {\n    while (node.attributes.length)\n        node.removeAttributeNode(node.attributes[0]);\n}\nfunction atElementStart(doc, selection) {\n    let node = selection.focusNode, offset = selection.focusOffset;\n    if (!node || selection.anchorNode != node || selection.anchorOffset != offset)\n        return false;\n    for (;;) {\n        if (offset) {\n            if (node.nodeType != 1)\n                return false;\n            let prev = node.childNodes[offset - 1];\n            if (prev.contentEditable == \"false\")\n                offset--;\n            else {\n                node = prev;\n                offset = maxOffset(node);\n            }\n        }\n        else if (node == doc) {\n            return true;\n        }\n        else {\n            offset = domIndex(node);\n            node = node.parentNode;\n        }\n    }\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst noChildren = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Dirty.Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        if (this.dirty & 2 /* Dirty.Node */) {\n            let parent = this.dom;\n            let prev = null, next;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {\n                        let contentView = ContentView.get(next);\n                        if (!contentView || !contentView.parent && contentView.constructor == child.constructor)\n                            child.reuseDOM(next);\n                    }\n                    child.sync(track);\n                    child.dirty = 0 /* Dirty.Not */;\n                }\n                next = prev ? prev.nextSibling : parent.firstChild;\n                if (track && !track.written && track.node == parent && next != child.dom)\n                    track.written = true;\n                if (child.dom.parentNode == parent) {\n                    while (next && next != child.dom)\n                        next = rm$1(next);\n                }\n                else {\n                    parent.insertBefore(child.dom, next);\n                }\n                prev = child.dom;\n            }\n            next = prev ? prev.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm$1(next);\n        }\n        else if (this.dirty & 1 /* Dirty.Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Dirty.Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Dirty.Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Dirty.Node */;\n            if (parent.dirty & 1 /* Dirty.Child */)\n                return;\n            parent.dirty |= 1 /* Dirty.Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = noChildren) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.destroy();\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        return false;\n    }\n    become(other) { return false; }\n    // When this is a zero-length view with a side, this should return a\n    // number <= 0 to indicate it is before its position, or a\n    // number > 0 when after its position.\n    getSide() { return 0; }\n    destroy() {\n        this.parent = null;\n    }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm$1(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\nfunction replaceRange(parent, fromI, fromOff, toI, toOff, insert, breakAtStart, openStart, openEnd) {\n    let { children } = parent;\n    let before = children.length ? children[fromI] : null;\n    let last = insert.length ? insert[insert.length - 1] : null;\n    let breakAtEnd = last ? last.breakAfter : breakAtStart;\n    // Change within a single child\n    if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert.length < 2 &&\n        before.merge(fromOff, toOff, insert.length ? last : null, fromOff == 0, openStart, openEnd))\n        return;\n    if (toI < children.length) {\n        let after = children[toI];\n        // Make sure the end of the child after the update is preserved in `after`\n        if (after && toOff < after.length) {\n            // If we're splitting a child, separate part of it to avoid that\n            // being mangled when updating the child before the update.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                insert[insert.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                insert.push(after);\n            }\n        }\n        else if (after === null || after === void 0 ? void 0 : after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n    }\n    if (before) {\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && insert.length && before.merge(fromOff, before.length, insert[0], false, openStart, 0)) {\n                before.breakAfter = insert.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n    }\n    // Try to merge widgets on the boundaries of the replacement\n    while (fromI < toI && insert.length) {\n        if (children[toI - 1].become(insert[insert.length - 1])) {\n            toI--;\n            insert.pop();\n            openEnd = insert.length ? 0 : openStart;\n        }\n        else if (children[fromI].become(insert[0])) {\n            fromI++;\n            insert.shift();\n            openStart = insert.length ? 0 : openEnd;\n        }\n        else {\n            break;\n        }\n    }\n    if (!insert.length && fromI && toI < children.length && !children[fromI - 1].breakAfter &&\n        children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))\n        fromI--;\n    if (fromI < toI || insert.length)\n        parent.replaceChildren(fromI, toI, insert);\n}\nfunction mergeChildrenInto(parent, from, to, insert, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of insert)\n        dLen += view.length;\n    parent.length += dLen;\n    replaceRange(parent, fromI, fromOff, toI, toOff, insert, 0, openStart, openEnd);\n}\n\nlet nav = typeof navigator != \"undefined\" ? navigator : { userAgent: \"\", vendor: \"\", platform: \"\" };\nlet doc = typeof document != \"undefined\" ? document : { documentElement: { style: {} } };\nconst ie_edge = /Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /Apple Computer/.test(nav.vendor);\nconst ios = safari && (/Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /Mac/.test(nav.platform),\n    windows: /Win/.test(nav.platform),\n    linux: /Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst MaxJoinLen = 256;\nclass TextView extends ContentView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType == 3)\n            this.createDOM(dom);\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        this.markDirty();\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends ContentView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    setAttrs(dom) {\n        clearAttributes(dom);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        return dom;\n    }\n    reuseDOM(node) {\n        if (node.nodeName == this.mark.tagName.toUpperCase()) {\n            this.setDOM(node);\n            this.dirty |= 4 /* Dirty.Attrs */ | 2 /* Dirty.Node */;\n        }\n    }\n    sync(track) {\n        if (!this.dom)\n            this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));\n        else if (this.dirty & 4 /* Dirty.Attrs */)\n            this.setAttrs(this.dom);\n        super.sync(track);\n    }\n    merge(from, to, source, _hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.split(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1) {\n            this.children.length = detachFrom;\n            this.markDirty();\n        }\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else if (to < length) {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else if (to < length)\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect || null;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends ContentView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n        this.prevWidget = null;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    split(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                if (this.dom && !this.prevWidget)\n                    this.prevWidget = this.widget;\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return state.Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : state.Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return (pos == 0 && side > 0 || pos == this.length && side <= 0) ? rect : flattenRect(rect, pos == 0);\n    }\n    get isEditable() { return false; }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return new DOMPos(text, Math.min(pos, text.nodeValue.length));\n        return scanCompositionTree(pos, 0, topView, text, (v, p) => v.domAtPos(p), p => new DOMPos(text, Math.min(p, text.nodeValue.length)));\n    }\n    sync() { this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return Math.min(offset, this.length);\n        return posFromDOMInCompositionTree(node, offset, topView, text);\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return textCoords(text, pos, side);\n        return scanCompositionTree(pos, side, topView, text, (v, pos, side) => v.coordsAt(pos, side), (pos, side) => textCoords(text, pos, side));\n    }\n    destroy() {\n        var _a;\n        super.destroy();\n        (_a = this.widget.topView) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n    get isEditable() { return true; }\n}\n// Uses the old structure of a chunk of content view frozen for\n// composition to try and find a reasonable DOM location for the given\n// offset.\nfunction scanCompositionTree(pos, side, view, text, enterView, fromText) {\n    if (view instanceof MarkView) {\n        for (let child = view.dom.firstChild; child; child = child.nextSibling) {\n            let desc = ContentView.get(child);\n            if (!desc)\n                return fromText(pos, side);\n            let hasComp = contains(child, text);\n            let len = desc.length + (hasComp ? text.nodeValue.length : 0);\n            if (pos < len || pos == len && desc.getSide() <= 0)\n                return hasComp ? scanCompositionTree(pos, side, desc, text, enterView, fromText) : enterView(desc, pos, side);\n            pos -= len;\n        }\n        return enterView(view, view.length, -1);\n    }\n    else if (view.dom == text) {\n        return fromText(pos, side);\n    }\n    else {\n        return enterView(view, pos, side);\n    }\n}\nfunction posFromDOMInCompositionTree(node, offset, view, text) {\n    if (view instanceof MarkView) {\n        for (let child of view.children) {\n            let pos = 0, hasComp = contains(child.dom, text);\n            if (contains(child.dom, node))\n                return pos + (hasComp ? posFromDOMInCompositionTree(node, offset, child, text) : child.localPosFromDOM(node, offset));\n            pos += hasComp ? text.nodeValue.length : child.length;\n        }\n    }\n    else if (view.dom == text) {\n        return Math.min(offset, text.nodeValue.length);\n    }\n    return view.localPosFromDOM(node, offset);\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends ContentView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    split() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom) {\n            let dom = document.createElement(\"img\");\n            dom.className = \"cm-widgetBuffer\";\n            dom.setAttribute(\"aria-hidden\", \"true\");\n            this.setDOM(dom);\n        }\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return DOMPos.before(this.dom); }\n    localPosFromDOM() { return 0; }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        let imgRect = this.dom.getBoundingClientRect();\n        // Since the <img> height doesn't correspond to text height, try\n        // to borrow the height from some sibling node.\n        let siblingRect = inlineSiblingRect(this, this.side > 0 ? -1 : 1);\n        return siblingRect && siblingRect.top < imgRect.bottom && siblingRect.bottom > imgRect.top\n            ? { left: imgRect.left, right: imgRect.right, top: siblingRect.top, bottom: siblingRect.bottom } : imgRect;\n    }\n    get overrideDOMText() {\n        return state.Text.empty;\n    }\n}\nTextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;\nfunction inlineSiblingRect(view, side) {\n    let parent = view.parent, index = parent ? parent.children.indexOf(view) : -1;\n    while (parent && index >= 0) {\n        if (side < 0 ? index > 0 : index < parent.children.length) {\n            let next = parent.children[index + side];\n            if (next instanceof TextView) {\n                let nextRect = next.coordsAt(side < 0 ? next.length : 0, side);\n                if (nextRect)\n                    return nextRect;\n            }\n            index += side;\n        }\n        else if (parent instanceof MarkView && parent.parent) {\n            index = parent.parent.children.indexOf(parent) + (side < 0 ? 0 : 1);\n            parent = parent.parent;\n        }\n        else {\n            let last = parent.dom.lastChild;\n            if (last && last.nodeName == \"BR\")\n                return last.getClientRects()[0];\n            break;\n        }\n    }\n    return undefined;\n}\nfunction inlineDOMAtPos(parent, pos) {\n    let dom = parent.dom, { children } = parent, i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    //  if (i) return DOMPos.after(children[i - 1].dom!)\n    for (let j = i; j > 0; j--) {\n        let prev = children[j - 1];\n        if (prev.dom.parentNode == dom)\n            return prev.domAtPos(prev.length);\n    }\n    for (let j = i; j < children.length; j++) {\n        let next = children[j];\n        if (next.dom.parentNode == dom)\n            return next.domAtPos(0);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    for (let off = 0, i = 0; i < view.children.length; i++) {\n        let child = view.children[i], end = off + child.length, next;\n        if ((side <= 0 || end == view.length || child.getSide() > 0 ? end >= pos : end > pos) &&\n            (pos < end || i + 1 == view.children.length || (next = view.children[i + 1]).length || next.getSide() > 0)) {\n            let flatten = 0;\n            if (end == off) {\n                if (child.getSide() <= 0)\n                    continue;\n                flatten = side = -child.getSide();\n            }\n            let rect = child.coordsAt(Math.max(0, pos - off), side);\n            return flatten && rect ? flattenRect(rect, side < 0) : rect;\n        }\n        off = end;\n    }\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1] || null;\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    let changed = null;\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(changed = name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(changed = name, attrs[name]);\n    return !!changed;\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even if the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n    /**\n    This is called when the an instance of the widget is removed\n    from the editor view.\n    */\n    destroy(dom) { }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nexports.BlockType = void 0;\n(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\n})(exports.BlockType || (exports.BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#state.Range), which adds a start and end position.\n@nonabstract\n*/\nclass Decoration extends state.RangeValue {\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with\n    the higher-precedence decorations creating the inner DOM nodes.\n    Such elements are split on line boundaries and on the boundaries\n    of lower-precedence decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which displays a DOM element at the\n    given position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0, block = !!spec.block;\n        side += block ? (side > 0 ? 300000000 /* Side.BlockAfter */ : -400000000 /* Side.BlockBefore */) : (side > 0 ? 100000000 /* Side.InlineAfter */ : -100000000 /* Side.InlineBefore */);\n        return new PointDecoration(spec, side, side, block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block, startSide, endSide;\n        if (spec.isBlockGap) {\n            startSide = -500000000 /* Side.GapStart */;\n            endSide = 400000000 /* Side.GapEnd */;\n        }\n        else {\n            let { start, end } = getInclusive(spec, block);\n            startSide = (start ? (block ? -300000000 /* Side.BlockIncStart */ : -1 /* Side.InlineIncStart */) : 500000000 /* Side.NonIncStart */) - 1;\n            endSide = (end ? (block ? 200000000 /* Side.BlockIncEnd */ : 1 /* Side.InlineIncEnd */) : -600000000 /* Side.NonIncEnd */) + 1;\n        }\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return state.RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = state.RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(start ? -1 /* Side.InlineIncStart */ : 500000000 /* Side.NonIncStart */, end ? 1 /* Side.InlineIncEnd */ : -600000000 /* Side.NonIncEnd */, null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-200000000 /* Side.Line */, -200000000 /* Side.Line */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = state.MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? state.MapMode.TrackDel : startSide <= 0 ? state.MapMode.TrackBefore : state.MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? exports.BlockType.WidgetRange\n            : this.startSide <= 0 ? exports.BlockType.WidgetBefore : exports.BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide <= 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec, block = false) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin >= from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (hasStart)\n            this.setDeco(source ? source.attrs : null);\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].split(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, false, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0)\n            this.children[--i].destroy();\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        this.markDirty();\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs({ class: cls }, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    reuseDOM(node) {\n        if (node.nodeName == \"DIV\") {\n            this.setDOM(node);\n            this.dirty |= 4 /* Dirty.Attrs */ | 2 /* Dirty.Node */;\n        }\n    }\n    sync(track) {\n        var _a;\n        if (!this.dom) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        else if (this.dirty & 4 /* Dirty.Attrs */) {\n            clearAttributes(this.dom);\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last || !this.length ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView) || /[^ -~]/.test(child.text))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return !totalWidth ? null : {\n            lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length\n        };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    become(_other) { return false; }\n    get type() { return exports.BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0; i < docView.children.length; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (end > pos)\n                    break;\n            }\n            off = end + block.breakAfter;\n        }\n        return null;\n    }\n}\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n        this.prevWidget = null;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        let end = new BlockWidgetView(this.widget, len, this.type);\n        end.breakAfter = this.breakAfter;\n        return end;\n    }\n    get children() { return noChildren; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : state.Text.empty;\n    }\n    domBoundsAround() { return null; }\n    become(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            if (this.dom && !this.prevWidget)\n                this.prevWidget = this.widget;\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end, disallowBlockEffectsFor) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.disallowBlockEffectsFor = disallowBlockEffectsFor;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* Buf.No */;\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == exports.BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* Buf.No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer([]);\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (!openEnd)\n            this.flushBuffer([]);\n        else\n            this.pendingBuffer = 0 /* Buf.No */;\n        if (!this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer([]);\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* T.Chunk */);\n            this.flushBuffer(active.slice(0, openStart));\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart, index) {\n        if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {\n            if (deco.block)\n                throw new RangeError(\"Block decorations may not be specified via plugins\");\n            if (to > this.doc.lineAt(this.pos).to)\n                throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\");\n        }\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == exports.BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* Buf.IfCursor */ && !cursorBefore)\n                    this.pendingBuffer = 0 /* Buf.No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* Buf.No */ : from < to ? 1 /* Buf.Yes */ : 2 /* Buf.IfCursor */;\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations, dynamicDecorationMap) {\n        let builder = new ContentBuilder(text, from, to, dynamicDecorationMap);\n        builder.openEnd = state.RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst clickAddsSelectionRange = state.Facet.define();\nconst dragMovesSelection$1 = state.Facet.define();\nconst mouseSelectionStyle = state.Facet.define();\nconst exceptionSink = state.Facet.define();\nconst updateListener = state.Facet.define();\nconst inputHandler = state.Facet.define();\nconst perLineTextDirection = state.Facet.define({\n    combine: values => values.some(x => x)\n});\nclass ScrollTarget {\n    constructor(range, y = \"nearest\", x = \"nearest\", yMargin = 5, xMargin = 5) {\n        this.range = range;\n        this.y = y;\n        this.x = x;\n        this.yMargin = yMargin;\n        this.xMargin = xMargin;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin);\n    }\n}\nconst scrollIntoView = state.StateEffect.define({ map: (t, ch) => t.map(ch) });\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = state.Facet.define({ combine: values => values.length ? values[0] : true });\nlet nextPluginID = 0;\nconst viewPlugin = state.Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    domEventHandlers, buildExtensions) {\n        this.id = id;\n        this.create = create;\n        this.domEventHandlers = domEventHandlers;\n        this.extension = buildExtensions(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        const { eventHandlers, provide, decorations: deco } = spec || {};\n        return new ViewPlugin(nextPluginID++, create, eventHandlers, plugin => {\n            let ext = [viewPlugin.of(plugin)];\n            if (deco)\n                ext.push(decorations.of(view => {\n                    let pluginInst = view.plugin(plugin);\n                    return pluginInst ? deco(pluginInst) : Decoration.none;\n                }));\n            if (provide)\n                ext.push(provide(plugin));\n            return ext;\n        });\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    update(view) {\n        if (!this.value) {\n            if (this.spec) {\n                try {\n                    this.value = this.spec.create(view);\n                }\n                catch (e) {\n                    logException(view.state, e, \"CodeMirror plugin crashed\");\n                    this.deactivate();\n                }\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (this.value.update) {\n                try {\n                    this.value.update(update);\n                }\n                catch (e) {\n                    logException(update.state, e, \"CodeMirror plugin crashed\");\n                    if (this.value.destroy)\n                        try {\n                            this.value.destroy();\n                        }\n                        catch (_) { }\n                    this.deactivate();\n                }\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n    deactivate() {\n        this.spec = this.value = null;\n    }\n}\nconst editorAttributes = state.Facet.define();\nconst contentAttributes = state.Facet.define();\n// Provide decorations\nconst decorations = state.Facet.define();\nconst atomicRanges = state.Facet.define();\nconst scrollMargins = state.Facet.define();\nconst styleModule = state.Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state$1, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions) {\n        this.view = view;\n        this.state = state$1;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = state.ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* UpdateFlag.Focus */;\n        }\n    }\n    /**\n    @internal\n    */\n    static create(view, state, transactions) {\n        return new ViewUpdate(view, state, transactions);\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* UpdateFlag.Viewport */) > 0;\n    }\n    /**\n    Indicates whether the height of a block element in the editor\n    changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* UpdateFlag.Height */) > 0;\n    }\n    /**\n    Returns true when the document was modified or the size of the\n    editor, or elements within the editor, changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* UpdateFlag.Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return !this.changes.empty;\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nexports.Direction = void 0;\n(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\n})(exports.Direction || (exports.Direction = {}));\nconst LTR = exports.Direction.LTR, RTL = exports.Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = p.charCodeAt(0), r = p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* T.R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* T.AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* T.NI */ :\n                        0xfb50 <= ch && ch <= 0xfdff ? 4 /* T.AL */ :\n                            ch == 0x200c ? 256 /* T.NI */ : 1 /* T.L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* T.L */ : 2 /* T.R */, oppositeType = direction == LTR ? 2 /* T.R */ : 1 /* T.L */;\n    if (!line || outerType == 1 /* T.L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* T.NSM */)\n            type = prev;\n        else if (type == 8 /* T.EN */ && prevStrong == 4 /* T.AL */)\n            type = 16 /* T.AN */;\n        types[i] = type == 4 /* T.AL */ ? 2 /* T.R */ : type;\n        if (type & 7 /* T.Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* T.CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* T.Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* T.NI */;\n        }\n        else if (type == 64 /* T.ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* T.ET */)\n                end++;\n            let replace = (i && prev == 8 /* T.EN */) || (end < len && types[end] == 8 /* T.EN */) ? (prevStrong == 1 /* T.L */ ? 1 /* T.L */ : 8 /* T.EN */) : 256 /* T.NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* T.EN */ && prevStrong == 1 /* T.L */) {\n            types[i] = 1 /* T.L */;\n        }\n        prev = type;\n        if (type & 7 /* T.Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* Bracketed.EmbedInside */) ? outerType :\n                            !(flags & 4 /* Bracketed.OppositeInside */) ? 0 :\n                                (flags & 1 /* Bracketed.OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* Bracketed.MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* T.R */ || type == 1 /* T.L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* Bracketed.OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* Bracketed.EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* Bracketed.EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* Bracketed.OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* Bracketed.OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* T.NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* T.NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* T.L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* T.L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* T.L */ : 2 /* T.R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* T.L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* T.L */;\n            while (i < len && rtl == (types[i] != 1 /* T.L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* T.R */;\n                    while (j > start && l == (types[j - 1] != 2 /* T.R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* T.R */;\n            while (i < len && rtl == (types[i] == 2 /* T.R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = state.findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return state.EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return state.EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return state.EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return state.EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nconst LineBreakPlaceholder = \"\\uffff\";\nclass DOMReader {\n    constructor(points, state$1) {\n        this.points = points;\n        this.text = \"\";\n        this.lineSeparator = state$1.facet(state.EditorState.lineSeparator);\n    }\n    append(text) {\n        this.text += text;\n    }\n    lineBreak() {\n        this.text += LineBreakPlaceholder;\n    }\n    readRange(start, end) {\n        if (!start)\n            return this;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore)))\n                this.lineBreak();\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n        return this;\n    }\n    readTextNode(node) {\n        let text = node.nodeValue;\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, text.length);\n        for (let off = 0, re = this.lineSeparator ? null : /\\r\\n?|\\n/g;;) {\n            let nextBreak = -1, breakSize = 1, m;\n            if (this.lineSeparator) {\n                nextBreak = text.indexOf(this.lineSeparator, off);\n                breakSize = this.lineSeparator.length;\n            }\n            else if (m = re.exec(text)) {\n                nextBreak = m.index;\n                breakSize = m[0].length;\n            }\n            this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));\n            if (nextBreak < 0)\n                break;\n            this.lineBreak();\n            if (breakSize > 1)\n                for (let point of this.points)\n                    if (point.node == node && point.pos > this.text.length)\n                        point.pos -= breakSize - 1;\n            off = nextBreak + breakSize;\n        }\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        if (fromView != null) {\n            this.findPointInside(node, fromView.length);\n            for (let i = fromView.iter(); !i.next().done;) {\n                if (i.lineBreak)\n                    this.lineBreak();\n                else\n                    this.append(i.value);\n            }\n        }\n        else if (node.nodeType == 3) {\n            this.readTextNode(node);\n        }\n        else if (node.nodeName == \"BR\") {\n            if (node.nextSibling)\n                this.lineBreak();\n        }\n        else if (node.nodeType == 1) {\n            this.readRange(node.firstChild, null);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointInside(node, maxLen) {\n        for (let point of this.points)\n            if (node.nodeType == 3 ? point.node == node : node.contains(point.node))\n                point.pos = this.text.length + Math.min(maxLen, point.offset);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        this.dynamicDecorationMap = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // measureVisibleLineHeights, this is updated to point at the width\n        // of a given element and its extent in the document. When a change\n        // happens in that range, these are reset. That way, once we've seen\n        // a line/element of a given length, we keep the editor wide enough\n        // to fit at least that element, until it is changed, at which point\n        // we forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.forceSelection = false;\n        // Used by the resize observer to ignore resizes that we caused\n        // ourselves\n        this.lastUpdate = Date.now();\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateDeco();\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0);\n    }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = this.minWidthFrom = this.minWidthTo = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length || this.dirty)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        if ((browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines)\n            this.forceSelection = true;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        if (this.dirty == 0 /* Dirty.Not */ && changedRanges.length == 0) {\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, update.startState.doc.length);\n            if (update.transactions.length)\n                this.lastUpdate = Date.now();\n            return true;\n        }\n    }\n    // Used by update and the constructor do perform the actual DOM\n    // update\n    updateInner(changes, oldLength) {\n        this.view.viewState.mustMeasureContent = true;\n        this.updateChildren(changes, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.contentHeight + \"px\";\n            this.dom.style.flexBasis = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Dirty.Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                this.forceSelection = true;\n            this.dom.style.height = \"\";\n        });\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            replaceRange(this, fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(mustRead = false, fromPointer = false) {\n        if (mustRead || !this.view.observer.selectionRange.focusNode)\n            this.view.observer.readSelectionRange();\n        if (!(fromPointer || this.mayControlSelection()))\n            return;\n        let force = this.forceSelection;\n        this.forceSelection = false;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) &&\n                    inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.view.root);\n                if (!rawSel) ;\n                else if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* NextTo.Before */ | 2 /* NextTo.After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* NextTo.Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* NextTo.Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    rawSel.extend(head.node, head.offset);\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.compositionDeco.size)\n            return;\n        let cursor = this.view.state.selection.main;\n        let sel = getSelection(this.view.root);\n        if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n    }\n    mayControlSelection() {\n        let active = this.view.root.activeElement;\n        return active == this.dom ||\n            hasSelection(this.dom, this.view.observer.selectionRange) && !(active && this.dom.contains(active));\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != exports.BlockType.WidgetBefore && child.type != exports.BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == exports.BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights(viewport) {\n        let result = [], { from, to } = viewport;\n        let contentWidth = this.view.contentDOM.clientWidth;\n        let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        let widest = -1, ltr = this.view.textDirection == exports.Direction.LTR;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                let childRect = child.dom.getBoundingClientRect();\n                result.push(childRect.height);\n                if (isWider) {\n                    let last = child.dom.lastChild;\n                    let rects = last ? clientRectsFor(last) : [];\n                    if (rects.length) {\n                        let rect = rects[rects.length - 1];\n                        let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;\n                        if (width > widest) {\n                            widest = width;\n                            this.minWidth = contentWidth;\n                            this.minWidthFrom = pos;\n                            this.minWidthTo = end;\n                        }\n                    }\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    textDirectionAt(pos) {\n        let { i } = this.childPos(pos, 1);\n        return getComputedStyle(this.children[i].dom).direction == \"rtl\" ? exports.Direction.RTL : exports.Direction.LTR;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.style.width = \"99999px\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top;\n                deco.push(Decoration.replace({\n                    widget: new BlockGapWidget(height),\n                    block: true,\n                    inclusive: true,\n                    isBlockGap: true,\n                }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        let allDeco = this.view.state.facet(decorations).map((d, i) => {\n            let dynamic = this.dynamicDecorationMap[i] = typeof d == \"function\";\n            return dynamic ? d(this.view) : d;\n        });\n        for (let i = allDeco.length; i < allDeco.length + 3; i++)\n            this.dynamicDecorationMap[i] = false;\n        return this.decorations = [\n            ...allDeco,\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView(target) {\n        let { range } = target;\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.state.facet(scrollMargins).map(f => f(this.view)))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        let targetRect = {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        };\n        scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, target.xMargin, target.yMargin, this.view.textDirection == exports.Direction.LTR);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction compositionSurroundingNode(view) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return null;\n    let cView = view.docView.nearest(textNode);\n    if (!cView)\n        return null;\n    if (cView instanceof LineView) {\n        let topNode = textNode;\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        let pos = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n        return { from: pos, to: pos, node: topNode, text: textNode };\n    }\n    else {\n        for (;;) {\n            let { parent } = cView;\n            if (!parent)\n                return null;\n            if (parent instanceof LineView)\n                break;\n            cView = parent;\n        }\n        let from = cView.posAtStart;\n        return { from, to: from + cView.length, node: cView.dom, text: textNode };\n    }\n}\nfunction computeCompositionDeco(view, changes) {\n    let surrounding = compositionSurroundingNode(view);\n    if (!surrounding)\n        return Decoration.none;\n    let { from, to, node, text: textNode } = surrounding;\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let { state } = view, text = node.nodeType == 3 ? node.nodeValue :\n        new DOMReader([], state).readRange(node.firstChild, null).text;\n    if (newTo - newFrom < text.length) {\n        if (state.doc.sliceString(newFrom, Math.min(state.doc.length, newFrom + text.length), LineBreakPlaceholder) == text)\n            newTo = newFrom + text.length;\n        else if (state.doc.sliceString(Math.max(0, newTo - text.length), newTo, LineBreakPlaceholder) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.doc.sliceString(newFrom, newTo, LineBreakPlaceholder) != text) {\n        return Decoration.none;\n    }\n    let topView = ContentView.get(node);\n    if (topView instanceof CompositionView)\n        topView = topView.widget.topView;\n    else if (topView)\n        topView.parent = null;\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(node, textNode, topView), inclusive: true })\n        .range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text, topView) {\n        super();\n        this.top = top;\n        this.text = text;\n        this.topView = topView;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* NextTo.Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* NextTo.After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    state.RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction groupAt(state$1, pos, bias = 1) {\n    let categorize = state$1.charCategorizer(pos);\n    let line = state$1.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return state.EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = state.findClusterBreak(line.text, linePos, false);\n    else\n        to = state.findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = state.findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = state.findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return state.EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY, closestOverlap = false;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n                closestOverlap = !dx || (dx > 0 ? i < rects.length - 1 : i > 0);\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (closestOverlap && closest.contentEditable != \"false\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    var _a;\n    let content = view.contentDOM.getBoundingClientRect(), docTop = content.top + view.viewState.paddingTop;\n    let block, { docHeight } = view.viewState;\n    let yOffset = y - docTop;\n    if (yOffset < 0)\n        return 0;\n    if (yOffset > docHeight)\n        return view.state.doc.length;\n    // Scan for a text block near the queried y position\n    for (let halfLine = view.defaultLineHeight / 2, bounced = false;;) {\n        block = view.elementAtHeight(yOffset);\n        if (block.type == exports.BlockType.Text)\n            break;\n        for (;;) {\n            // Move the y position out of this block\n            yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n            if (yOffset >= 0 && yOffset <= docHeight)\n                break;\n            // If the document consists entirely of replaced widgets, we\n            // won't find a text block, so return 0\n            if (bounced)\n                return precise ? null : 0;\n            bounced = true;\n            bias = -bias;\n        }\n    }\n    y = docTop + yOffset;\n    let lineStart = block.from;\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length :\n            precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let root = view.root.elementFromPoint ? view.root : doc;\n    let element = root.elementFromPoint(x, y);\n    if (element && !view.contentDOM.contains(element))\n        element = null;\n    // If the element is unexpected, clip x at the sides of the content area and try again\n    if (!element) {\n        x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n        element = root.elementFromPoint(x, y);\n        if (element && !view.contentDOM.contains(element))\n            element = null;\n    }\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (!view.contentDOM.contains(node) ||\n                    browser.safari && isSuspiciousSafariCaretResult(node, offset, x) ||\n                    browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        if (!line)\n            return yOffset > block.top + block.height / 2 ? block.to : block.from;\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + state.findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousSafariCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\n// Chrome will move positions between lines to the start of the next line\nfunction isSuspiciousChromeCaretResult(node, offset, x) {\n    if (offset != 0)\n        return false;\n    for (let cur = node;;) {\n        let parent = cur.parentNode;\n        if (!parent || parent.nodeType != 1 || parent.firstChild != cur)\n            return false;\n        if (parent.classList.contains(\"cm-line\"))\n            break;\n        cur = parent;\n    }\n    let rect = node.nodeType == 1 ? node.getBoundingClientRect()\n        : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();\n    return x - rect.left > 5;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let direction = view.textDirectionAt(line.from);\n        let pos = view.posAtCoords({ x: forward == (direction == exports.Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return state.EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return state.EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    let direction = view.textDirectionAt(line.from);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, direction, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = state.EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == state.CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return state.EditorSelection.cursor(startPos, start.assoc);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos), docTop = view.documentTop;\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineBlockAt(startPos);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = (dir < 0 ? line.top : line.bottom) + docTop;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return state.EditorSelection.cursor(pos, start.assoc, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.state.facet(atomicRanges).map(f => f(view));\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.head > pos.from ? state.EditorSelection.cursor(from, 1) : state.EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.lastTouchTime = 0;\n        this.lastFocusTime = 0;\n        this.lastScrollTop = 0;\n        this.lastScrollLeft = 0;\n        this.chromeScrollHack = -1;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        this.pendingIOSKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            }, handlerOptions[type]);\n            this.registeredEvents.push(type);\n        }\n        if (browser.chrome && browser.chrome_version == 102) { // FIXME remove at some point\n            // On Chrome 102, viewport updates somehow stop wheel-based\n            // scrolling. Turning off pointer events during the scroll seems\n            // to avoid the issue.\n            view.scrollDOM.addEventListener(\"wheel\", () => {\n                if (this.chromeScrollHack < 0)\n                    view.contentDOM.style.pointerEvents = \"none\";\n                else\n                    window.clearTimeout(this.chromeScrollHack);\n                this.chromeScrollHack = setTimeout(() => {\n                    this.chromeScrollHack = -1;\n                    view.contentDOM.style.pointerEvents = \"\";\n                }, 100);\n            }, { passive: true });\n        }\n        this.notifiedFocused = view.hasFocus;\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view, plugins) {\n        var _a;\n        let handlers;\n        this.customHandlers = [];\n        for (let plugin of plugins)\n            if (handlers = (_a = plugin.update(view).spec) === null || _a === void 0 ? void 0 : _a.domEventHandlers) {\n                this.customHandlers.push({ plugin: plugin.value, handlers });\n                for (let type in handlers)\n                    if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                        this.registeredEvents.push(type);\n                        view.contentDOM.addEventListener(type, (event) => {\n                            if (!eventBelongsToEditor(view, event))\n                                return;\n                            if (this.runCustomHandlers(type, view, event))\n                                event.preventDefault();\n                        });\n                    }\n            }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type];\n            if (handler) {\n                try {\n                    if (handler.call(set.plugin, event, view) || event.defaultPrevented)\n                        return true;\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        this.lastScrollTop = view.scrollDOM.scrollTop;\n        this.lastScrollLeft = view.scrollDOM.scrollLeft;\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (event.keyCode == 9 && Date.now() < this.lastEscPress + 2000)\n            return true;\n        // Chrome for Android usually doesn't fire proper key events, but\n        // occasionally does, usually surrounded by a bunch of complicated\n        // composition changes. When an enter or backspace key event is\n        // seen, hold off on handling DOM events for a bit, and then\n        // dispatch it.\n        if (browser.android && browser.chrome && !event.synthetic &&\n            (event.keyCode == 13 || event.keyCode == 8)) {\n            view.observer.delayAndroidKey(event.key, event.keyCode);\n            return true;\n        }\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey &&\n            ((pending = PendingKeys.find(key => key.keyCode == event.keyCode)) && !event.ctrlKey ||\n                EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {\n            this.pendingIOSKey = pending || event;\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        let key = this.pendingIOSKey;\n        if (!key)\n            return false;\n        this.pendingIOSKey = undefined;\n        return dispatchKey(view.contentDOM, key.key, key.keyCode);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && !browser.ios && Date.now() - this.compositionEndedAt < 100) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    mustFlushObserver(event) {\n        return event.type == \"keydown\" && event.keyCode != 229;\n    }\n    startMouseSelection(mouseSelection) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = mouseSelection;\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\nconst EmacsyPendingKeys = \"dthko\";\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(view, startEvent, style, mustSelect) {\n        this.view = view;\n        this.style = style;\n        this.mustSelect = mustSelect;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(state.EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.view.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (this.mustSelect || !selection.eq(this.view.state.selection) ||\n            selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\",\n                scrollIntoView: true\n            });\n        this.mustSelect = false;\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (!sel || sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = Object.create(null);\nconst handlerOptions = Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API\u2014all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state: state$1 } = view, changes, i = 1, text = state$1.toText(input);\n    let byLine = text.lines == state$1.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state$1.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state$1.changeByRange(range => {\n            let line = state$1.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state$1.toText((byLine ? text.line(i++).text : input) + state$1.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: state.EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state$1.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: state.EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state$1.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n    if (event.keyCode == 27)\n        view.inputState.lastEscPress = Date.now();\n    else if (modifierCodes.indexOf(event.keyCode) < 0)\n        view.inputState.lastEscPress = 0;\n};\nhandlers.touchstart = (view, e) => {\n    view.inputState.lastTouchTime = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlerOptions.touchstart = handlerOptions.touchmove = { passive: true };\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (view.inputState.lastTouchTime > Date.now() - 2000 && getClickType(event) == 1)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        let mustFocus = view.root.activeElement != view.contentDOM;\n        if (mustFocus)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return state.EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return state.EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? state.EditorSelection.range(from, to) : state.EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple && startSel.ranges.length > 1 && startSel.ranges.some(r => r.eq(range)))\n                return removeRange(startSel, range);\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return state.EditorSelection.create([range]);\n        }\n    };\n}\nfunction removeRange(sel, range) {\n    for (let i = 0;; i++) {\n        if (sel.ranges[i].eq(range))\n            return state.EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));\n    }\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    if (!text)\n        return;\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\"));\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nfunction updateForFocusChange(view) {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n}\nhandlers.focus = view => {\n    view.inputState.lastFocusTime = Date.now();\n    // When focusing reset the scroll position, move it back to where it was\n    if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {\n        view.scrollDOM.scrollTop = view.inputState.lastScrollTop;\n        view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;\n    }\n    updateForFocusChange(view);\n};\nhandlers.blur = view => {\n    view.observer.clearSelectionRange();\n    updateForFocusChange(view);\n};\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    if (browser.chrome && browser.android)\n        view.observer.flushSoon();\n    setTimeout(() => {\n        // Force the composition state to be cleared if it hasn't already been\n        if (view.inputState.composing < 0 && view.docView.compositionDeco.size)\n            view.update([]);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.observer.delayAndroidKey(pending.key, pending.keyCode);\n        if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n            let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n            setTimeout(() => {\n                var _a;\n                // Backspacing near uneditable nodes on Chrome Android sometimes\n                // closes the virtual keyboard. This tries to crudely detect\n                // that and refocus to get it back.\n                if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                    view.contentDOM.blur();\n                    view.focus();\n                }\n            }, 100);\n        }\n    }\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\", \"break-spaces\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = state.Text.empty;\n        this.lineWrapping = false;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefreshForWrapping(whiteSpace) {\n        return (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping;\n    }\n    mustRefreshForHeights(lineHeights) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight;\n    }\n    refresh(whiteSpace, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n        this.lineWrapping = lineWrapping;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element (relative to the top of the\n    document).\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType;\n(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\n})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-3;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Flag.Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Flag.Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Flag.Outdated */ : 0) | (this.flags & ~2 /* Flag.Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        if (from <= offset + this.length && to >= offset)\n            f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, exports.BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* Flag.SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, exports.BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, exports.BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, exports.BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, exports.BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;\n            let wasChanged = oracle.heightChanged;\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let height = measured.heights[measured.index++];\n                if (singleHeight == -1)\n                    singleHeight = height;\n                else if (Math.abs(height - singleHeight) >= Epsilon)\n                    singleHeight = -2;\n                let line = new HeightMapText(len, height);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            let result = HeightMap.of(nodes);\n            oracle.heightChanged = wasChanged || singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon ||\n                Math.abs(singleHeight - this.lines(oracle.doc, offset).lineHeight) >= Epsilon;\n            return result;\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Flag.Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Flag.Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? deco.widget.estimatedHeight : 0;\n            if (height < 0)\n                height = this.oracle.lineHeight;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* Flag.SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == exports.BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != exports.BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        state.RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    state.RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent && parent != doc.body;) {\n        if (parent.nodeType == 1) {\n            let elt = parent;\n            let style = window.getComputedStyle(elt);\n            if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = elt.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = parent == dom.parentNode ? parentRect.bottom : Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: Math.max(left, right) - rect.left,\n        top: top - (rect.top + paddingTop), bottom: Math.max(top, bottom) - (rect.top + paddingTop) };\n}\nfunction fullPixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    return { left: 0, right: rect.right - rect.left,\n        top: paddingTop, bottom: rect.bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state$1) {\n        this.state = state$1;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentDOMWidth = 0;\n        this.contentDOMHeight = 0;\n        this.editorHeight = 0;\n        this.editorWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        // Flag set when editor content was redrawn, so that the next\n        // measure stage knows it must read DOM layout\n        this.mustMeasureContent = true;\n        this.defaultTextDirection = exports.Direction.RTL;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.stateDeco = state$1.facet(decorations).filter(d => typeof d != \"function\");\n        this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, state.Text.empty, this.heightOracle.setDoc(state$1.doc), [new ChangedRange(0, 0, 0, state$1.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateViewportLines();\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineBlockAt(pos);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* VP.MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    updateViewportLines() {\n        this.viewportLines = [];\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, block => {\n            this.viewportLines.push(this.scaler.scale == 1 ? block : scaleBlock(block, this.scaler));\n        });\n    }\n    update(update, scrollTarget = null) {\n        this.state = update.state;\n        let prevDeco = this.stateDeco;\n        this.stateDeco = this.state.facet(decorations).filter(d => typeof d != \"function\");\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : state.ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* UpdateFlag.Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        let updateLines = !update.changes.empty || (update.flags & 2 /* UpdateFlag.Height */) ||\n            viewport.from != this.viewport.from || viewport.to != this.viewport.to;\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (updateLines)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 4000 /* LG.DoubleMargin */)\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc)\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(view) {\n        let dom = view.contentDOM, style = window.getComputedStyle(dom);\n        let oracle = this.heightOracle;\n        let whiteSpace = style.whiteSpace;\n        this.defaultTextDirection = style.direction == \"rtl\" ? exports.Direction.RTL : exports.Direction.LTR;\n        let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);\n        let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != dom.clientHeight;\n        this.contentDOMHeight = dom.clientHeight;\n        this.mustMeasureContent = false;\n        let result = 0, bias = 0;\n        // Vertical padding\n        let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;\n        if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n            this.paddingTop = paddingTop;\n            this.paddingBottom = paddingBottom;\n            result |= 8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */;\n        }\n        if (this.editorWidth != view.scrollDOM.clientWidth) {\n            if (oracle.lineWrapping)\n                measureContent = true;\n            this.editorWidth = view.scrollDOM.clientWidth;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        // Pixel viewport\n        let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (inView != this.inView) {\n            this.inView = inView;\n            if (inView)\n                measureContent = true;\n        }\n        if (!this.inView && !this.scrollTarget)\n            return 0;\n        let contentWidth = dom.clientWidth;\n        if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {\n            this.contentDOMWidth = contentWidth;\n            this.editorHeight = view.scrollDOM.clientHeight;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        if (measureContent) {\n            let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);\n            if (oracle.mustRefreshForHeights(lineHeights))\n                refresh = true;\n            if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = view.docView.measureTextSize();\n                refresh = oracle.refresh(whiteSpace, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    view.docView.minWidth = 0;\n                    result |= 8 /* UpdateFlag.Geometry */;\n                }\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n            oracle.heightChanged = false;\n            for (let vp of this.viewports) {\n                let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);\n                this.heightMap = this.heightMap.updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));\n            }\n            if (oracle.heightChanged)\n                result |= 2 /* UpdateFlag.Height */;\n        }\n        let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);\n        if (viewportChange)\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if ((result & 2 /* UpdateFlag.Height */) || viewportChange)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 4000 /* LG.DoubleMargin */)\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            view.docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* VP.Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* VP.Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* VP.Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range;\n            if (head < viewport.from || head > viewport.to) {\n                let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);\n                let block = map.lineAt(head, QueryType.ByPos, doc, 0, 0), topPos;\n                if (scrollTarget.y == \"center\")\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (scrollTarget.y == \"start\" || scrollTarget.y == \"nearest\" && head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* VP.Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* VP.Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        if (!this.inView)\n            return true;\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* VP.MinCoverMargin */, Math.min(-bias, 250 /* VP.MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* VP.MinCoverMargin */, Math.min(bias, 250 /* VP.MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* VP.Margin */ && bottom < visibleBottom + 2 * 1000 /* VP.Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current) {\n        let gaps = [];\n        // This won't work at all in predominantly right-to-left text.\n        if (this.defaultTextDirection != exports.Direction.LTR)\n            return gaps;\n        for (let line of this.viewportLines) {\n            if (line.length < 4000 /* LG.DoubleMargin */)\n                continue;\n            let structure = lineStructure(line.from, line.to, this.stateDeco);\n            if (structure.total < 4000 /* LG.DoubleMargin */)\n                continue;\n            let viewFrom, viewTo;\n            if (this.heightOracle.lineWrapping) {\n                let marginHeight = (2000 /* LG.Margin */ / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                viewFrom = findPosition(structure, (this.visibleTop - line.top - marginHeight) / line.height);\n                viewTo = findPosition(structure, (this.visibleBottom - line.top + marginHeight) / line.height);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                let marginWidth = 2000 /* LG.Margin */ * this.heightOracle.charWidth;\n                viewFrom = findPosition(structure, (this.pixelViewport.left - marginWidth) / totalWidth);\n                viewTo = findPosition(structure, (this.pixelViewport.right + marginWidth) / totalWidth);\n            }\n            let outside = [];\n            if (viewFrom > line.from)\n                outside.push({ from: line.from, to: viewFrom });\n            if (viewTo < line.to)\n                outside.push({ from: viewTo, to: line.to });\n            let sel = this.state.selection.main;\n            // Make sure the gaps don't cover a selection end\n            if (sel.from >= line.from && sel.from <= line.to)\n                cutRange(outside, sel.from - 10 /* LG.SelectionMargin */, sel.from + 10 /* LG.SelectionMargin */);\n            if (!sel.empty && sel.to >= line.from && sel.to <= line.to)\n                cutRange(outside, sel.to - 10 /* LG.SelectionMargin */, sel.to + 10 /* LG.SelectionMargin */);\n            for (let { from, to } of outside)\n                if (to - from > 1000 /* LG.HalfMargin */) {\n                    gaps.push(find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                        Math.abs(gap.from - from) < 1000 /* LG.HalfMargin */ && Math.abs(gap.to - to) < 1000 /* LG.HalfMargin */) ||\n                        new LineGap(from, to, this.gapSize(line, from, to, structure)));\n                }\n        }\n        return gaps;\n    }\n    gapSize(line, from, to, structure) {\n        let fraction = findFraction(structure, to) - findFraction(structure, from);\n        if (this.heightOracle.lineWrapping) {\n            return line.height * fraction;\n        }\n        else {\n            return structure.total * this.heightOracle.charWidth * fraction;\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.stateDeco;\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        state.RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* UpdateFlag.Viewport */ : 0;\n    }\n    lineBlockAt(pos) {\n        return (pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find(b => b.from <= pos && b.to >= pos)) ||\n            scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, 0, 0), this.scaler);\n    }\n    lineBlockAtHeight(height) {\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.state.doc, 0, 0), this.scaler);\n    }\n    elementAtHeight(height) {\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.state.doc, 0, 0), this.scaler);\n    }\n    get docHeight() {\n        return this.scaler.toDOM(this.heightMap.height);\n    }\n    get contentHeight() {\n        return this.docHeight + this.paddingTop + this.paddingBottom;\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, stateDeco) {\n    let ranges = [], pos = from, total = 0;\n    state.RangeSet.spans(stateDeco, from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction cutRange(ranges, from, to) {\n    for (let i = 0; i < ranges.length; i++) {\n        let r = ranges[i];\n        if (r.from < to && r.to > from) {\n            let pieces = [];\n            if (r.from < from)\n                pieces.push({ from: r.from, to: from });\n            if (r.to > to)\n                pieces.push({ from: to, to: r.to });\n            ranges.splice(i, 1, ...pieces);\n            i += pieces.length - 1;\n        }\n    }\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* VP.MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler)) : block.type);\n}\n\nconst theme = state.Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = state.Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = styleMod.StyleModule.newName(), baseLightID = styleMod.StyleModule.newName(), baseDarkID = styleMod.StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new styleMod.StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme$1 = buildTheme(\".\" + baseThemeID, {\n    \"&.cm-editor\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        flexShrink: 0,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\",\n        \"&[contenteditable=true]\": {\n            WebkitUserModify: \"read-write-plaintext-only\",\n        }\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace_fallback: \"pre-wrap\",\n        whiteSpace: \"break-spaces\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\",\n        flexShrink: 1\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \".cm-cursor, .cm-dropCursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n    },\n    \".cm-cursor\": {\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#cceeff44\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#99eeff33\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-gutters\": {\n        flexShrink: 0,\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#6c6c6c\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    },\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-widgetBuffer\": {\n        verticalAlign: \"text-top\",\n        height: \"1em\",\n        width: 0,\n        display: \"inline\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"1px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view, onChange, onScrollChanged) {\n        this.view = view;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        // The known selection. Kept in our own object, as opposed to just\n        // directly accessing the selection because:\n        //  - Safari doesn't report the right selection in shadow DOM\n        //  - Reading from the selection forces a DOM layout\n        //  - This way, we can ignore selectionchange events if we have\n        //    already seen the 'new' selection\n        this.selectionRange = new DOMSelectionState;\n        // Set when a selection change is detected, cleared on flush\n        this.selectionChanged = false;\n        this.delayedFlush = -1;\n        this.resizeTimeout = -1;\n        this.queue = [];\n        this.delayedAndroidKey = null;\n        this.lastChange = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.resize = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.onResize = this.onResize.bind(this);\n        this.onPrint = this.onPrint.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n        if (typeof ResizeObserver == \"function\") {\n            this.resize = new ResizeObserver(() => {\n                if (this.view.docView.lastUpdate < Date.now() - 75)\n                    this.onResize();\n            });\n            this.resize.observe(view.scrollDOM);\n        }\n        this.addWindowListeners(this.win = view.win);\n        this.start();\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && (entries[entries.length - 1].intersectionRatio > 0) != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n        this.readSelectionRange();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush(false);\n        this.onScrollChanged(e);\n    }\n    onResize() {\n        if (this.resizeTimeout < 0)\n            this.resizeTimeout = setTimeout(() => {\n                this.resizeTimeout = -1;\n                this.view.requestMeasure();\n            }, 50);\n    }\n    onPrint() {\n        this.view.viewState.printing = true;\n        this.view.measure();\n        setTimeout(() => {\n            this.view.viewState.printing = false;\n            this.view.requestMeasure();\n        }, 500);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        let wasChanged = this.selectionChanged;\n        if (!this.readSelectionRange() || this.delayedAndroidKey)\n            return;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event)) {\n            if (!wasChanged)\n                this.selectionChanged = false;\n            return;\n        }\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // Chrome Android has a similar issue when backspacing out a\n        // selection (#645).\n        if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty &&\n            // (Selection.isCollapsed isn't reliable on IE)\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush(false);\n    }\n    readSelectionRange() {\n        let { view } = this;\n        // The Selection object is broken in shadow roots in Safari. See\n        // https://github.com/codemirror/dev/issues/414\n        let range = browser.safari && view.root.nodeType == 11 &&\n            deepActiveElement(this.dom.ownerDocument) == this.dom &&\n            safariSelectionRangeHack(this.view) || getSelection(view.root);\n        if (!range || this.selectionRange.eq(range))\n            return false;\n        let local = hasSelection(this.dom, range);\n        // Detect the situation where the browser has, on focus, moved the\n        // selection to the start of the content element. Reset it to the\n        // position from the editor state.\n        if (local && !this.selectionChanged &&\n            view.inputState.lastFocusTime > Date.now() - 200 &&\n            view.inputState.lastTouchTime < Date.now() - 300 &&\n            atElementStart(this.dom, range)) {\n            this.view.inputState.lastFocusTime = 0;\n            view.docView.updateSelection();\n            return false;\n        }\n        this.selectionRange.setRange(range);\n        if (local)\n            this.selectionChanged = true;\n        return true;\n    }\n    setSelectionRange(anchor, head) {\n        this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);\n        this.selectionChanged = false;\n    }\n    clearSelectionRange() {\n        this.selectionRange.set(null, 0, null, 0);\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.processRecords();\n        this.queue.length = 0;\n        this.selectionChanged = false;\n    }\n    // Chrome Android, especially in combination with GBoard, not only\n    // doesn't reliably fire regular key events, but also often\n    // surrounds the effect of enter or backspace with a bunch of\n    // composition events that, when interrupted, cause text duplication\n    // or other kinds of corruption. This hack makes the editor back off\n    // from handling DOM changes for a moment when such a key is\n    // detected (via beforeinput or keydown), and then tries to flush\n    // them or, if that has no effect, dispatches the given key.\n    delayAndroidKey(key, keyCode) {\n        var _a;\n        if (!this.delayedAndroidKey)\n            this.view.win.requestAnimationFrame(() => {\n                let key = this.delayedAndroidKey;\n                this.delayedAndroidKey = null;\n                this.delayedFlush = -1;\n                if (!this.flush() && key.force)\n                    dispatchKey(this.dom, key.key, key.keyCode);\n            });\n        // Since backspace beforeinput is sometimes signalled spuriously,\n        // Enter always takes precedence.\n        if (!this.delayedAndroidKey || key == \"Enter\")\n            this.delayedAndroidKey = {\n                key, keyCode,\n                // Only run the key handler when no changes are detected if\n                // this isn't coming right after another change, in which case\n                // it is probably part of a weird chain of updates, and should\n                // be ignored if it returns the DOM to its previous state.\n                force: this.lastChange < Date.now() - 50 || !!((_a = this.delayedAndroidKey) === null || _a === void 0 ? void 0 : _a.force)\n            };\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = this.view.win.requestAnimationFrame(() => { this.delayedFlush = -1; this.flush(); });\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            this.view.win.cancelAnimationFrame(this.delayedFlush);\n            this.delayedFlush = -1;\n        }\n        this.flush();\n    }\n    processRecords() {\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    // Apply pending changes, if any\n    flush(readSelection = true) {\n        // Completely hold off flushing when pending keys are set\u2014the code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.delayedAndroidKey)\n            return false;\n        if (readSelection)\n            this.readSelectionRange();\n        let { from, to, typeOver } = this.processRecords();\n        let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);\n        if (from < 0 && !newSel)\n            return false;\n        if (from > -1)\n            this.lastChange = Date.now();\n        this.view.inputState.lastFocusTime = 0;\n        this.selectionChanged = false;\n        let startState = this.view.state;\n        let handled = this.onChange(from, to, typeOver);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.update([]);\n        return handled;\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Dirty.Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    setWindow(win) {\n        if (win != this.win) {\n            this.removeWindowListeners(this.win);\n            this.win = win;\n            this.addWindowListeners(this.win);\n        }\n    }\n    addWindowListeners(win) {\n        win.addEventListener(\"resize\", this.onResize);\n        win.addEventListener(\"beforeprint\", this.onPrint);\n        win.addEventListener(\"scroll\", this.onScroll);\n        win.document.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    removeWindowListeners(win) {\n        win.removeEventListener(\"scroll\", this.onScroll);\n        win.removeEventListener(\"resize\", this.onResize);\n        win.removeEventListener(\"beforeprint\", this.onPrint);\n        win.document.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    destroy() {\n        var _a, _b, _c;\n        this.stop();\n        (_a = this.intersection) === null || _a === void 0 ? void 0 : _a.disconnect();\n        (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();\n        (_c = this.resize) === null || _c === void 0 ? void 0 : _c.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        this.removeWindowListeners(this.win);\n        clearTimeout(this.parentCheck);\n        clearTimeout(this.resizeTimeout);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\n// Used to work around a Safari Selection/shadow DOM bug (#414)\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at it\u2014using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    view.dom.ownerDocument.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\nfunction applyDOMChange(view, start, end, typeOver) {\n    let change, newSel;\n    let sel = view.state.selection.main;\n    if (start > -1) {\n        let bounds = view.docView.domBoundsAround(start, end, 0);\n        if (!bounds || view.state.readOnly)\n            return false;\n        let { from, to } = bounds;\n        let selPoints = view.docView.impreciseHead || view.docView.impreciseAnchor ? [] : selectionPoints(view);\n        let reader = new DOMReader(selPoints, view.state);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && reader.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.doc.sliceString(from, to, LineBreakPlaceholder), reader.text, preferredPos - from, preferredSide);\n        if (diff) {\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. This drops one of those.\n            if (browser.chrome && view.inputState.lastKeyCode == 13 &&\n                diff.toB == diff.from + 2 && reader.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)\n                diff.toB--;\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: state.Text.of(reader.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder)) };\n        }\n        newSel = selectionFromPoints(selPoints, from);\n    }\n    else if (view.hasFocus || !view.state.facet(editable)) {\n        let domSel = view.observer.selectionRange;\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n            !contains(view.contentDOM, domSel.focusNode)\n            ? view.state.selection.main.head\n            : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n            !contains(view.contentDOM, domSel.anchorNode)\n            ? view.state.selection.main.anchor\n            : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = state.EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return false;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.main.empty)\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    // If the change is inside the selection and covers most of it,\n    // assume it is a selection replace (with identical characters at\n    // the start/end not included in the diff)\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    // Detect insert-period-on-double-space Mac behavior, and transform\n    // it into a regular space insert.\n    else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 &&\n        change.insert.toString() == \".\")\n        change = { from: sel.from, to: sel.to, insert: state.Text.of([\" \"]) };\n    if (change) {\n        let startState = view.state;\n        if (browser.ios && view.inputState.flushIOSKey(view))\n            return true;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events. (Some of these keys are also handled by beforeinput\n        // events and the pendingAndroidKey mechanism, but that's not\n        // reliable in all situations.)\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))))\n            return true;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return true;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) &&\n            view.inputState.composing < 0) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) + after));\n        }\n        else {\n            let changes = startState.changes(change);\n            let mainSel = newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                ? newSel.main : undefined;\n            // Try to apply a composition change to all cursors\n            if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 &&\n                change.to <= sel.to && change.to >= sel.to - 10) {\n                let replaced = view.state.sliceDoc(change.from, change.to);\n                let compositionRange = compositionSurroundingNode(view) || view.state.doc.lineAt(sel.head);\n                let offset = sel.to - change.to, size = sel.to - sel.from;\n                tr = startState.changeByRange(range => {\n                    if (range.from == sel.from && range.to == sel.to)\n                        return { changes, range: mainSel || range.map(changes) };\n                    let to = range.to - offset, from = to - replaced.length;\n                    if (range.to - range.from != size || view.state.sliceDoc(from, to) != replaced ||\n                        // Unfortunately, there's no way to make multiple\n                        // changes in the same node work without aborting\n                        // composition, so cursors in the composition range are\n                        // ignored.\n                        compositionRange && range.to >= compositionRange.from && range.from <= compositionRange.to)\n                        return { range };\n                    let rangeChanges = startState.changes({ from, to, insert: change.insert }), selOff = range.to - sel.to;\n                    return {\n                        changes: rangeChanges,\n                        range: !mainSel ? range.map(rangeChanges) :\n                            state.EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))\n                    };\n                });\n            }\n            else {\n                tr = {\n                    changes,\n                    selection: mainSel && startState.selection.replaceRange(mainSel)\n                };\n            }\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n        return true;\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? state.EditorSelection.single(anchor + base, head + base) : null;\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle \u2192 Updating \u21c6 Idle (unchecked) \u2192 Measuring \u2192 Idle\n//                                         \u2191      \u2193\n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll want to either provide a `parent`\n    option, or put `view.dom` into your document after creating a\n    view, so that the user can see the editor.\n    */\n    constructor(config = {}) {\n        this.plugins = [];\n        this.pluginMap = new Map;\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* UpdateState.Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this._root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || state.EditorState.create(config));\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec));\n        for (let plugin of this.plugins)\n            plugin.update(this);\n        this.observer = new DOMObserver(this, (from, to, typeOver) => {\n            return applyDOMChange(this, from, to, typeOver);\n        }, event => {\n            this.inputState.runScrollHandlers(this, event);\n            if (this.observer.intersecting)\n                this.measure();\n        });\n        this.inputState = new InputState(this);\n        this.inputState.ensureHandlers(this, this.plugins);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* UpdateState.Idle */;\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method), and at least\n    one change has been made in the current composition.\n    */\n    get composing() { return this.inputState.composing > 0; }\n    /**\n    Indicates whether the user is currently in composing state. Note\n    that on some platforms, like Android, this will be the case a\n    lot, since just putting the cursor on a word starts a\n    composition there.\n    */\n    get compositionStarted() { return this.inputState.composing >= 0; }\n    /**\n    The document or shadow root that the view lives in.\n    */\n    get root() { return this._root; }\n    /**\n    @internal\n    */\n    get win() { return this.dom.ownerDocument.defaultView || window; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof state.Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, attrsChanged = false, update;\n        let state$1 = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state$1)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state$1 = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state$1;\n            return;\n        }\n        this.observer.clear();\n        // When the phrases change, redraw the editor\n        if (state$1.facet(state.EditorState.phrases) != this.state.facet(state.EditorState.phrases))\n            return this.setState(state$1);\n        update = ViewUpdate.create(this, state$1, transactions);\n        let scrollTarget = this.viewState.scrollTarget;\n        try {\n            this.updateState = 2 /* UpdateState.Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : state.EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects)\n                    if (e.is(scrollIntoView))\n                        scrollTarget = e.value;\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            attrsChanged = this.updateAttrs();\n            this.showAnnouncements(transactions);\n            this.docView.updateSelection(redrawn, transactions.some(tr => tr.isUserEvent(\"select.pointer\")));\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (update.startState.facet(theme) != update.state.facet(theme))\n            this.viewState.mustMeasureContent = true;\n        if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* UpdateState.Updating */;\n        let hadFocus = this.hasFocus;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec));\n            this.pluginMap.clear();\n            for (let plugin of this.plugins)\n                plugin.update(this);\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this, this.plugins);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (hadFocus)\n            this.focus();\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.pluginMap.clear();\n            this.inputState.ensureHandlers(this, this.plugins);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = 0; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.forceFlush();\n        let updated = null;\n        let { scrollHeight, scrollTop, clientHeight } = this.scrollDOM;\n        let refHeight = scrollTop > scrollHeight - clientHeight - 4 ? scrollHeight : scrollTop;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* UpdateState.Measuring */;\n                let oldViewport = this.viewport;\n                let refBlock = this.viewState.lineBlockAtHeight(refHeight);\n                let changed = this.viewState.measure(this);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(this.measureRequests.length\n                        ? \"Measure loop restarted more than 5 times\"\n                        : \"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* UpdateFlag.Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = ViewUpdate.create(this, this.state, []), redrawn = false, scrolled = false;\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* UpdateState.Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                    this.updateAttrs();\n                    redrawn = this.docView.update(update);\n                }\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            let m = measuring[i];\n                            if (m.write)\n                                m.write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.scrollTarget) {\n                    this.docView.scrollIntoView(this.viewState.scrollTarget);\n                    this.viewState.scrollTarget = null;\n                    scrolled = true;\n                }\n                else {\n                    let diff = this.viewState.lineBlockAt(refBlock.from).top - refBlock.top;\n                    if (diff > 1 || diff < -1) {\n                        this.scrollDOM.scrollTop += diff;\n                        scrolled = true;\n                    }\n                }\n                if (redrawn)\n                    this.docView.updateSelection(true);\n                if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to &&\n                    !scrolled && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n            this.measureScheduled = -1;\n        }\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = attrsFromFacet(this, editorAttributes, {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        attrsFromFacet(this, contentAttributes, contentAttrs);\n        let changed = this.observer.ignore(() => {\n            let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n            let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n            return changedContent || changedEditor;\n        });\n        this.editorAttrs = editorAttrs;\n        this.contentAttrs = contentAttrs;\n        return changed;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        styleMod.StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* UpdateState.Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* UpdateState.Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        let known = this.pluginMap.get(plugin);\n        if (known === undefined || known && known.spec != plugin)\n            this.pluginMap.set(plugin, known = this.plugins.find(p => p.spec == plugin) || null);\n        return known && known.update(this).value;\n    }\n    /**\n    The top position of the document, in screen coordinates. This\n    may be negative when the editor is scrolled down. Points\n    directly to the top of the first line, not above the padding.\n    */\n    get documentTop() {\n        return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;\n    }\n    /**\n    Reports the padding above and below the document.\n    */\n    get documentPadding() {\n        return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };\n    }\n    /**\n    Find the text line or block widget at the given vertical\n    position (which is interpreted as relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).\n    */\n    elementAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.elementAtHeight(height);\n    }\n    /**\n    Find the line block (see\n    [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given\n    height, again interpreted relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).\n    */\n    lineBlockAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.lineBlockAtHeight(height);\n    }\n    /**\n    Get the extent and vertical position of all [line\n    blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions\n    are relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);\n    */\n    get viewportLineBlocks() {\n        return this.viewState.viewportLines;\n    }\n    /**\n    Find the line block around the given document position. A line\n    block is a range delimited on both sides by either a\n    non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line breaks, or the\n    start/end of the document. It will usually just hold a line of\n    text, but may be broken into multiple textblocks by block\n    widgets.\n    */\n    lineBlockAt(pos) {\n        return this.viewState.lineBlockAt(pos);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. In\n    bidirectional text, the line is traversed in visual order, using\n    the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n    When the start position was the last one on the line, the\n    returned position will be across the line break. If there is no\n    further line, the original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    \n    Note that for positions that aren't currently in\n    `visibleRanges`, the resulting DOM position isn't necessarily\n    meaningful (it may just point before or after a placeholder\n    element).\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == exports.Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor's content element.\n    */\n    get textDirection() { return this.viewState.defaultTextDirection; }\n    /**\n    Find the text direction of the block at the given position, as\n    assigned by CSS. If\n    [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)\n    isn't enabled, or the given position is outside of the viewport,\n    this will always return the same as\n    [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that\n    this may trigger a DOM layout.\n    */\n    textDirectionAt(pos) {\n        let perLine = this.state.facet(perLineTextDirection);\n        if (!perLine || pos < this.viewport.from || pos > this.viewport.to)\n            return this.textDirection;\n        this.readMeasured();\n        return this.docView.textDirectionAt(pos);\n    }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)\u2014if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirectionAt(line.from);\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, dir);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only\n    necessary when moving the editor's existing DOM to a new window or shadow root.\n    */\n    setRoot(root) {\n        if (this._root != root) {\n            this._root = root;\n            this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView);\n            this.mountStyles();\n        }\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Returns an effect that can be\n    [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to\n    cause it to scroll the given position or range into view.\n    */\n    static scrollIntoView(pos, options = {}) {\n        return scrollIntoView.of(new ScrollTarget(typeof pos == \"number\" ? state.EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));\n    }\n    /**\n    Returns an extension that can be used to add DOM event handlers.\n    The value should be an object mapping event names to handler\n    functions. For any given event, such functions are ordered by\n    extension precedence, and the first handler to return true will\n    be assumed to have handled that event, and no other handlers or\n    built-in behavior will be activated for it. These are registered\n    on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except\n    for `scroll` handlers, which will be called any time the\n    editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of\n    its parent nodes is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)\u2014to which the scope class will be\n    added\u2014need to be explicitly differentiated by adding an `&` to\n    the selector for that element\u2014for example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = styleMod.StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return state.Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n    /**\n    Retrieve an editor view instance from the view's DOM\n    representation.\n    */\n    static findFromDOM(dom) {\n        var _a;\n        let content = dom.querySelector(\".cm-content\");\n        let cView = content && ContentView.get(content) || ContentView.get(dom);\n        return ((_a = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a === void 0 ? void 0 : _a.view) || null;\n    }\n}\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nBy default, the editor assumes all its content has the same\n[text direction](https://codemirror.net/6/docs/ref/#view.Direction). Configure this with a `true`\nvalue to make it read the text direction of every (rendered)\nline separately.\n*/\nEditorView.perLineTextDirection = perLineTextDirection;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot have its `contenteditable` attribute set. (Note that this\ndoesn't affect API calls that change the editor content, even\nwhen those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds a\nnew range to the existing selection or replaces it entirely. The\ndefault behavior is to check `event.metaKey` on macOS, and\n`event.ctrlKey` elsewhere.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. Decorations can be provided in two\nways\u2014directly, or via a function that takes an editor view.\n\nOnly decoration sets provided directly are allowed to influence\nthe editor's vertical layout structure. The ones provided as\nfunctions are called _after_ the new viewport has been computed,\nand thus **must not** introduce block widgets or replacing\ndecorations that cover line breaks.\n\nIf you want decorated ranges to behave like atomic units for\ncursor motion and deletion purposes, also provide the range set\ncontaining the decorations to\n[`EditorView.atomicRanges`](https://codemirror.net/6/docs/ref/#view.EditorView^atomicRanges).\n*/\nEditorView.decorations = decorations;\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nEditorView.atomicRanges = atomicRanges;\n/**\nFacet that allows extensions to provide additional scroll\nmargins (space around the sides of the scrolling element that\nshould be considered invisible). This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nEditorView.scrollMargins = scrollMargins;\n/**\nThis facet records whether a dark theme is active. The extension\nreturned by [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme) automatically\nincludes an instance of this when the `dark` option is set to\ntrue.\n*/\nEditorView.darkTheme = darkTheme;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = state.StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : exports.Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\nfunction attrsFromFacet(view, facet, base) {\n    for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {\n        let source = sources[i], value = typeof source == \"function\" ? source(view) : source;\n        if (value)\n            combineAttrs(value, base);\n    }\n    return base;\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = state.Prec.default(EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n}));\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = state.Facet.define({ enables: handleKeyEvents });\nconst Keymaps = new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be a `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    commands: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, commands: [] });\n        binding.commands.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of b.scope ? b.scope.split(\" \") : [\"editor\"]) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = w3cKeyname.keyName(event);\n    let charCode = state.codePointAt(name, 0), isChar = state.codePointSize(charCode) == name.length && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.commands)\n                if (cmd(view))\n                    return true;\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName, shiftName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey || charCode > 127) &&\n            (baseName = w3cKeyname.base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n            else if (event.shiftKey && (shiftName = w3cKeyname.shift[event.keyCode]) != name && shiftName != baseName &&\n                runFor(scopeObj[prefix + modifiers(shiftName, event, false)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = state.Facet.define({\n    combine(configs) {\n        return state.combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = state.Prec.highest(EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == exports.Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = state.EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: exports.BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.lineBlockAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == exports.BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == exports.Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent));\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == exports.BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == exports.BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && view.elementAtHeight((top.bottom + bottom.top) / 2).type == exports.BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top - 0.01 /* C.Epsilon */, right - left, bottom - top + 0.01 /* C.Epsilon */, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == exports.Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nconst setDropCursorPos = state.StateEffect.define({\n    map(pos, mapping) { return pos == null ? null : mapping.mapPos(pos); }\n});\nconst dropCursorPos = state.StateField.define({\n    create() { return null; },\n    update(pos, tr) {\n        if (pos != null)\n            pos = tr.changes.mapPos(pos);\n        return tr.effects.reduce((pos, e) => e.is(setDropCursorPos) ? e.value : pos, pos);\n    }\n});\nconst drawDropCursor = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.cursor = null;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };\n    }\n    update(update) {\n        var _a;\n        let cursorPos = update.state.field(dropCursorPos);\n        if (cursorPos == null) {\n            if (this.cursor != null) {\n                (_a = this.cursor) === null || _a === void 0 ? void 0 : _a.remove();\n                this.cursor = null;\n            }\n        }\n        else {\n            if (!this.cursor) {\n                this.cursor = this.view.scrollDOM.appendChild(document.createElement(\"div\"));\n                this.cursor.className = \"cm-dropCursor\";\n            }\n            if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)\n                this.view.requestMeasure(this.measureReq);\n        }\n    }\n    readPos() {\n        let pos = this.view.state.field(dropCursorPos);\n        let rect = pos != null && this.view.coordsAtPos(pos);\n        if (!rect)\n            return null;\n        let outer = this.view.scrollDOM.getBoundingClientRect();\n        return {\n            left: rect.left - outer.left + this.view.scrollDOM.scrollLeft,\n            top: rect.top - outer.top + this.view.scrollDOM.scrollTop,\n            height: rect.bottom - rect.top\n        };\n    }\n    drawCursor(pos) {\n        if (this.cursor) {\n            if (pos) {\n                this.cursor.style.left = pos.left + \"px\";\n                this.cursor.style.top = pos.top + \"px\";\n                this.cursor.style.height = pos.height + \"px\";\n            }\n            else {\n                this.cursor.style.left = \"-100000px\";\n            }\n        }\n    }\n    destroy() {\n        if (this.cursor)\n            this.cursor.remove();\n    }\n    setDropPos(pos) {\n        if (this.view.state.field(dropCursorPos) != pos)\n            this.view.dispatch({ effects: setDropCursorPos.of(pos) });\n    }\n}, {\n    eventHandlers: {\n        dragover(event) {\n            this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));\n        },\n        dragleave(event) {\n            if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))\n                this.setDropPos(null);\n        },\n        dragend() {\n            this.setDropPos(null);\n        },\n        drop() {\n            this.setDropPos(null);\n        }\n    }\n});\n/**\nDraws a cursor at the current drop position when something is\ndragged over the editor.\n*/\nfunction dropCursor() {\n    return [dropCursorPos, drawDropCursor];\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, m);\n    }\n}\nfunction matchRanges(view, maxLength) {\n    let visible = view.visibleRanges;\n    if (visible.length == 1 && visible[0].from == view.viewport.from &&\n        visible[0].to == view.viewport.to)\n        return visible;\n    let result = [];\n    for (let { from, to } of visible) {\n        from = Math.max(view.state.doc.lineAt(from).from, from - maxLength);\n        to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);\n        if (result.length && result[result.length - 1].to >= from)\n            result[result.length - 1].to = to;\n        else\n            result.push({ from, to });\n    }\n    return result;\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        const { regexp, decoration, decorate, boundary, maxLength = 1000 } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        if (decorate) {\n            this.addMatch = (match, view, from, add) => decorate(add, from, from + match[0].length, match, view);\n        }\n        else if (typeof decoration == \"function\") {\n            this.addMatch = (match, view, from, add) => {\n                let deco = decoration(match, view, from);\n                if (deco)\n                    add(from, from + match[0].length, deco);\n            };\n        }\n        else if (decoration) {\n            this.addMatch = (match, _view, from, add) => add(from, from + match[0].length, decoration);\n        }\n        else {\n            throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");\n        }\n        this.boundary = boundary;\n        this.maxLength = maxLength;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new state.RangeSetBuilder(), add = build.add.bind(build);\n        for (let { from, to } of matchRanges(view, this.maxLength))\n            iterMatches(view.state.doc, this.regexp, from, to, (from, m) => this.addMatch(m, view, from, add));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                let add = (from, to, deco) => ranges.push(deco.range(from, to));\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from)\n                        this.addMatch(m, view, m.index + fromLine.from, add);\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, m) => this.addMatch(m, view, from, add));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8294: \"left-to-right isolate\",\n    8295: \"right-to-left isolate\",\n    8297: \"pop directional isolate\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = state.Facet.define({\n    combine(configs) {\n        let config = state.combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = state.codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = state.countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = ViewPlugin.fromClass(class {\n    constructor() {\n        this.height = 1000;\n        this.attrs = { style: \"padding-bottom: 1000px\" };\n    }\n    update(update) {\n        let height = update.view.viewState.editorHeight - update.view.defaultLineHeight;\n        if (height != this.height) {\n            this.height = height;\n            this.attrs = { style: `padding-bottom: ${height}px` };\n        }\n    }\n});\n/**\nReturns an extension that makes sure the content has a bottom\nmargin equivalent to the height of the editor, minus one line\nheight, so that every line in the document can be scrolled to the\ntop of the editor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return [plugin, contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.attrs) || null; })];\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            let line = view.lineBlockAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholder\u2014a piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state$1, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state$1.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(state.EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state$1.doc.line(i);\n            let start = state.findColumn(line.text, startCol, state$1.tabSize, true);\n            if (start > -1) {\n                let end = state.findColumn(line.text, endCol, state$1.tabSize);\n                ranges.push(state.EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : state.countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return state.EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return state.EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\nconst keys = {\n    Alt: [18, e => e.altKey],\n    Control: [17, e => e.ctrlKey],\n    Shift: [16, e => e.shiftKey],\n    Meta: [91, e => e.metaKey]\n};\nconst showCrosshair = { style: \"cursor: crosshair\" };\n/**\nReturns an extension that turns the pointer cursor into a\ncrosshair when a given modifier key, defaulting to Alt, is held\ndown. Can serve as a visual hint that rectangular selection is\ngoing to happen when paired with\n[`rectangularSelection`](https://codemirror.net/6/docs/ref/#view.rectangularSelection).\n*/\nfunction crosshairCursor(options = {}) {\n    let [code, getter] = keys[options.key || \"Alt\"];\n    let plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.isDown = false;\n        }\n        set(isDown) {\n            if (this.isDown != isDown) {\n                this.isDown = isDown;\n                this.view.update([]);\n            }\n        }\n    }, {\n        eventHandlers: {\n            keydown(e) {\n                this.set(e.keyCode == code || getter(e));\n            },\n            keyup(e) {\n                if (e.keyCode == code || !getter(e))\n                    this.set(false);\n            }\n        }\n    });\n    return [\n        plugin,\n        EditorView.contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.isDown) ? showCrosshair : null; })\n    ];\n}\n\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return false;\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0)\n                t.dom.remove();\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return true;\n    }\n}\n/**\nCreates an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nfunction windowSpace(view) {\n    let { win } = view;\n    return { top: 0, left: 0, bottom: win.innerHeight, right: win.innerWidth };\n}\nconst tooltipConfig = state.Facet.define({\n    combine: values => {\n        var _a, _b, _c;\n        return ({\n            position: browser.ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,\n            tooltipSpace: ((_c = values.find(conf => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace,\n        });\n    }\n});\nconst tooltipPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        this.lastTransaction = 0;\n        this.measureTimeout = -1;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.intersectionObserver = typeof IntersectionObserver == \"function\" ? new IntersectionObserver(entries => {\n            if (Date.now() > this.lastTransaction - 50 &&\n                entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)\n                this.measureSoon();\n        }, { threshold: [1] }) : null;\n        this.observeIntersection();\n        view.win.addEventListener(\"resize\", this.measureSoon = this.measureSoon.bind(this));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    observeIntersection() {\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n            for (let tooltip of this.manager.tooltipViews)\n                this.intersectionObserver.observe(tooltip.dom);\n        }\n    }\n    measureSoon() {\n        if (this.measureTimeout < 0)\n            this.measureTimeout = setTimeout(() => {\n                this.measureTimeout = -1;\n                this.maybeMeasure();\n            }, 50);\n    }\n    update(update) {\n        if (update.transactions.length)\n            this.lastTransaction = Date.now();\n        let updated = this.manager.update(update);\n        if (updated)\n            this.observeIntersection();\n        let shouldMeasure = updated || update.geometryChanged;\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow && !tooltipView.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")) {\n            let arrow = document.createElement(\"div\");\n            arrow.className = \"cm-tooltip-arrow\";\n            tooltipView.dom.appendChild(arrow);\n        }\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        var _a;\n        this.view.win.removeEventListener(\"resize\", this.measureSoon);\n        for (let { dom } of this.manager.tooltipViews)\n            dom.remove();\n        (_a = this.intersectionObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        clearTimeout(this.measureTimeout);\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map((t, i) => {\n                let tv = this.manager.tooltipViews[i];\n                return tv.getCoords ? tv.getCoords(t.pos) : this.view.coordsAtPos(t.pos);\n            }),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),\n        };\n    }\n    writeMeasure(measured) {\n        let { editor, space } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= Math.max(editor.top, space.top) ||\n                pos.top >= Math.min(editor.bottom, space.bottom) ||\n                pos.right < Math.max(editor.left, space.left) - .1 ||\n                pos.left > Math.min(editor.right, space.right) + .1) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = tooltip.arrow ? tView.dom.querySelector(\".cm-tooltip-arrow\") : null;\n            let arrowHeight = arrow ? 7 /* Arrow.Size */ : 0;\n            let width = size.right - size.left, height = size.bottom - size.top;\n            let offset = tView.offset || noOffset, ltr = this.view.textDirection == exports.Direction.LTR;\n            let left = size.width > space.right - space.left ? (ltr ? space.left : space.right - size.width)\n                : ltr ? Math.min(pos.left - (arrow ? 14 /* Arrow.Offset */ : 0) + offset.x, space.right - width)\n                    : Math.max(space.left, pos.left - width + (arrow ? 14 /* Arrow.Offset */ : 0) - offset.x);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide && (above\n                ? pos.top - (size.bottom - size.top) - offset.y < space.top\n                : pos.bottom + (size.bottom - size.top) + offset.y > space.bottom) &&\n                above == (space.bottom - pos.bottom > pos.top - space.top))\n                above = !above;\n            let top = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;\n            let right = left + width;\n            if (tView.overlap !== true)\n                for (let r of others)\n                    if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                        top = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) + \"px\";\n                dom.style.left = (left - measured.parent.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            if (arrow)\n                arrow.style.left = `${pos.left + (ltr ? offset.x : -offset.x) - (left + 14 /* Arrow.Offset */ - 7 /* Arrow.Size */)}px`;\n            if (tView.overlap !== true)\n                others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip-arrow\": {\n        height: `${7 /* Arrow.Size */}px`,\n        width: `${7 /* Arrow.Size */ * 2}px`,\n        position: \"absolute\",\n        zIndex: -1,\n        overflow: \"hidden\",\n        \"&:before, &:after\": {\n            content: \"''\",\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            borderLeft: `${7 /* Arrow.Size */}px solid transparent`,\n            borderRight: `${7 /* Arrow.Size */}px solid transparent`,\n        },\n        \".cm-tooltip-above &\": {\n            bottom: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                bottom: \"1px\"\n            }\n        },\n        \".cm-tooltip-below &\": {\n            top: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                top: \"1px\"\n            }\n        },\n    },\n    \"&dark .cm-tooltip .cm-tooltip-arrow\": {\n        \"&:before\": {\n            borderTopColor: \"#333338\",\n            borderBottomColor: \"#333338\"\n        },\n        \"&:after\": {\n            borderTopColor: \"transparent\",\n            borderBottomColor: \"transparent\"\n        }\n    }\n});\nconst noOffset = { x: 0, y: 0 };\n/**\nFacet to which an extension can add a value to show a tooltip.\n*/\nconst showTooltip = state.Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = state.Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned() {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned();\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMove.time;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        clearTimeout(this.restartTimeout);\n        let { lastMove } = this;\n        let pos = this.view.contentDOM.contains(lastMove.target) ? this.view.posAtCoords(lastMove) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || lastMove.y < posCoords.top || lastMove.y > posCoords.bottom ||\n            lastMove.x < posCoords.left - this.view.defaultCharacterWidth ||\n            lastMove.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == exports.Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (lastMove.x < posCoords.left ? -rtl : rtl));\n        if (open === null || open === void 0 ? void 0 : open.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(this.lastMove.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords(this.lastMove) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* Hover.MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave() {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active)\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nSet up a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos`, return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer is\u2014it will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = state.StateEffect.define();\n    let hoverState = state.StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection) ||\n                options.hideOn && options.hideOn(tr, value)))\n                return null;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, state.MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                value = copy;\n            }\n            for (let effect of tr.effects) {\n                if (effect.is(setHover))\n                    value = effect.value;\n                if (effect.is(closeHoverTooltipEffect))\n                    value = null;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, options.hoverTime || 300 /* Hover.Time */)),\n        showHoverTooltipHost\n    ];\n}\n/**\nGet the active tooltip view for a given tooltip, if available.\n*/\nfunction getTooltip(view, tooltip) {\n    let plugin = view.plugin(tooltipPlugin);\n    if (!plugin)\n        return null;\n    let found = plugin.manager.tooltips.indexOf(tooltip);\n    return found < 0 ? null : plugin.manager.tooltipViews[found];\n}\n/**\nReturns true if any hover tooltips are currently active.\n*/\nfunction hasHoverTooltips(state) {\n    return state.facet(showHoverTooltip).some(x => x);\n}\nconst closeHoverTooltipEffect = state.StateEffect.define();\n/**\nTransaction effect that closes all hover tooltips.\n*/\nconst closeHoverTooltips = closeHoverTooltipEffect.of(null);\n/**\nTell the tooltip extension to recompute the position of the active\ntooltips. This can be useful when something happens (such as a\nre-positioning or CSS change affecting the editor) that could\ninvalidate the existing tooltip positions.\n*/\nfunction repositionTooltips(view) {\n    var _a;\n    (_a = view.plugin(tooltipPlugin)) === null || _a === void 0 ? void 0 : _a.maybeMeasure();\n}\n\nconst panelConfig = state.Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };\n    })\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        for (let p of this.panels)\n            if (p.destroy && panels.indexOf(p) < 0)\n                p.destroy();\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = state.Facet.define({\n    enables: panelPlugin\n});\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends state.RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n    /**\n    Called if the marker has a `toDOM` method and its representation\n    was removed from a gutter.\n    */\n    destroy(dom) { }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = state.MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#view.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#view.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = state.Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => state.RangeSet.empty,\n    lineMarker: () => null,\n    lineMarkerChange: null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = state.Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst unfixGutters = state.Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.prevViewport = view.viewport;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        this.syncGutters(false);\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n    }\n    update(update) {\n        if (this.updateGutters(update)) {\n            // Detach during sync when the viewport changed significantly\n            // (such as during scrolling), since for large updates that is\n            // faster.\n            let vpA = this.prevViewport, vpB = update.view.viewport;\n            let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);\n            this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);\n        }\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n        this.prevViewport = update.view.viewport;\n    }\n    syncGutters(detach) {\n        let after = this.dom.nextSibling;\n        if (detach)\n            this.dom.remove();\n        let lineClasses = state.RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport, -this.view.documentPadding.top));\n        for (let line of this.view.viewportLineBlocks) {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == exports.BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == exports.BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                continue;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }\n        for (let cx of contexts)\n            cx.finish();\n        if (detach)\n            this.view.scrollDOM.insertBefore(this.dom, after);\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !state.RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters) {\n                g.dom.remove();\n                if (gutters.indexOf(g) < 0)\n                    g.destroy();\n            }\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        for (let view of this.gutters)\n            view.destroy();\n        this.dom.remove();\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        if (!value || value.gutters.length == 0 || !value.fixed)\n            return null;\n        return view.textDirection == exports.Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport, height) {\n        this.gutter = gutter;\n        this.height = height;\n        this.localMarkers = [];\n        this.i = 0;\n        this.cursor = state.RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            gutter.elements[this.i].update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i) {\n            let last = gutter.elements.pop();\n            gutter.dom.removeChild(last.dom);\n            last.destroy();\n        }\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.lineBlockAtHeight(event.clientY - view.documentTop);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !state.RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) ||\n            (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);\n    }\n    destroy() {\n        for (let elt of this.elements)\n            elt.destroy();\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.markers = [];\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutterElement\";\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (!sameMarkers(this.markers, markers))\n            this.setMarkers(view, markers);\n    }\n    setMarkers(view, markers) {\n        let cls = \"cm-gutterElement\", domPos = this.dom.firstChild;\n        for (let iNew = 0, iOld = 0;;) {\n            let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;\n            if (marker) {\n                let c = marker.elementClass;\n                if (c)\n                    cls += \" \" + c;\n                for (let i = iOld; i < this.markers.length; i++)\n                    if (this.markers[i].compare(marker)) {\n                        skipTo = i;\n                        matched = true;\n                        break;\n                    }\n            }\n            else {\n                skipTo = this.markers.length;\n            }\n            while (iOld < skipTo) {\n                let next = this.markers[iOld++];\n                if (next.toDOM) {\n                    next.destroy(domPos);\n                    let after = domPos.nextSibling;\n                    domPos.remove();\n                    domPos = after;\n                }\n            }\n            if (!marker)\n                break;\n            if (marker.toDOM) {\n                if (matched)\n                    domPos = domPos.nextSibling;\n                else\n                    this.dom.insertBefore(marker.toDOM(view), domPos);\n            }\n            if (matched)\n                iOld++;\n        }\n        this.dom.className = cls;\n        this.markers = markers;\n    }\n    destroy() {\n        this.setMarkers(null, []); // First argument not used unless creating markers\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = state.Facet.define();\nconst lineNumberConfig = state.Facet.define({\n    combine(values) {\n        return state.combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM() { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    lineMarkerChange: update => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = gutterLineClass.compute([\"selection\"], state$1 => {\n    let marks = [], last = -1;\n    for (let range of state$1.selection.ranges) {\n        let linePos = state$1.doc.lineAt(range.head).from;\n        if (linePos > last) {\n            last = linePos;\n            marks.push(activeLineGutterMarker.range(linePos));\n        }\n    }\n    return state.RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexports.BidiSpan = BidiSpan;\nexports.BlockInfo = BlockInfo;\nexports.Decoration = Decoration;\nexports.EditorView = EditorView;\nexports.GutterMarker = GutterMarker;\nexports.MatchDecorator = MatchDecorator;\nexports.ViewPlugin = ViewPlugin;\nexports.ViewUpdate = ViewUpdate;\nexports.WidgetType = WidgetType;\nexports.__test = __test;\nexports.closeHoverTooltips = closeHoverTooltips;\nexports.crosshairCursor = crosshairCursor;\nexports.drawSelection = drawSelection;\nexports.dropCursor = dropCursor;\nexports.getPanel = getPanel;\nexports.getTooltip = getTooltip;\nexports.gutter = gutter;\nexports.gutterLineClass = gutterLineClass;\nexports.gutters = gutters;\nexports.hasHoverTooltips = hasHoverTooltips;\nexports.highlightActiveLine = highlightActiveLine;\nexports.highlightActiveLineGutter = highlightActiveLineGutter;\nexports.highlightSpecialChars = highlightSpecialChars;\nexports.hoverTooltip = hoverTooltip;\nexports.keymap = keymap;\nexports.lineNumberMarkers = lineNumberMarkers;\nexports.lineNumbers = lineNumbers;\nexports.logException = logException;\nexports.panels = panels;\nexports.placeholder = placeholder;\nexports.rectangularSelection = rectangularSelection;\nexports.repositionTooltips = repositionTooltips;\nexports.runScopeHandlers = runScopeHandlers;\nexports.scrollPastEnd = scrollPastEnd;\nexports.showPanel = showPanel;\nexports.showTooltip = showTooltip;\nexports.tooltips = tooltips;\n\n};"],
"names":["shadow$provide","global","require","module","exports","getSelection","root","target","nodeType","ownerDocument","contains","dom","node","parentNode","hasSelection","selection","anchorNode","_","clientRectsFor","textRange","nodeValue","length","getClientRects","isEquivalentPosition","off","targetNode","targetOff","scanFor","domIndex","index","previousSibling","dir","maxOffset","nodeName","parent","childNodes","contentEditable","flattenRect","rect","left","x","right","top","bottom","scrollRectIntoView","side","y","xMargin","yMargin","ltr","doc","win","defaultView","cur","body","innerWidth","innerHeight","scrollHeight","clientHeight","scrollWidth","clientWidth","assignedSlot","getBoundingClientRect","moveY","moveX","rectHeight","targetTop","boundingHeight","targetLeft","scrollBy","movedY","movedX","start","scrollTop","scrollLeft","Math","abs","host","focusPreventScroll","setActive","preventScrollSupported","focus","stack","push","preventScroll","undefined","i","elt","from","to","range","scratchRange","document","createRange","setEnd","setStart","dispatchKey","name","code","options","key","keyCode","which","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","clearAttributes","attributes","removeAttributeNode","rm$1","next","nextSibling","removeChild","replaceRange","fromI","fromOff","toI","toOff","insert","breakAtStart","openStart","openEnd","children","before","last","breakAtEnd","breakAfter","merge","after","split","shift","become","pop","replaceChildren","mergeChildrenInto","childCursor","findPos","dLen","view","textCoords","text","pos","flatten","browser","chrome","gecko","rects","Rect0","safari","width","Array","prototype","find","call","r","scanCompositionTree","enterView","fromText","MarkView","child","firstChild","desc","ContentView","get","hasComp","len","getSide","posFromDOMInCompositionTree","offset","localPosFromDOM","min","inlineDOMAtPos","end","domAtPos","j","prev","DOMPos","joinInlineInto","open","mark","eq","setParent","coordsInChildren","coordsAt","max","lastChild","combineAttrs","source","class","style","attrsEq","a","b","keysA","Object","keys","keysB","indexOf","updateAttrs","attrs","changed","removeAttribute","setAttribute","getInclusive","spec","block","inclusive","addRange","ranges","margin","wrapMarks","active","logException","state","exception","context","handler","facet","exceptionSink","window","onerror","String","console","error","dec","str","result","computeOrder","line","direction","outerType","LTR","oppositeType","BidiRE","test","BidiSpan","prevStrong","charCodeAt","type","ch","LowTypes","ArabicTypes","types","replace","sI","br","Brackets","sJ","BracketStack","flags","embed","beforeL","order","rtl","l","moveVisually","forward","_a","startIndex","head","spanI","level","bidiLevel","assoc","span","indexForward","nextIndex","findClusterBreak","movedOver","slice","EditorSelection","cursor","nextSpan","isBlockElement","compositionSurroundingNode","sel","observer","selectionRange","textNode","focusNode","nearbyTextNode","focusOffset","cView","docView","nearest","LineView","topNode","posAtEnd","posAtStart","computeCompositionDeco","changes","surrounding","Decoration","none","newFrom","mapPos","newTo","readRange","DOMReader","sliceString","LineBreakPlaceholder","topView","CompositionView","widget","set","CompositionWidget","findChangedDeco","diff","comp","DecorationComparator$1","RangeSet","compare","groupAt","state$1","bias","categorize","charCategorizer","lineAt","linePos","cat","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestY","closestOverlap","above","below","aboveRect","belowRect","dx","dy","domPosInText","closestX","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","precise","content","contentDOM","docTop","viewState","paddingTop","docHeight","yOffset","halfLine","defaultLineHeight","bounced","elementAtHeight","BlockType","Text","lineStart","viewport","posAtCoordsImprecise","elementFromPoint","element","isEditable","caretPositionFromPoint","caretRangeFromPoint","classList","height","posFromDOM","contentRect","into","round","defaultCharacterWidth","lineWrapping","floor","heightOracle","lineLength","sliceDoc","findColumn","tabSize","moveByChar","by","spans","bidiSpans","textDirectionAt","check","char","number","lines","byGroup","nextCat","CharCategory","Space","skipAtoms","oldPos","atoms","atomicRanges","map","f","moved","between","value","isInPrimarySelection","event","main","empty","rangeCount","getRangeAt","clientX","clientY","eventBelongsToEditor","bubbles","ignoreEvent","capturePaste","appendChild","createElement","cssText","setTimeout","remove","doPaste","input","toText","byLine","lastLinewiseCopy","every","toString","lastLine","changeByRange","lineBreak","replaceSelection","dispatch","userEvent","scrollIntoView","rangeForClick","visual","queryPos","getClickType","BadMouseDetail","detail","lastMouseDown","lastTime","lastMouseDownTime","Date","now","lastMouseDownCount","basicMouseSelection","startSel","lastEvent","update","docChanged","extend","multiple","startRange","some","removeRange","create","concat","mainIndex","dropText","direct","dropPos","preventDefault","mouseSelection","inputState","del","dragging","dragMove","ins","anchor","captureCopy","selectionEnd","selectionStart","updateForFocusChange","hasFocus","notifiedFocused","mergeGaps","nodes","around","HeightMapGap","splice","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","getComputedStyle","overflow","parentRect","position","offsetParent","fullPixelRange","lineStructure","stateDeco","total","point","findPosition","ratio","dist","size","findFraction","structure","counted","cutRange","pieces","array","val","scaleBlock","scaler","scale","bTop","toDOM","bBottom","BlockInfo","isArray","buildTheme","scopes","styleMod","StyleModule","finish","m","RangeError","findChild","curView","safariSelectionRangeHack","read","stopImmediatePropagation","found","getTargetRanges","addEventListener","execCommand","removeEventListener","startContainer","anchorOffset","startOffset","endContainer","endOffset","curAnchor","applyDOMChange","typeOver","change","bounds","domBoundsAround","readOnly","selPoints","impreciseHead","impreciseAnchor","selectionPoints","reader","startDOM","endDOM","preferredPos","preferredSide","lastKeyCode","lastKeyTime","android","findDiff","toB","toA","of","newSel","selectionFromPoints","editable","domSel","iHead","iAnchor","single","append","mac","startState","ios","flushIOSKey","inputHandler","h","composing","tr","mainSel","newLength","replaced","compositionRange","rangeChanges","selOff","compositionFirstChange","lastSelectionTime","lastSelectionOrigin","minLen","adjust","move","activeElement","DOMPoint","points","base","attrsFromFacet","sources","modifiers","altKey","ctrlKey","metaKey","shiftKey","getKeymap","bindings","keymap","Keymaps","buildKeymap","reduce","platform","currentPlatform","bound","isPrefix","checkPrefix","is","current","Error","add","scope","command","scopeObj","parts","k","alt","ctrl","meta","mod","prefix","join","commands","ourObj","storedPrefix","PrefixTimeout","full","binding","run","runHandlers","w3cKeyname","keyName","charCode","codePointAt","isChar","codePointSize","fallthrough","modifierCodes","runFor","cmd","baseName","shiftName","getBase","scrollDOM","textDirection","Direction","wrappedLine","inside","moveToLineBoundary","blockAt","lineBlockAt","measureRange","piece","Piece","horizontal","drawForLine","addSpan","fromOpen","toOpen","fromCoords","coordsAtPos","toCoords","leftSide","rightSide","visibleRanges","endPos","docLine","spanFrom","spanTo","drawForWidget","lineStyle","parseInt","paddingLeft","textIndent","paddingRight","startBlock","endBlock","visualStart","visualEnd","measureCursor","primary","iterMatches","re","lastIndex","iterRange","done","exec","matchRanges","maxLength","visible","specialCharPlugin","_plugin","ViewPlugin","fromClass","constructor","decorations","decorationCache","decorator","makeDecorator","specialCharConfig","createDeco","conf","MatchDecorator","regexp","specialChars","decoration","col","countColumn","TabWidget","SpecialCharWidget","boundary","replaceTabs","updateDeco","v","getPos","MaxOff","ref","rectangleSelectionStyle","newStart","newLine","_extend","startLine","endLine","startOff","endOff","startCol","endCol","windowSpace","rm","gutters","config","gutterView","fixed","unfixGutters","asArray","advanceCursor","collect","formatNumber","lineNumberConfig","maxLineNumber","defineProperty","DOMSelectionState","setRange","noChildren","dirty","editorView","posBefore","posAfter","_pos","_side","sync","track","contentView","reuseDOM","written","insertBefore","_dom","fromStart","toEnd","prevEnd","markDirty","andParent","markParentsDirty","childList","setDOM","cmView","destroy","ignoreMutation","_rec","_event","ChildCursor","childPos","hasStart","other","nav","navigator","userAgent","vendor","documentElement","ie_edge","ie_upto10","ie_11up","ie","webkit","maxTouchPoints","windows","linux","ie_version","documentMode","gecko_version","chrome_version","webkit_version","TextView","createDOM","textDOM","createTextNode","MaxJoinLen","_from","_to","setAttrs","className","tagName","toUpperCase","_hasStart","detachFrom","WidgetView","prevWidget","customView","updateDOM","p","WidgetBufferView","imgRect","nextRect","siblingRect","WidgetType","RangeValue","startSide","endSide","MarkDecoration","PointDecoration","isBlockGap","LineDecoration","sort","hasHeight","estimatedHeight","mapMode","MapMode","TrackBefore","isReplace","TrackAfter","TrackDel","WidgetRange","WidgetBefore","WidgetAfter","arguments","prevAttrs","transferDOM","setDeco","at","addLineDeco","deco","cls","hack","cmIgnore","measureTextSize","totalWidth","lineHeight","charWidth","_other","BlockWidgetView","_takeDeco","ContentBuilder","disallowBlockEffectsFor","curLine","pendingBuffer","atCursorPos","textOff","iter","skip","posCovered","getLine","flushBuffer","addBlockWidget","buildText","take","NullWidget","cursorBefore","cursorAfter","build","dynamicDecorationMap","builder","tag","toLowerCase","clickAddsSelectionRange","Facet","define","dragMovesSelection$1","mouseSelectionStyle","updateListener","perLineTextDirection","combine","values","ScrollTarget","StateEffect","t","nextPluginID","viewPlugin","id","domEventHandlers","buildExtensions","extension","eventHandlers","provide","plugin","ext","pluginInst","PluginInstance","mustUpdate","e","deactivate","editorAttributes","contentAttributes","scrollMargins","styleModule","ChangedRange","fromA","fromB","addToSet","me","extendWithRanges","dI","rI","posA","posB","ViewUpdate","transactions","ChangeSet","compose","changedRanges","iterChangedRanges","RTL","maybe","lineSeparator","EditorState","findPointBefore","readNode","nextView","readTextNode","nextBreak","breakSize","fromView","overrideDOMText","findPointInside","maxLen","DocView","compositionDeco","minWidthTo","minWidthFrom","minWidth","forceSelection","lastUpdate","updateInner","prevDeco","decoDiff","oldLength","mustMeasureContent","updateChildren","ignore","contentHeight","flexBasis","gaps","BlockGapWidget","updateGaps","updateSelection","mustRead","fromPointer","readSelectionRange","mayControlSelection","force","dummy","blur","rawSel","nextTo","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","enforceCursorAssoc","modify","domView","rootView","measureVisibleLineHeights","contentWidth","isWider","widest","childRect","measure","textContent","computeBlockGapDeco","vs","viewports","allDeco","d","lineGapDeco","mRight","mLeft","mTop","mBottom","margins","targetRect","compareRange","comparePoint","InputState","lastScrollLeft","lastScrollTop","lastFocusTime","lastTouchTime","chromeScrollHack","pendingIOSKey","lastContextMenu","lastEscPress","scrollHandlers","registeredEvents","customHandlers","compositionEndedAt","handlers","ignoreDuringComposition","keydown","mustFlushObserver","forceFlush","runCustomHandlers","handlerOptions","pointerEvents","clearTimeout","passive","setSelectionOrigin","origin","ensureHandlers","plugins","runScrollHandlers","scroll","delayAndroidKey","pending","PendingKeys","EmacsyPendingKeys","startMouseSelection","inputType","MouseSelection","startEvent","mustSelect","bind","select","buttons","brokenClipboardAPI","handlers.keydown","touchstart","handlers.touchstart","touchmove","handlers.touchmove","mousedown","handlers.mousedown","flush","makeStyle","button","mustFocus","dragstart","handlers.dragstart","dataTransfer","setData","effectAllowed","drop","handlers.drop","files","finishFile","filter","s","FileReader","onload","reader.onload","readAsText","getData","paste","handlers.paste","data","clipboardData","copy","cut","handlers.cut","linewise","upto","clearData","handlers.focus","handlers.blur","clearSelectionRange","compositionstart","compositionupdate","handlers.compositionupdate","compositionend","handlers.compositionend","flushSoon","contextmenu","handlers.contextmenu","beforeinput","handlers.beforeinput","startViewHeight","visualViewport","wrappingWhiteSpace","HeightOracle","heightSamples","heightChanged","heightForGap","ceil","heightForLine","setDoc","mustRefreshForWrapping","whiteSpace","mustRefreshForHeights","lineHeights","newHeight","refresh","knownHeights","MeasuredHeights","heights","QueryType","HeightMap","setHeight","oracle","Epsilon","decomposeLeft","decomposeRight","applyChanges","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","break","brk","HeightMapBranch","HeightMapBlock","_height","_doc","_value","_type","forEachLine","_force","measured","more","outdated","widgetHeight","collapsed","firstLine","ByHeight","first","unshift","singleHeight","wasChanged","mid","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","rebalance","lineEnd","covering","writtenTo","isCovered","heightRelevant","addBlock","relevantWidgetHeight","enterLine","blankContent","gap","ensureLine","LineGap","same","gA","gB","draw","wrapping","LineGapWidget","vertical","display","ViewState","pixelViewport","inView","editorWidth","editorHeight","contentDOMHeight","contentDOMWidth","paddingBottom","IdScaler","scrollTarget","printing","defaultTextDirection","mustEnforceCursorAssoc","heightMap","getViewport","updateViewportLines","updateForViewport","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","BigScaler","viewportLines","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLines","updateLineGaps","mapLineGaps","selectionSet","measureContent","dTop","dBottom","vp","viewportChange","fromDOM","marginTop","visibleTop","visibleBottom","viewHeight","topPos","mapped","touchesRange","viewFrom","viewTo","marginHeight","marginWidth","outside","gapSize","fraction","lineBlockAtHeight","n","vpHeight","domBase","domTop","domBottom","obj","theme","strs","darkTheme","baseThemeID","newName","baseLightID","baseDarkID","lightDarkIDs","baseTheme$1","boxSizing","outline","flexDirection","alignItems","fontFamily","overflowX","zIndex","flexGrow","flexShrink","minHeight","wordWrap","padding","WebkitUserModify","whiteSpace_fallback","wordBreak","overflowWrap","caretColor","contain","background","animation","opacity","borderLeft","marginLeft","borderLeftColor","backgroundColor","color","borderRight","textAlign","borderBottom","borderTop","verticalAlign","fontSize","borderRadius","backgroundImage","border","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","onChange","onScrollChanged","selectionChanged","resizeTimeout","delayedFlush","queue","delayedAndroidKey","lastChange","scrollTargets","resize","intersection","intersecting","gapIntersection","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","onCharData","this.onCharData","prevValue","onSelectionChange","onResize","onPrint","onScroll","ResizeObserver","observe","addWindowListeners","IntersectionObserver","entries","listenForScroll","intersectionRatio","createEvent","requestMeasure","g","disconnect","shadowRoot","local","stop","clear","processRecords","requestAnimationFrame","cancelAnimationFrame","records","takeRecords","record","readMutation","readSelection","handled","rec","childBefore","childAfter","setWindow","removeWindowListeners","_b","_c","EditorView","pluginMap","Map","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","_root","mountStyles","Transaction","redrawn","attrsChanged","phrases","setState","effects","CachedOrder","updatePlugins","styleModules","showAnnouncements","isUserEvent","listener","newState","hadFocus","prevSpecs","specs","newPlugins","updated","refHeight","oldViewport","refBlock","warn","measuring","BadMeasure","scrolled","write","themeClasses","spellcheck","autocorrect","autocapitalize","translate","contenteditable","role","changedContent","changedEditor","trs","effect","announce","div","mount","reverse","readMeasured","request","known","moveByGroup","initial","includeWrap","coords","editorRect","lineView","moveVertically","distance","startPos","goal","goalColumn","startCoords","documentTop","startY","resolvedGoal","extra","curY","posAtDOM","perLine","MaxBidiLine","entry","setRoot","dark","baseTheme","Prec","lowest","findFromDOM","querySelector","dragMovesSelection","cache","lastDir","handleKeyEvents","default","enables","WeakMap","CanHidePrimary","selectionConfig","configs","combineConfig","cursorBlinkRate","drawRangeCursor","drawSelectionPlugin","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","geometryChanged","viewportChanged","animationName","prim","c","oldCursors","forEach","idx","themeSpec","hideNativeSelection","highest","setDropCursorPos","mapping","dropCursorPos","StateField","drawDropCursor","drawCursor","cursorPos","field","outer","setDropPos","dragover","dragleave","relatedTarget","dragend","decorate","addMatch","match","this.addMatch","_view","RangeSetBuilder","changeFrom","changeTo","iterChanges","_f","_t","updateRange","updateFrom","updateTo","fromLine","toLine","filterFrom","filterTo","UnicodeRegexpSupport","unicode","Specials","RegExp","Names","_supportsTabSize","render","addSpecialChars","styles","MozTabSize","DefaultPlaceholder","fromCharCode","phrase","custom","ph","title","lineDeco","activeLineHighlighter","getDeco","lastLineStart","Placeholder","wrap","Alt","Control","Shift","Meta","showCrosshair","TooltipViewManager","createTooltipView","tooltips","tooltipViews","tip","tooltipView","tooltipConfig","tooltipSpace","tooltipPlugin","lastTransaction","measureTimeout","classes","createContainer","readMeasure","writeMeasure","manager","showTooltip","createTooltip","intersectionObserver","measureSoon","threshold","observeIntersection","maybeMeasure","container","tooltip","shouldMeasure","newConfig","arrow","Outside","editor","tv","getCoords","space","others","tView","arrowHeight","noOffset","strictSide","overlap","toggle","positioned","borderTopColor","borderBottomColor","showHoverTooltip","HoverTooltipHost","mounted","createHostedView","hostedView","showHoverTooltipHost","compute","HoverPlugin","setHover","hoverTime","restartTimeout","hoverTimeout","lastMove","time","checkHover","mouseleave","mousemove","startHover","hovered","posCoords","bidi","then","detach","closeHoverTooltipEffect","closeHoverTooltips","panelConfig","topContainer","bottomContainer","panelPlugin","showPanel","panels","PanelGroup","syncClasses","panel","scrollMargin","syncDOM","curDOM","GutterMarker","elementClass","gutterLineClass","defaults","renderEmptyElements","elementStyle","markers","lineMarker","lineMarkerChange","initialSpacer","updateSpacer","activeGutters","prevViewport","SingleGutterView","gutter","syncGutters","updateGutters","vpA","vpB","lineClasses","classSet","contexts","UpdateContext","documentPadding","viewportLineBlocks","cx","offsetWidth","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","spacer","prop","prevMarkers","setMarkers","domPos","iNew","iOld","skipTo","marker","matched","lineNumberMarkers","assign","exists","NumberMarker","lineNumberGutter","activeLineGutterMarker","activeLineGutterHighlighter","marks","__test","crosshairCursor","getter","isDown","keyup","drawSelection","dropCursor","getPanel","getTooltip","hasHoverTooltips","highlightActiveLine","highlightActiveLineGutter","highlightSpecialChars","hoverTooltip","hoverState","hideOnChange","hideOn","newPos","lineNumbers","placeholder","rectangularSelection","eventFilter","repositionTooltips","runScopeHandlers","scrollPastEnd"]
}

{
"version":3,
"file":"module$node_modules$$codemirror$view$dist$index_cjs.js",
"lineCount":418,
"mappings":"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",
"sources":["node_modules/@codemirror/view/dist/index.cjs"],
"sourcesContent":["shadow$provide[\"module$node_modules$$codemirror$view$dist$index_cjs\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar state = require('@codemirror/state');\nvar styleMod = require('style-mod');\nvar w3cKeyname = require('w3c-keyname');\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement(doc) {\n    let elt = doc.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nfunction scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {\n    let doc = dom.ownerDocument, win = doc.defaultView || window;\n    for (let cur = dom; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.assignedSlot || cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (y == \"nearest\") {\n                if (rect.top < bounding.top) {\n                    moveY = -(bounding.top - rect.top + yMargin);\n                    if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                        moveY = rect.bottom - bounding.bottom + moveY + yMargin;\n                }\n                else if (rect.bottom > bounding.bottom) {\n                    moveY = rect.bottom - bounding.bottom + yMargin;\n                    if (side < 0 && (rect.top - moveY) < bounding.top)\n                        moveY = -(bounding.top + moveY - rect.top + yMargin);\n                }\n            }\n            else {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop = y == \"center\" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 :\n                    y == \"start\" || y == \"center\" && side < 0 ? rect.top - yMargin :\n                        rect.bottom - boundingHeight + yMargin;\n                moveY = targetTop - bounding.top;\n            }\n            if (x == \"nearest\") {\n                if (rect.left < bounding.left) {\n                    moveX = -(bounding.left - rect.left + xMargin);\n                    if (side > 0 && rect.right > bounding.right + moveX)\n                        moveX = rect.right - bounding.right + moveX + xMargin;\n                }\n                else if (rect.right > bounding.right) {\n                    moveX = rect.right - bounding.right + xMargin;\n                    if (side < 0 && rect.left < bounding.left + moveX)\n                        moveX = -(bounding.left + moveX - rect.left + xMargin);\n                }\n            }\n            else {\n                let targetLeft = x == \"center\" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 :\n                    (x == \"start\") == ltr ? rect.left - xMargin :\n                        rect.right - (bounding.right - bounding.left) + xMargin;\n                moveX = targetLeft - bounding.left;\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    let movedX = 0, movedY = 0;\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        movedY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        movedX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - movedX, top: rect.top - movedY,\n                        right: rect.right - movedX, bottom: rect.bottom - movedY };\n                    if (movedX && Math.abs(movedX - moveX) < 1)\n                        x = \"nearest\";\n                    if (movedY && Math.abs(movedY - moveY) < 1)\n                        y = \"nearest\";\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    setRange(range) {\n        this.set(range.anchorNode, range.anchorOffset, range.focusNode, range.focusOffset);\n    }\n    set(anchorNode, anchorOffset, focusNode, focusOffset) {\n        this.anchorNode = anchorNode;\n        this.anchorOffset = anchorOffset;\n        this.focusNode = focusNode;\n        this.focusOffset = focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nfunction getRoot(node) {\n    while (node) {\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n        node = node.assignedSlot || node.parentNode;\n    }\n    return null;\n}\nfunction clearAttributes(node) {\n    while (node.attributes.length)\n        node.removeAttributeNode(node.attributes[0]);\n}\nfunction atElementStart(doc, selection) {\n    let node = selection.focusNode, offset = selection.focusOffset;\n    if (!node || selection.anchorNode != node || selection.anchorOffset != offset)\n        return false;\n    for (;;) {\n        if (offset) {\n            if (node.nodeType != 1)\n                return false;\n            let prev = node.childNodes[offset - 1];\n            if (prev.contentEditable == \"false\")\n                offset--;\n            else {\n                node = prev;\n                offset = maxOffset(node);\n            }\n        }\n        else if (node == doc) {\n            return true;\n        }\n        else {\n            offset = domIndex(node);\n            node = node.parentNode;\n        }\n    }\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst noChildren = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Dirty.Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        if (this.dirty & 2 /* Dirty.Node */) {\n            let parent = this.dom;\n            let prev = null, next;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {\n                        let contentView = ContentView.get(next);\n                        if (!contentView || !contentView.parent && contentView.canReuseDOM(child))\n                            child.reuseDOM(next);\n                    }\n                    child.sync(track);\n                    child.dirty = 0 /* Dirty.Not */;\n                }\n                next = prev ? prev.nextSibling : parent.firstChild;\n                if (track && !track.written && track.node == parent && next != child.dom)\n                    track.written = true;\n                if (child.dom.parentNode == parent) {\n                    while (next && next != child.dom)\n                        next = rm$1(next);\n                }\n                else {\n                    parent.insertBefore(child.dom, next);\n                }\n                prev = child.dom;\n            }\n            next = prev ? prev.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm$1(next);\n        }\n        else if (this.dirty & 1 /* Dirty.Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Dirty.Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Dirty.Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Dirty.Node */;\n            if (parent.dirty & 1 /* Dirty.Child */)\n                return;\n            parent.dirty |= 1 /* Dirty.Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = noChildren) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.destroy();\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        return false;\n    }\n    become(other) { return false; }\n    canReuseDOM(other) { return other.constructor == this.constructor; }\n    // When this is a zero-length view with a side, this should return a\n    // number <= 0 to indicate it is before its position, or a\n    // number > 0 when after its position.\n    getSide() { return 0; }\n    destroy() {\n        this.parent = null;\n    }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm$1(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\nfunction replaceRange(parent, fromI, fromOff, toI, toOff, insert, breakAtStart, openStart, openEnd) {\n    let { children } = parent;\n    let before = children.length ? children[fromI] : null;\n    let last = insert.length ? insert[insert.length - 1] : null;\n    let breakAtEnd = last ? last.breakAfter : breakAtStart;\n    // Change within a single child\n    if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert.length < 2 &&\n        before.merge(fromOff, toOff, insert.length ? last : null, fromOff == 0, openStart, openEnd))\n        return;\n    if (toI < children.length) {\n        let after = children[toI];\n        // Make sure the end of the child after the update is preserved in `after`\n        if (after && toOff < after.length) {\n            // If we're splitting a child, separate part of it to avoid that\n            // being mangled when updating the child before the update.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                insert[insert.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                insert.push(after);\n            }\n        }\n        else if (after === null || after === void 0 ? void 0 : after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n    }\n    if (before) {\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && insert.length && before.merge(fromOff, before.length, insert[0], false, openStart, 0)) {\n                before.breakAfter = insert.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n    }\n    // Try to merge widgets on the boundaries of the replacement\n    while (fromI < toI && insert.length) {\n        if (children[toI - 1].become(insert[insert.length - 1])) {\n            toI--;\n            insert.pop();\n            openEnd = insert.length ? 0 : openStart;\n        }\n        else if (children[fromI].become(insert[0])) {\n            fromI++;\n            insert.shift();\n            openStart = insert.length ? 0 : openEnd;\n        }\n        else {\n            break;\n        }\n    }\n    if (!insert.length && fromI && toI < children.length && !children[fromI - 1].breakAfter &&\n        children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))\n        fromI--;\n    if (fromI < toI || insert.length)\n        parent.replaceChildren(fromI, toI, insert);\n}\nfunction mergeChildrenInto(parent, from, to, insert, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of insert)\n        dLen += view.length;\n    parent.length += dLen;\n    replaceRange(parent, fromI, fromOff, toI, toOff, insert, 0, openStart, openEnd);\n}\n\nlet nav = typeof navigator != \"undefined\" ? navigator : { userAgent: \"\", vendor: \"\", platform: \"\" };\nlet doc = typeof document != \"undefined\" ? document : { documentElement: { style: {} } };\nconst ie_edge = /Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /Apple Computer/.test(nav.vendor);\nconst ios = safari && (/Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /Mac/.test(nav.platform),\n    windows: /Win/.test(nav.platform),\n    linux: /Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst MaxJoinLen = 256;\nclass TextView extends ContentView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType == 3)\n            this.createDOM(dom);\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        this.markDirty();\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends ContentView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    setAttrs(dom) {\n        clearAttributes(dom);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        return dom;\n    }\n    reuseDOM(node) {\n        if (node.nodeName == this.mark.tagName.toUpperCase()) {\n            this.setDOM(node);\n            this.dirty |= 4 /* Dirty.Attrs */ | 2 /* Dirty.Node */;\n        }\n    }\n    sync(track) {\n        if (!this.dom)\n            this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));\n        else if (this.dirty & 4 /* Dirty.Attrs */)\n            this.setAttrs(this.dom);\n        super.sync(track);\n    }\n    merge(from, to, source, _hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.split(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1) {\n            this.children.length = detachFrom;\n            this.markDirty();\n        }\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else if (to < length) {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else if (to < length)\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect || null;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends ContentView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n        this.prevWidget = null;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    split(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                if (this.dom && !this.prevWidget)\n                    this.prevWidget = this.widget;\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return state.Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : state.Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return this.length ? rect : flattenRect(rect, this.side > 0);\n    }\n    get isEditable() { return false; }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return new DOMPos(text, Math.min(pos, text.nodeValue.length));\n        return scanCompositionTree(pos, 0, topView, text, (v, p) => v.domAtPos(p), p => new DOMPos(text, Math.min(p, text.nodeValue.length)));\n    }\n    sync() { this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return Math.min(offset, this.length);\n        return posFromDOMInCompositionTree(node, offset, topView, text);\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) {\n        let { topView, text } = this.widget;\n        if (!topView)\n            return textCoords(text, pos, side);\n        return scanCompositionTree(pos, side, topView, text, (v, pos, side) => v.coordsAt(pos, side), (pos, side) => textCoords(text, pos, side));\n    }\n    destroy() {\n        var _a;\n        super.destroy();\n        (_a = this.widget.topView) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n    get isEditable() { return true; }\n    canReuseDOM() { return true; }\n}\n// Uses the old structure of a chunk of content view frozen for\n// composition to try and find a reasonable DOM location for the given\n// offset.\nfunction scanCompositionTree(pos, side, view, text, enterView, fromText) {\n    if (view instanceof MarkView) {\n        for (let child = view.dom.firstChild; child; child = child.nextSibling) {\n            let desc = ContentView.get(child);\n            if (!desc)\n                return fromText(pos, side);\n            let hasComp = contains(child, text);\n            let len = desc.length + (hasComp ? text.nodeValue.length : 0);\n            if (pos < len || pos == len && desc.getSide() <= 0)\n                return hasComp ? scanCompositionTree(pos, side, desc, text, enterView, fromText) : enterView(desc, pos, side);\n            pos -= len;\n        }\n        return enterView(view, view.length, -1);\n    }\n    else if (view.dom == text) {\n        return fromText(pos, side);\n    }\n    else {\n        return enterView(view, pos, side);\n    }\n}\nfunction posFromDOMInCompositionTree(node, offset, view, text) {\n    if (view instanceof MarkView) {\n        for (let child of view.children) {\n            let pos = 0, hasComp = contains(child.dom, text);\n            if (contains(child.dom, node))\n                return pos + (hasComp ? posFromDOMInCompositionTree(node, offset, child, text) : child.localPosFromDOM(node, offset));\n            pos += hasComp ? text.nodeValue.length : child.length;\n        }\n    }\n    else if (view.dom == text) {\n        return Math.min(offset, text.nodeValue.length);\n    }\n    return view.localPosFromDOM(node, offset);\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends ContentView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    split() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom) {\n            let dom = document.createElement(\"img\");\n            dom.className = \"cm-widgetBuffer\";\n            dom.setAttribute(\"aria-hidden\", \"true\");\n            this.setDOM(dom);\n        }\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return DOMPos.before(this.dom); }\n    localPosFromDOM() { return 0; }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        let imgRect = this.dom.getBoundingClientRect();\n        // Since the <img> height doesn't correspond to text height, try\n        // to borrow the height from some sibling node.\n        let siblingRect = inlineSiblingRect(this, this.side > 0 ? -1 : 1);\n        return siblingRect && siblingRect.top < imgRect.bottom && siblingRect.bottom > imgRect.top\n            ? { left: imgRect.left, right: imgRect.right, top: siblingRect.top, bottom: siblingRect.bottom } : imgRect;\n    }\n    get overrideDOMText() {\n        return state.Text.empty;\n    }\n}\nTextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;\nfunction inlineSiblingRect(view, side) {\n    let parent = view.parent, index = parent ? parent.children.indexOf(view) : -1;\n    while (parent && index >= 0) {\n        if (side < 0 ? index > 0 : index < parent.children.length) {\n            let next = parent.children[index + side];\n            if (next instanceof TextView) {\n                let nextRect = next.coordsAt(side < 0 ? next.length : 0, side);\n                if (nextRect)\n                    return nextRect;\n            }\n            index += side;\n        }\n        else if (parent instanceof MarkView && parent.parent) {\n            index = parent.parent.children.indexOf(parent) + (side < 0 ? 0 : 1);\n            parent = parent.parent;\n        }\n        else {\n            let last = parent.dom.lastChild;\n            if (last && last.nodeName == \"BR\")\n                return last.getClientRects()[0];\n            break;\n        }\n    }\n    return undefined;\n}\nfunction inlineDOMAtPos(parent, pos) {\n    let dom = parent.dom, { children } = parent, i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (let j = i; j > 0; j--) {\n        let prev = children[j - 1];\n        if (prev.dom.parentNode == dom)\n            return prev.domAtPos(prev.length);\n    }\n    for (let j = i; j < children.length; j++) {\n        let next = children[j];\n        if (next.dom.parentNode == dom)\n            return next.domAtPos(0);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    let before = null, beforePos = -1, after = null, afterPos = -1;\n    function scan(view, pos) {\n        for (let i = 0, off = 0; i < view.children.length && off <= pos; i++) {\n            let child = view.children[i], end = off + child.length;\n            if (end >= pos) {\n                if (child.children.length) {\n                    scan(child, pos - off);\n                }\n                else if (!after && (end > pos || off == end && child.getSide() > 0)) {\n                    after = child;\n                    afterPos = pos - off;\n                }\n                else if (off < pos || (off == end && child.getSide() < 0)) {\n                    before = child;\n                    beforePos = pos - off;\n                }\n            }\n            off = end;\n        }\n    }\n    scan(view, pos);\n    let target = (side < 0 ? before : after) || before || after;\n    if (target)\n        return target.coordsAt(Math.max(0, target == before ? beforePos : afterPos), side);\n    return fallbackRect(view);\n}\nfunction fallbackRect(view) {\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1] || null;\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    let changed = null;\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(changed = name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(changed = name, attrs[name]);\n    return !!changed;\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even if the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n    /**\n    This is called when the an instance of the widget is removed\n    from the editor view.\n    */\n    destroy(dom) { }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nexports.BlockType = void 0;\n(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\n})(exports.BlockType || (exports.BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#state.Range), which adds a start and end position.\n@nonabstract\n*/\nclass Decoration extends state.RangeValue {\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with\n    the higher-precedence decorations creating the inner DOM nodes.\n    Such elements are split on line boundaries and on the boundaries\n    of lower-precedence decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which displays a DOM element at the\n    given position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0, block = !!spec.block;\n        side += block ? (side > 0 ? 300000000 /* Side.BlockAfter */ : -400000000 /* Side.BlockBefore */) : (side > 0 ? 100000000 /* Side.InlineAfter */ : -100000000 /* Side.InlineBefore */);\n        return new PointDecoration(spec, side, side, block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block, startSide, endSide;\n        if (spec.isBlockGap) {\n            startSide = -500000000 /* Side.GapStart */;\n            endSide = 400000000 /* Side.GapEnd */;\n        }\n        else {\n            let { start, end } = getInclusive(spec, block);\n            startSide = (start ? (block ? -300000000 /* Side.BlockIncStart */ : -1 /* Side.InlineIncStart */) : 500000000 /* Side.NonIncStart */) - 1;\n            endSide = (end ? (block ? 200000000 /* Side.BlockIncEnd */ : 1 /* Side.InlineIncEnd */) : -600000000 /* Side.NonIncEnd */) + 1;\n        }\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return state.RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = state.RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(start ? -1 /* Side.InlineIncStart */ : 500000000 /* Side.NonIncStart */, end ? 1 /* Side.InlineIncEnd */ : -600000000 /* Side.NonIncEnd */, null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-200000000 /* Side.Line */, -200000000 /* Side.Line */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = state.MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? state.MapMode.TrackDel : startSide <= 0 ? state.MapMode.TrackBefore : state.MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? exports.BlockType.WidgetRange\n            : this.startSide <= 0 ? exports.BlockType.WidgetBefore : exports.BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide <= 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec, block = false) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin >= from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (hasStart)\n            this.setDeco(source ? source.attrs : null);\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].split(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, false, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0)\n            this.children[--i].destroy();\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        this.markDirty();\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs({ class: cls }, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    reuseDOM(node) {\n        if (node.nodeName == \"DIV\") {\n            this.setDOM(node);\n            this.dirty |= 4 /* Dirty.Attrs */ | 2 /* Dirty.Node */;\n        }\n    }\n    sync(track) {\n        var _a;\n        if (!this.dom) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        else if (this.dirty & 4 /* Dirty.Attrs */) {\n            clearAttributes(this.dom);\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last || !this.length ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView) || /[^ -~]/.test(child.text))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return !totalWidth ? null : {\n            lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length\n        };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    become(_other) { return false; }\n    get type() { return exports.BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0; i < docView.children.length; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (end > pos)\n                    break;\n            }\n            off = end + block.breakAfter;\n        }\n        return null;\n    }\n}\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n        this.prevWidget = null;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        let end = new BlockWidgetView(this.widget, len, this.type);\n        end.breakAfter = this.breakAfter;\n        return end;\n    }\n    get children() { return noChildren; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : state.Text.empty;\n    }\n    domBoundsAround() { return null; }\n    become(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            if (this.dom && !this.prevWidget)\n                this.prevWidget = this.widget;\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end, disallowBlockEffectsFor) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.disallowBlockEffectsFor = disallowBlockEffectsFor;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* Buf.No */;\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == exports.BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* Buf.No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer([]);\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (!openEnd)\n            this.flushBuffer([]);\n        else\n            this.pendingBuffer = 0 /* Buf.No */;\n        if (!this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer([]);\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* T.Chunk */);\n            this.flushBuffer(active.slice(0, openStart));\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart, index) {\n        if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {\n            if (deco.block)\n                throw new RangeError(\"Block decorations may not be specified via plugins\");\n            if (to > this.doc.lineAt(this.pos).to)\n                throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\");\n        }\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == exports.BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, len ? 0 : deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* Buf.IfCursor */ && !cursorBefore)\n                    this.pendingBuffer = 0 /* Buf.No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* Buf.No */ : from < to ? 1 /* Buf.Yes */ : 2 /* Buf.IfCursor */;\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations, dynamicDecorationMap) {\n        let builder = new ContentBuilder(text, from, to, dynamicDecorationMap);\n        builder.openEnd = state.RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst clickAddsSelectionRange = state.Facet.define();\nconst dragMovesSelection$1 = state.Facet.define();\nconst mouseSelectionStyle = state.Facet.define();\nconst exceptionSink = state.Facet.define();\nconst updateListener = state.Facet.define();\nconst inputHandler = state.Facet.define();\nconst perLineTextDirection = state.Facet.define({\n    combine: values => values.some(x => x)\n});\nconst nativeSelectionHidden = state.Facet.define({\n    combine: values => values.some(x => x)\n});\nclass ScrollTarget {\n    constructor(range, y = \"nearest\", x = \"nearest\", yMargin = 5, xMargin = 5) {\n        this.range = range;\n        this.y = y;\n        this.x = x;\n        this.yMargin = yMargin;\n        this.xMargin = xMargin;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin);\n    }\n}\nconst scrollIntoView = state.StateEffect.define({ map: (t, ch) => t.map(ch) });\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = state.Facet.define({ combine: values => values.length ? values[0] : true });\nlet nextPluginID = 0;\nconst viewPlugin = state.Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    domEventHandlers, buildExtensions) {\n        this.id = id;\n        this.create = create;\n        this.domEventHandlers = domEventHandlers;\n        this.extension = buildExtensions(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        const { eventHandlers, provide, decorations: deco } = spec || {};\n        return new ViewPlugin(nextPluginID++, create, eventHandlers, plugin => {\n            let ext = [viewPlugin.of(plugin)];\n            if (deco)\n                ext.push(decorations.of(view => {\n                    let pluginInst = view.plugin(plugin);\n                    return pluginInst ? deco(pluginInst) : Decoration.none;\n                }));\n            if (provide)\n                ext.push(provide(plugin));\n            return ext;\n        });\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    update(view) {\n        if (!this.value) {\n            if (this.spec) {\n                try {\n                    this.value = this.spec.create(view);\n                }\n                catch (e) {\n                    logException(view.state, e, \"CodeMirror plugin crashed\");\n                    this.deactivate();\n                }\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (this.value.update) {\n                try {\n                    this.value.update(update);\n                }\n                catch (e) {\n                    logException(update.state, e, \"CodeMirror plugin crashed\");\n                    if (this.value.destroy)\n                        try {\n                            this.value.destroy();\n                        }\n                        catch (_) { }\n                    this.deactivate();\n                }\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n    deactivate() {\n        this.spec = this.value = null;\n    }\n}\nconst editorAttributes = state.Facet.define();\nconst contentAttributes = state.Facet.define();\n// Provide decorations\nconst decorations = state.Facet.define();\nconst atomicRanges = state.Facet.define();\nconst scrollMargins = state.Facet.define();\nconst styleModule = state.Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state$1, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions) {\n        this.view = view;\n        this.state = state$1;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = state.ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* UpdateFlag.Focus */;\n        }\n    }\n    /**\n    @internal\n    */\n    static create(view, state, transactions) {\n        return new ViewUpdate(view, state, transactions);\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* UpdateFlag.Viewport */) > 0;\n    }\n    /**\n    Indicates whether the height of a block element in the editor\n    changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* UpdateFlag.Height */) > 0;\n    }\n    /**\n    Returns true when the document was modified or the size of the\n    editor, or elements within the editor, changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* UpdateFlag.Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return !this.changes.empty;\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nexports.Direction = void 0;\n(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\n})(exports.Direction || (exports.Direction = {}));\nconst LTR = exports.Direction.LTR, RTL = exports.Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = p.charCodeAt(0), r = p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* T.R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* T.AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* T.NI */ :\n                        0xfb50 <= ch && ch <= 0xfdff ? 4 /* T.AL */ :\n                            ch == 0x200c ? 256 /* T.NI */ : 1 /* T.L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* T.L */ : 2 /* T.R */, oppositeType = direction == LTR ? 2 /* T.R */ : 1 /* T.L */;\n    if (!line || outerType == 1 /* T.L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* T.NSM */)\n            type = prev;\n        else if (type == 8 /* T.EN */ && prevStrong == 4 /* T.AL */)\n            type = 16 /* T.AN */;\n        types[i] = type == 4 /* T.AL */ ? 2 /* T.R */ : type;\n        if (type & 7 /* T.Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* T.CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* T.Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* T.NI */;\n        }\n        else if (type == 64 /* T.ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* T.ET */)\n                end++;\n            let replace = (i && prev == 8 /* T.EN */) || (end < len && types[end] == 8 /* T.EN */) ? (prevStrong == 1 /* T.L */ ? 1 /* T.L */ : 8 /* T.EN */) : 256 /* T.NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* T.EN */ && prevStrong == 1 /* T.L */) {\n            types[i] = 1 /* T.L */;\n        }\n        prev = type;\n        if (type & 7 /* T.Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* Bracketed.EmbedInside */) ? outerType :\n                            !(flags & 4 /* Bracketed.OppositeInside */) ? 0 :\n                                (flags & 1 /* Bracketed.OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* Bracketed.MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* T.R */ || type == 1 /* T.L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* Bracketed.OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* Bracketed.EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* Bracketed.EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* Bracketed.OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* Bracketed.OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* T.NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* T.NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* T.L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* T.L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* T.L */ : 2 /* T.R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* T.L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* T.L */;\n            while (i < len && rtl == (types[i] != 1 /* T.L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* T.R */;\n                    while (j > start && l == (types[j - 1] != 2 /* T.R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* T.R */;\n            while (i < len && rtl == (types[i] == 2 /* T.R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = state.findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return state.EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return state.EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return state.EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return state.EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nconst LineBreakPlaceholder = \"\\uffff\";\nclass DOMReader {\n    constructor(points, state$1) {\n        this.points = points;\n        this.text = \"\";\n        this.lineSeparator = state$1.facet(state.EditorState.lineSeparator);\n    }\n    append(text) {\n        this.text += text;\n    }\n    lineBreak() {\n        this.text += LineBreakPlaceholder;\n    }\n    readRange(start, end) {\n        if (!start)\n            return this;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore)))\n                this.lineBreak();\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n        return this;\n    }\n    readTextNode(node) {\n        let text = node.nodeValue;\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, text.length);\n        for (let off = 0, re = this.lineSeparator ? null : /\\r\\n?|\\n/g;;) {\n            let nextBreak = -1, breakSize = 1, m;\n            if (this.lineSeparator) {\n                nextBreak = text.indexOf(this.lineSeparator, off);\n                breakSize = this.lineSeparator.length;\n            }\n            else if (m = re.exec(text)) {\n                nextBreak = m.index;\n                breakSize = m[0].length;\n            }\n            this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));\n            if (nextBreak < 0)\n                break;\n            this.lineBreak();\n            if (breakSize > 1)\n                for (let point of this.points)\n                    if (point.node == node && point.pos > this.text.length)\n                        point.pos -= breakSize - 1;\n            off = nextBreak + breakSize;\n        }\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        if (fromView != null) {\n            this.findPointInside(node, fromView.length);\n            for (let i = fromView.iter(); !i.next().done;) {\n                if (i.lineBreak)\n                    this.lineBreak();\n                else\n                    this.append(i.value);\n            }\n        }\n        else if (node.nodeType == 3) {\n            this.readTextNode(node);\n        }\n        else if (node.nodeName == \"BR\") {\n            if (node.nextSibling)\n                this.lineBreak();\n        }\n        else if (node.nodeType == 1) {\n            this.readRange(node.firstChild, null);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointInside(node, maxLen) {\n        for (let point of this.points)\n            if (node.nodeType == 3 ? point.node == node : node.contains(point.node))\n                point.pos = this.text.length + Math.min(maxLen, point.offset);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        this.dynamicDecorationMap = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // measureVisibleLineHeights, this is updated to point at the width\n        // of a given element and its extent in the document. When a change\n        // happens in that range, these are reset. That way, once we've seen\n        // a line/element of a given length, we keep the editor wide enough\n        // to fit at least that element, until it is changed, at which point\n        // we forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.forceSelection = false;\n        // Used by the resize observer to ignore resizes that we caused\n        // ourselves\n        this.lastUpdate = Date.now();\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateDeco();\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0);\n    }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = this.minWidthFrom = this.minWidthTo = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length || this.dirty)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        if ((browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines)\n            this.forceSelection = true;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        if (this.dirty == 0 /* Dirty.Not */ && changedRanges.length == 0) {\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, update.startState.doc.length);\n            if (update.transactions.length)\n                this.lastUpdate = Date.now();\n            return true;\n        }\n    }\n    // Used by update and the constructor do perform the actual DOM\n    // update\n    updateInner(changes, oldLength) {\n        this.view.viewState.mustMeasureContent = true;\n        this.updateChildren(changes, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.contentHeight + \"px\";\n            this.dom.style.flexBasis = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Dirty.Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                this.forceSelection = true;\n            this.dom.style.height = \"\";\n        });\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            replaceRange(this, fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(mustRead = false, fromPointer = false) {\n        if (mustRead || !this.view.observer.selectionRange.focusNode)\n            this.view.observer.readSelectionRange();\n        if (!(fromPointer || this.mayControlSelection()))\n            return;\n        let force = this.forceSelection;\n        this.forceSelection = false;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) &&\n                    inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.view.root);\n                if (!rawSel) ;\n                else if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* NextTo.Before */ | 2 /* NextTo.After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* NextTo.Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* NextTo.Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    // Safari will ignore the call above when the editor is\n                    // hidden, and then raise an error on the call to extend\n                    // (#940).\n                    try {\n                        rawSel.extend(head.node, head.offset);\n                    }\n                    catch (_) { }\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.compositionDeco.size)\n            return;\n        let { view } = this, cursor = view.state.selection.main;\n        let sel = getSelection(view.root);\n        let { anchorNode, anchorOffset } = view.observer.selectionRange;\n        if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n        // This can go wrong in corner cases like single-character lines,\n        // so check and reset if necessary.\n        view.observer.readSelectionRange();\n        let newRange = view.observer.selectionRange;\n        if (view.docView.posFromDOM(newRange.anchorNode, newRange.anchorOffset) != cursor.from)\n            sel.collapse(anchorNode, anchorOffset);\n    }\n    mayControlSelection() {\n        let active = this.view.root.activeElement;\n        return active == this.dom ||\n            hasSelection(this.dom, this.view.observer.selectionRange) && !(active && this.dom.contains(active));\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != exports.BlockType.WidgetBefore && child.type != exports.BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == exports.BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights(viewport) {\n        let result = [], { from, to } = viewport;\n        let contentWidth = this.view.contentDOM.clientWidth;\n        let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        let widest = -1, ltr = this.view.textDirection == exports.Direction.LTR;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                let childRect = child.dom.getBoundingClientRect();\n                result.push(childRect.height);\n                if (isWider) {\n                    let last = child.dom.lastChild;\n                    let rects = last ? clientRectsFor(last) : [];\n                    if (rects.length) {\n                        let rect = rects[rects.length - 1];\n                        let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;\n                        if (width > widest) {\n                            widest = width;\n                            this.minWidth = contentWidth;\n                            this.minWidthFrom = pos;\n                            this.minWidthTo = end;\n                        }\n                    }\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    textDirectionAt(pos) {\n        let { i } = this.childPos(pos, 1);\n        return getComputedStyle(this.children[i].dom).direction == \"rtl\" ? exports.Direction.RTL : exports.Direction.LTR;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.style.width = \"99999px\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top;\n                deco.push(Decoration.replace({\n                    widget: new BlockGapWidget(height),\n                    block: true,\n                    inclusive: true,\n                    isBlockGap: true,\n                }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        let allDeco = this.view.state.facet(decorations).map((d, i) => {\n            let dynamic = this.dynamicDecorationMap[i] = typeof d == \"function\";\n            return dynamic ? d(this.view) : d;\n        });\n        for (let i = allDeco.length; i < allDeco.length + 3; i++)\n            this.dynamicDecorationMap[i] = false;\n        return this.decorations = [\n            ...allDeco,\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView(target) {\n        let { range } = target;\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.state.facet(scrollMargins).map(f => f(this.view)))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        let targetRect = {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        };\n        scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, target.xMargin, target.yMargin, this.view.textDirection == exports.Direction.LTR);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction compositionSurroundingNode(view) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return null;\n    let cView = view.docView.nearest(textNode);\n    if (!cView)\n        return null;\n    if (cView instanceof LineView) {\n        let topNode = textNode;\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        let pos = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n        return { from: pos, to: pos, node: topNode, text: textNode };\n    }\n    else {\n        for (;;) {\n            let { parent } = cView;\n            if (!parent)\n                return null;\n            if (parent instanceof LineView)\n                break;\n            cView = parent;\n        }\n        let from = cView.posAtStart;\n        return { from, to: from + cView.length, node: cView.dom, text: textNode };\n    }\n}\nfunction computeCompositionDeco(view, changes) {\n    let surrounding = compositionSurroundingNode(view);\n    if (!surrounding)\n        return Decoration.none;\n    let { from, to, node, text: textNode } = surrounding;\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let { state } = view, text = node.nodeType == 3 ? node.nodeValue :\n        new DOMReader([], state).readRange(node.firstChild, null).text;\n    if (newTo - newFrom < text.length) {\n        if (state.doc.sliceString(newFrom, Math.min(state.doc.length, newFrom + text.length), LineBreakPlaceholder) == text)\n            newTo = newFrom + text.length;\n        else if (state.doc.sliceString(Math.max(0, newTo - text.length), newTo, LineBreakPlaceholder) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.doc.sliceString(newFrom, newTo, LineBreakPlaceholder) != text) {\n        return Decoration.none;\n    }\n    let topView = ContentView.get(node);\n    if (topView instanceof CompositionView)\n        topView = topView.widget.topView;\n    else if (topView)\n        topView.parent = null;\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(node, textNode, topView), inclusive: true })\n        .range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text, topView) {\n        super();\n        this.top = top;\n        this.text = text;\n        this.topView = topView;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* NextTo.Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* NextTo.After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    state.RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction groupAt(state$1, pos, bias = 1) {\n    let categorize = state$1.charCategorizer(pos);\n    let line = state$1.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return state.EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = state.findClusterBreak(line.text, linePos, false);\n    else\n        to = state.findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = state.findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = state.findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return state.EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY, closestOverlap = false;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n                closestOverlap = !dx || (dx > 0 ? i < rects.length - 1 : i > 0);\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (closestOverlap && closest.contentEditable != \"false\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    var _a;\n    let content = view.contentDOM.getBoundingClientRect(), docTop = content.top + view.viewState.paddingTop;\n    let block, { docHeight } = view.viewState;\n    let yOffset = y - docTop;\n    if (yOffset < 0)\n        return 0;\n    if (yOffset > docHeight)\n        return view.state.doc.length;\n    // Scan for a text block near the queried y position\n    for (let halfLine = view.defaultLineHeight / 2, bounced = false;;) {\n        block = view.elementAtHeight(yOffset);\n        if (block.type == exports.BlockType.Text)\n            break;\n        for (;;) {\n            // Move the y position out of this block\n            yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n            if (yOffset >= 0 && yOffset <= docHeight)\n                break;\n            // If the document consists entirely of replaced widgets, we\n            // won't find a text block, so return 0\n            if (bounced)\n                return precise ? null : 0;\n            bounced = true;\n            bias = -bias;\n        }\n    }\n    y = docTop + yOffset;\n    let lineStart = block.from;\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length :\n            precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let root = view.root.elementFromPoint ? view.root : doc;\n    let element = root.elementFromPoint(x, y);\n    if (element && !view.contentDOM.contains(element))\n        element = null;\n    // If the element is unexpected, clip x at the sides of the content area and try again\n    if (!element) {\n        x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n        element = root.elementFromPoint(x, y);\n        if (element && !view.contentDOM.contains(element))\n            element = null;\n    }\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (!view.contentDOM.contains(node) ||\n                    browser.safari && isSuspiciousSafariCaretResult(node, offset, x) ||\n                    browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        if (!line)\n            return yOffset > block.top + block.height / 2 ? block.to : block.from;\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + state.findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousSafariCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\n// Chrome will move positions between lines to the start of the next line\nfunction isSuspiciousChromeCaretResult(node, offset, x) {\n    if (offset != 0)\n        return false;\n    for (let cur = node;;) {\n        let parent = cur.parentNode;\n        if (!parent || parent.nodeType != 1 || parent.firstChild != cur)\n            return false;\n        if (parent.classList.contains(\"cm-line\"))\n            break;\n        cur = parent;\n    }\n    let rect = node.nodeType == 1 ? node.getBoundingClientRect()\n        : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();\n    return x - rect.left > 5;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let direction = view.textDirectionAt(line.from);\n        let pos = view.posAtCoords({ x: forward == (direction == exports.Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return state.EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return state.EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    let direction = view.textDirectionAt(line.from);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, direction, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = state.EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == state.CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return state.EditorSelection.cursor(startPos, start.assoc);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos), docTop = view.documentTop;\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineBlockAt(startPos);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = (dir < 0 ? line.top : line.bottom) + docTop;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return state.EditorSelection.cursor(pos, start.assoc, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.state.facet(atomicRanges).map(f => f(view));\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.head > pos.from ? state.EditorSelection.cursor(from, 1) : state.EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.lastTouchTime = 0;\n        this.lastFocusTime = 0;\n        this.lastScrollTop = 0;\n        this.lastScrollLeft = 0;\n        this.chromeScrollHack = -1;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        this.pendingIOSKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            }, handlerOptions[type]);\n            this.registeredEvents.push(type);\n        }\n        if (browser.chrome && browser.chrome_version == 102) { // FIXME remove at some point\n            // On Chrome 102, viewport updates somehow stop wheel-based\n            // scrolling. Turning off pointer events during the scroll seems\n            // to avoid the issue.\n            view.scrollDOM.addEventListener(\"wheel\", () => {\n                if (this.chromeScrollHack < 0)\n                    view.contentDOM.style.pointerEvents = \"none\";\n                else\n                    window.clearTimeout(this.chromeScrollHack);\n                this.chromeScrollHack = setTimeout(() => {\n                    this.chromeScrollHack = -1;\n                    view.contentDOM.style.pointerEvents = \"\";\n                }, 100);\n            }, { passive: true });\n        }\n        this.notifiedFocused = view.hasFocus;\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view, plugins) {\n        var _a;\n        let handlers;\n        this.customHandlers = [];\n        for (let plugin of plugins)\n            if (handlers = (_a = plugin.update(view).spec) === null || _a === void 0 ? void 0 : _a.domEventHandlers) {\n                this.customHandlers.push({ plugin: plugin.value, handlers });\n                for (let type in handlers)\n                    if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                        this.registeredEvents.push(type);\n                        view.contentDOM.addEventListener(type, (event) => {\n                            if (!eventBelongsToEditor(view, event))\n                                return;\n                            if (this.runCustomHandlers(type, view, event))\n                                event.preventDefault();\n                        });\n                    }\n            }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type];\n            if (handler) {\n                try {\n                    if (handler.call(set.plugin, event, view) || event.defaultPrevented)\n                        return true;\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        this.lastScrollTop = view.scrollDOM.scrollTop;\n        this.lastScrollLeft = view.scrollDOM.scrollLeft;\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (event.keyCode == 9 && Date.now() < this.lastEscPress + 2000)\n            return true;\n        // Chrome for Android usually doesn't fire proper key events, but\n        // occasionally does, usually surrounded by a bunch of complicated\n        // composition changes. When an enter or backspace key event is\n        // seen, hold off on handling DOM events for a bit, and then\n        // dispatch it.\n        if (browser.android && browser.chrome && !event.synthetic &&\n            (event.keyCode == 13 || event.keyCode == 8)) {\n            view.observer.delayAndroidKey(event.key, event.keyCode);\n            return true;\n        }\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey &&\n            ((pending = PendingKeys.find(key => key.keyCode == event.keyCode)) && !event.ctrlKey ||\n                EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {\n            this.pendingIOSKey = pending || event;\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        let key = this.pendingIOSKey;\n        if (!key)\n            return false;\n        this.pendingIOSKey = undefined;\n        return dispatchKey(view.contentDOM, key.key, key.keyCode);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && !browser.ios && Date.now() - this.compositionEndedAt < 100) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    mustFlushObserver(event) {\n        return event.type == \"keydown\" && event.keyCode != 229;\n    }\n    startMouseSelection(mouseSelection) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = mouseSelection;\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\nconst EmacsyPendingKeys = \"dthko\";\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(view, startEvent, style, mustSelect) {\n        this.view = view;\n        this.style = style;\n        this.mustSelect = mustSelect;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(state.EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.view.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (this.mustSelect || !selection.eq(this.view.state.selection) ||\n            selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\",\n                scrollIntoView: true\n            });\n        this.mustSelect = false;\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (!sel || sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = Object.create(null);\nconst handlerOptions = Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API\u2014all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state: state$1 } = view, changes, i = 1, text = state$1.toText(input);\n    let byLine = text.lines == state$1.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state$1.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state$1.changeByRange(range => {\n            let line = state$1.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state$1.toText((byLine ? text.line(i++).text : input) + state$1.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: state.EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state$1.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: state.EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state$1.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n    if (event.keyCode == 27)\n        view.inputState.lastEscPress = Date.now();\n    else if (modifierCodes.indexOf(event.keyCode) < 0)\n        view.inputState.lastEscPress = 0;\n};\nhandlers.touchstart = (view, e) => {\n    view.inputState.lastTouchTime = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlerOptions.touchstart = handlerOptions.touchmove = { passive: true };\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (view.inputState.lastTouchTime > Date.now() - 2000)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        let mustFocus = view.root.activeElement != view.contentDOM;\n        if (mustFocus)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return state.EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return state.EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? state.EditorSelection.range(from, to) : state.EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple && startSel.ranges.length > 1 && startSel.ranges.some(r => r.eq(range)))\n                return removeRange(startSel, range);\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return state.EditorSelection.create([range]);\n        }\n    };\n}\nfunction removeRange(sel, range) {\n    for (let i = 0;; i++) {\n        if (sel.ranges[i].eq(range))\n            return state.EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));\n    }\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    if (!text)\n        return;\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\"));\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nfunction updateForFocusChange(view) {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n}\nhandlers.focus = view => {\n    view.inputState.lastFocusTime = Date.now();\n    // When focusing reset the scroll position, move it back to where it was\n    if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {\n        view.scrollDOM.scrollTop = view.inputState.lastScrollTop;\n        view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;\n    }\n    updateForFocusChange(view);\n};\nhandlers.blur = view => {\n    view.observer.clearSelectionRange();\n    updateForFocusChange(view);\n};\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    if (browser.chrome && browser.android)\n        view.observer.flushSoon();\n    setTimeout(() => {\n        // Force the composition state to be cleared if it hasn't already been\n        if (view.inputState.composing < 0 && view.docView.compositionDeco.size)\n            view.update([]);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.observer.delayAndroidKey(pending.key, pending.keyCode);\n        if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n            let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n            setTimeout(() => {\n                var _a;\n                // Backspacing near uneditable nodes on Chrome Android sometimes\n                // closes the virtual keyboard. This tries to crudely detect\n                // that and refocus to get it back.\n                if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                    view.contentDOM.blur();\n                    view.focus();\n                }\n            }, 100);\n        }\n    }\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\", \"break-spaces\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = state.Text.empty;\n        this.lineWrapping = false;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefreshForWrapping(whiteSpace) {\n        return (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping;\n    }\n    mustRefreshForHeights(lineHeights) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight;\n    }\n    refresh(whiteSpace, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n        this.lineWrapping = lineWrapping;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element (relative to the top of the\n    document).\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType;\n(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\n})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-3;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Flag.Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Flag.Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Flag.Outdated */ : 0) | (this.flags & ~2 /* Flag.Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        if (from <= offset + this.length && to >= offset)\n            f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, exports.BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* Flag.SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, exports.BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, exports.BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, exports.BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, exports.BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;\n            let wasChanged = oracle.heightChanged;\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let height = measured.heights[measured.index++];\n                if (singleHeight == -1)\n                    singleHeight = height;\n                else if (Math.abs(height - singleHeight) >= Epsilon)\n                    singleHeight = -2;\n                let line = new HeightMapText(len, height);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            let result = HeightMap.of(nodes);\n            oracle.heightChanged = wasChanged || singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon ||\n                Math.abs(singleHeight - this.lines(oracle.doc, offset).lineHeight) >= Epsilon;\n            return result;\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Flag.Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Flag.Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? deco.widget.estimatedHeight : 0;\n            if (height < 0)\n                height = this.oracle.lineHeight;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* Flag.SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == exports.BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != exports.BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        state.RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    state.RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let doc = dom.ownerDocument, win = doc.defaultView || window;\n    let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent && parent != doc.body;) {\n        if (parent.nodeType == 1) {\n            let elt = parent;\n            let style = window.getComputedStyle(elt);\n            if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = elt.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = parent == dom.parentNode ? parentRect.bottom : Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: Math.max(left, right) - rect.left,\n        top: top - (rect.top + paddingTop), bottom: Math.max(top, bottom) - (rect.top + paddingTop) };\n}\nfunction fullPixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    return { left: 0, right: rect.right - rect.left,\n        top: paddingTop, bottom: rect.bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state$1) {\n        this.state = state$1;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentDOMWidth = 0;\n        this.contentDOMHeight = 0;\n        this.editorHeight = 0;\n        this.editorWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        // Flag set when editor content was redrawn, so that the next\n        // measure stage knows it must read DOM layout\n        this.mustMeasureContent = true;\n        this.defaultTextDirection = exports.Direction.LTR;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.stateDeco = state$1.facet(decorations).filter(d => typeof d != \"function\");\n        this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, state.Text.empty, this.heightOracle.setDoc(state$1.doc), [new ChangedRange(0, 0, 0, state$1.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateViewportLines();\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineBlockAt(pos);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* VP.MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    updateViewportLines() {\n        this.viewportLines = [];\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, block => {\n            this.viewportLines.push(this.scaler.scale == 1 ? block : scaleBlock(block, this.scaler));\n        });\n    }\n    update(update, scrollTarget = null) {\n        this.state = update.state;\n        let prevDeco = this.stateDeco;\n        this.stateDeco = this.state.facet(decorations).filter(d => typeof d != \"function\");\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : state.ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* UpdateFlag.Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        let updateLines = !update.changes.empty || (update.flags & 2 /* UpdateFlag.Height */) ||\n            viewport.from != this.viewport.from || viewport.to != this.viewport.to;\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (updateLines)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc &&\n            !update.state.facet(nativeSelectionHidden))\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(view) {\n        let dom = view.contentDOM, style = window.getComputedStyle(dom);\n        let oracle = this.heightOracle;\n        let whiteSpace = style.whiteSpace;\n        this.defaultTextDirection = style.direction == \"rtl\" ? exports.Direction.RTL : exports.Direction.LTR;\n        let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);\n        let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != dom.clientHeight;\n        this.contentDOMHeight = dom.clientHeight;\n        this.mustMeasureContent = false;\n        let result = 0, bias = 0;\n        // Vertical padding\n        let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;\n        if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n            this.paddingTop = paddingTop;\n            this.paddingBottom = paddingBottom;\n            result |= 8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */;\n        }\n        if (this.editorWidth != view.scrollDOM.clientWidth) {\n            if (oracle.lineWrapping)\n                measureContent = true;\n            this.editorWidth = view.scrollDOM.clientWidth;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        // Pixel viewport\n        let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (inView != this.inView) {\n            this.inView = inView;\n            if (inView)\n                measureContent = true;\n        }\n        if (!this.inView && !this.scrollTarget)\n            return 0;\n        let contentWidth = dom.clientWidth;\n        if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {\n            this.contentDOMWidth = contentWidth;\n            this.editorHeight = view.scrollDOM.clientHeight;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        if (measureContent) {\n            let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);\n            if (oracle.mustRefreshForHeights(lineHeights))\n                refresh = true;\n            if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = view.docView.measureTextSize();\n                refresh = lineHeight > 0 && oracle.refresh(whiteSpace, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    view.docView.minWidth = 0;\n                    result |= 8 /* UpdateFlag.Geometry */;\n                }\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n            oracle.heightChanged = false;\n            for (let vp of this.viewports) {\n                let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);\n                this.heightMap = (refresh ? HeightMap.empty().applyChanges(this.stateDeco, state.Text.empty, this.heightOracle, [new ChangedRange(0, 0, 0, view.state.doc.length)]) : this.heightMap).updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));\n            }\n            if (oracle.heightChanged)\n                result |= 2 /* UpdateFlag.Height */;\n        }\n        let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);\n        if (viewportChange)\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if ((result & 2 /* UpdateFlag.Height */) || viewportChange)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps, view));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            view.docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* VP.Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* VP.Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* VP.Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range;\n            if (head < viewport.from || head > viewport.to) {\n                let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);\n                let block = map.lineAt(head, QueryType.ByPos, doc, 0, 0), topPos;\n                if (scrollTarget.y == \"center\")\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (scrollTarget.y == \"start\" || scrollTarget.y == \"nearest\" && head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* VP.Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* VP.Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        if (!this.inView)\n            return true;\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* VP.MinCoverMargin */, Math.min(-bias, 250 /* VP.MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* VP.MinCoverMargin */, Math.min(bias, 250 /* VP.MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* VP.Margin */ && bottom < visibleBottom + 2 * 1000 /* VP.Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current, mayMeasure) {\n        let wrapping = this.heightOracle.lineWrapping;\n        let margin = wrapping ? 10000 /* LG.MarginWrap */ : 2000 /* LG.Margin */, halfMargin = margin >> 1, doubleMargin = margin << 1;\n        // The non-wrapping logic won't work at all in predominantly right-to-left text.\n        if (this.defaultTextDirection != exports.Direction.LTR && !wrapping)\n            return [];\n        let gaps = [];\n        let addGap = (from, to, line, structure) => {\n            if (to - from < halfMargin)\n                return;\n            let sel = this.state.selection.main, avoid = [sel.from];\n            if (!sel.empty)\n                avoid.push(sel.to);\n            for (let pos of avoid) {\n                if (pos > from && pos < to) {\n                    addGap(from, pos - 10 /* LG.SelectionMargin */, line, structure);\n                    addGap(pos + 10 /* LG.SelectionMargin */, to, line, structure);\n                    return;\n                }\n            }\n            let gap = find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                Math.abs(gap.from - from) < halfMargin && Math.abs(gap.to - to) < halfMargin &&\n                !avoid.some(pos => gap.from < pos && gap.to > pos));\n            if (!gap) {\n                // When scrolling down, snap gap ends to line starts to avoid shifts in wrapping\n                if (to < line.to && mayMeasure && wrapping &&\n                    mayMeasure.visibleRanges.some(r => r.from <= to && r.to >= to)) {\n                    let lineStart = mayMeasure.moveToLineBoundary(state.EditorSelection.cursor(to), false, true).head;\n                    if (lineStart > from)\n                        to = lineStart;\n                }\n                gap = new LineGap(from, to, this.gapSize(line, from, to, structure));\n            }\n            gaps.push(gap);\n        };\n        for (let line of this.viewportLines) {\n            if (line.length < doubleMargin)\n                continue;\n            let structure = lineStructure(line.from, line.to, this.stateDeco);\n            if (structure.total < doubleMargin)\n                continue;\n            let target = this.scrollTarget ? this.scrollTarget.range.head : null;\n            let viewFrom, viewTo;\n            if (wrapping) {\n                let marginHeight = (margin / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                let top, bot;\n                if (target != null) {\n                    let targetFrac = findFraction(structure, target);\n                    let spaceFrac = ((this.visibleBottom - this.visibleTop) / 2 + marginHeight) / line.height;\n                    top = targetFrac - spaceFrac;\n                    bot = targetFrac + spaceFrac;\n                }\n                else {\n                    top = (this.visibleTop - line.top - marginHeight) / line.height;\n                    bot = (this.visibleBottom - line.top + marginHeight) / line.height;\n                }\n                viewFrom = findPosition(structure, top);\n                viewTo = findPosition(structure, bot);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                let marginWidth = margin * this.heightOracle.charWidth;\n                let left, right;\n                if (target != null) {\n                    let targetFrac = findFraction(structure, target);\n                    let spaceFrac = ((this.pixelViewport.right - this.pixelViewport.left) / 2 + marginWidth) / totalWidth;\n                    left = targetFrac - spaceFrac;\n                    right = targetFrac + spaceFrac;\n                }\n                else {\n                    left = (this.pixelViewport.left - marginWidth) / totalWidth;\n                    right = (this.pixelViewport.right + marginWidth) / totalWidth;\n                }\n                viewFrom = findPosition(structure, left);\n                viewTo = findPosition(structure, right);\n            }\n            if (viewFrom > line.from)\n                addGap(line.from, viewFrom, line, structure);\n            if (viewTo < line.to)\n                addGap(viewTo, line.to, line, structure);\n        }\n        return gaps;\n    }\n    gapSize(line, from, to, structure) {\n        let fraction = findFraction(structure, to) - findFraction(structure, from);\n        if (this.heightOracle.lineWrapping) {\n            return line.height * fraction;\n        }\n        else {\n            return structure.total * this.heightOracle.charWidth * fraction;\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.stateDeco;\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        state.RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* UpdateFlag.Viewport */ : 0;\n    }\n    lineBlockAt(pos) {\n        return (pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find(b => b.from <= pos && b.to >= pos)) ||\n            scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, 0, 0), this.scaler);\n    }\n    lineBlockAtHeight(height) {\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.state.doc, 0, 0), this.scaler);\n    }\n    elementAtHeight(height) {\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.state.doc, 0, 0), this.scaler);\n    }\n    get docHeight() {\n        return this.scaler.toDOM(this.heightMap.height);\n    }\n    get contentHeight() {\n        return this.docHeight + this.paddingTop + this.paddingBottom;\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, stateDeco) {\n    let ranges = [], pos = from, total = 0;\n    state.RangeSet.spans(stateDeco, from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* VP.MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler)) : block.type);\n}\n\nconst theme = state.Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = state.Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = styleMod.StyleModule.newName(), baseLightID = styleMod.StyleModule.newName(), baseDarkID = styleMod.StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new styleMod.StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme$1 = buildTheme(\".\" + baseThemeID, {\n    \"&.cm-editor\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        flexShrink: 0,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\",\n        \"&[contenteditable=true]\": {\n            WebkitUserModify: \"read-write-plaintext-only\",\n        }\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace_fallback: \"pre-wrap\",\n        whiteSpace: \"break-spaces\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\",\n        flexShrink: 1\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \".cm-cursor, .cm-dropCursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n    },\n    \".cm-cursor\": {\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#cceeff44\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#99eeff33\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-gutters\": {\n        flexShrink: 0,\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#6c6c6c\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    },\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-widgetBuffer\": {\n        verticalAlign: \"text-top\",\n        height: \"1em\",\n        width: 0,\n        display: \"inline\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"1px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nclass DOMChange {\n    constructor(view, start, end, typeOver) {\n        this.typeOver = typeOver;\n        this.bounds = null;\n        this.text = \"\";\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        if (view.state.readOnly && start > -1) ;\n        else if (start > -1 && (this.bounds = view.docView.domBoundsAround(start, end, 0))) {\n            let selPoints = iHead || iAnchor ? [] : selectionPoints(view);\n            let reader = new DOMReader(selPoints, view.state);\n            reader.readRange(this.bounds.startDOM, this.bounds.endDOM);\n            this.text = reader.text;\n            this.newSel = selectionFromPoints(selPoints, this.bounds.from);\n        }\n        else {\n            let domSel = view.observer.selectionRange;\n            let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n                !contains(view.contentDOM, domSel.focusNode)\n                ? view.state.selection.main.head\n                : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n            let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n                !contains(view.contentDOM, domSel.anchorNode)\n                ? view.state.selection.main.anchor\n                : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n            this.newSel = state.EditorSelection.single(anchor, head);\n        }\n    }\n}\nfunction applyDOMChange(view, domChange) {\n    let change;\n    let { newSel } = domChange, sel = view.state.selection.main;\n    if (domChange.bounds) {\n        let { from, to } = domChange.bounds;\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && domChange.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.doc.sliceString(from, to, LineBreakPlaceholder), domChange.text, preferredPos - from, preferredSide);\n        if (diff) {\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. DomChange drops one of those.\n            if (browser.chrome && view.inputState.lastKeyCode == 13 &&\n                diff.toB == diff.from + 2 && domChange.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)\n                diff.toB--;\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: state.Text.of(domChange.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder)) };\n        }\n    }\n    else if (newSel && (!view.hasFocus || !view.state.facet(editable) || newSel.main.eq(sel))) {\n        newSel = null;\n    }\n    if (!change && !newSel)\n        return false;\n    if (!change && domChange.typeOver && !sel.empty && newSel && newSel.main.empty) {\n        // Heuristic to notice typing over a selected character\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    }\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4) {\n        // If the change is inside the selection and covers most of it,\n        // assume it is a selection replace (with identical characters at\n        // the start/end not included in the diff)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    }\n    else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 &&\n        /^\\. ?$/.test(change.insert.toString())) {\n        // Detect insert-period-on-double-space Mac and Android behavior,\n        // and transform it into a regular space insert.\n        if (newSel && change.insert.length == 2)\n            newSel = state.EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n        change = { from: sel.from, to: sel.to, insert: state.Text.of([\" \"]) };\n    }\n    else if (browser.chrome && change && change.from == change.to && change.from == sel.head &&\n        change.insert.toString() == \"\\n \" && view.lineWrapping) {\n        // In Chrome, if you insert a space at the start of a wrapped\n        // line, it will actually insert a newline and a space, causing a\n        // bogus new line to be created in CodeMirror (#968)\n        if (newSel)\n            newSel = state.EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n        change = { from: sel.from, to: sel.to, insert: state.Text.of([\" \"]) };\n    }\n    if (change) {\n        let startState = view.state;\n        if (browser.ios && view.inputState.flushIOSKey(view))\n            return true;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events. (Some of these keys are also handled by beforeinput\n        // events and the pendingAndroidKey mechanism, but that's not\n        // reliable in all situations.)\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))))\n            return true;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return true;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) &&\n            view.inputState.composing < 0) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) + after));\n        }\n        else {\n            let changes = startState.changes(change);\n            let mainSel = newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                ? newSel.main : undefined;\n            // Try to apply a composition change to all cursors\n            if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 &&\n                change.to <= sel.to && change.to >= sel.to - 10) {\n                let replaced = view.state.sliceDoc(change.from, change.to);\n                let compositionRange = compositionSurroundingNode(view) || view.state.doc.lineAt(sel.head);\n                let offset = sel.to - change.to, size = sel.to - sel.from;\n                tr = startState.changeByRange(range => {\n                    if (range.from == sel.from && range.to == sel.to)\n                        return { changes, range: mainSel || range.map(changes) };\n                    let to = range.to - offset, from = to - replaced.length;\n                    if (range.to - range.from != size || view.state.sliceDoc(from, to) != replaced ||\n                        // Unfortunately, there's no way to make multiple\n                        // changes in the same node work without aborting\n                        // composition, so cursors in the composition range are\n                        // ignored.\n                        compositionRange && range.to >= compositionRange.from && range.from <= compositionRange.to)\n                        return { range };\n                    let rangeChanges = startState.changes({ from, to, insert: change.insert }), selOff = range.to - sel.to;\n                    return {\n                        changes: rangeChanges,\n                        range: !mainSel ? range.map(rangeChanges) :\n                            state.EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))\n                    };\n                });\n            }\n            else {\n                tr = {\n                    changes,\n                    selection: mainSel && startState.selection.replaceRange(mainSel)\n                };\n            }\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n        return true;\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? state.EditorSelection.single(anchor + base, head + base) : null;\n}\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view) {\n        this.view = view;\n        this.active = false;\n        // The known selection. Kept in our own object, as opposed to just\n        // directly accessing the selection because:\n        //  - Safari doesn't report the right selection in shadow DOM\n        //  - Reading from the selection forces a DOM layout\n        //  - This way, we can ignore selectionchange events if we have\n        //    already seen the 'new' selection\n        this.selectionRange = new DOMSelectionState;\n        // Set when a selection change is detected, cleared on flush\n        this.selectionChanged = false;\n        this.delayedFlush = -1;\n        this.resizeTimeout = -1;\n        this.queue = [];\n        this.delayedAndroidKey = null;\n        this.flushingAndroidKey = -1;\n        this.lastChange = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.resize = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.onResize = this.onResize.bind(this);\n        this.onPrint = this.onPrint.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n        if (typeof ResizeObserver == \"function\") {\n            this.resize = new ResizeObserver(() => {\n                var _a;\n                if (((_a = this.view.docView) === null || _a === void 0 ? void 0 : _a.lastUpdate) < Date.now() - 75)\n                    this.onResize();\n            });\n            this.resize.observe(view.scrollDOM);\n        }\n        this.addWindowListeners(this.win = view.win);\n        this.start();\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && (entries[entries.length - 1].intersectionRatio > 0) != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n        this.readSelectionRange();\n    }\n    onScrollChanged(e) {\n        this.view.inputState.runScrollHandlers(this.view, e);\n        if (this.intersecting)\n            this.view.measure();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush(false);\n        this.onScrollChanged(e);\n    }\n    onResize() {\n        if (this.resizeTimeout < 0)\n            this.resizeTimeout = setTimeout(() => {\n                this.resizeTimeout = -1;\n                this.view.requestMeasure();\n            }, 50);\n    }\n    onPrint() {\n        this.view.viewState.printing = true;\n        this.view.measure();\n        setTimeout(() => {\n            this.view.viewState.printing = false;\n            this.view.requestMeasure();\n        }, 500);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        let wasChanged = this.selectionChanged;\n        if (!this.readSelectionRange() || this.delayedAndroidKey)\n            return;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event)) {\n            if (!wasChanged)\n                this.selectionChanged = false;\n            return;\n        }\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // Chrome Android has a similar issue when backspacing out a\n        // selection (#645).\n        if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty &&\n            // (Selection.isCollapsed isn't reliable on IE)\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush(false);\n    }\n    readSelectionRange() {\n        let { view } = this;\n        // The Selection object is broken in shadow roots in Safari. See\n        // https://github.com/codemirror/dev/issues/414\n        let range = browser.safari && view.root.nodeType == 11 &&\n            deepActiveElement(this.dom.ownerDocument) == this.dom &&\n            safariSelectionRangeHack(this.view) || getSelection(view.root);\n        if (!range || this.selectionRange.eq(range))\n            return false;\n        let local = hasSelection(this.dom, range);\n        // Detect the situation where the browser has, on focus, moved the\n        // selection to the start of the content element. Reset it to the\n        // position from the editor state.\n        if (local && !this.selectionChanged &&\n            view.inputState.lastFocusTime > Date.now() - 200 &&\n            view.inputState.lastTouchTime < Date.now() - 300 &&\n            atElementStart(this.dom, range)) {\n            this.view.inputState.lastFocusTime = 0;\n            view.docView.updateSelection();\n            return false;\n        }\n        this.selectionRange.setRange(range);\n        if (local)\n            this.selectionChanged = true;\n        return true;\n    }\n    setSelectionRange(anchor, head) {\n        this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);\n        this.selectionChanged = false;\n    }\n    clearSelectionRange() {\n        this.selectionRange.set(null, 0, null, 0);\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.processRecords();\n        this.queue.length = 0;\n        this.selectionChanged = false;\n    }\n    // Chrome Android, especially in combination with GBoard, not only\n    // doesn't reliably fire regular key events, but also often\n    // surrounds the effect of enter or backspace with a bunch of\n    // composition events that, when interrupted, cause text duplication\n    // or other kinds of corruption. This hack makes the editor back off\n    // from handling DOM changes for a moment when such a key is\n    // detected (via beforeinput or keydown), and then tries to flush\n    // them or, if that has no effect, dispatches the given key.\n    delayAndroidKey(key, keyCode) {\n        var _a;\n        if (!this.delayedAndroidKey) {\n            let flush = () => {\n                let key = this.delayedAndroidKey;\n                if (key) {\n                    this.clearDelayedAndroidKey();\n                    if (!this.flush() && key.force)\n                        dispatchKey(this.dom, key.key, key.keyCode);\n                }\n            };\n            this.flushingAndroidKey = this.view.win.requestAnimationFrame(flush);\n        }\n        // Since backspace beforeinput is sometimes signalled spuriously,\n        // Enter always takes precedence.\n        if (!this.delayedAndroidKey || key == \"Enter\")\n            this.delayedAndroidKey = {\n                key, keyCode,\n                // Only run the key handler when no changes are detected if\n                // this isn't coming right after another change, in which case\n                // it is probably part of a weird chain of updates, and should\n                // be ignored if it returns the DOM to its previous state.\n                force: this.lastChange < Date.now() - 50 || !!((_a = this.delayedAndroidKey) === null || _a === void 0 ? void 0 : _a.force)\n            };\n    }\n    clearDelayedAndroidKey() {\n        this.win.cancelAnimationFrame(this.flushingAndroidKey);\n        this.delayedAndroidKey = null;\n        this.flushingAndroidKey = -1;\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = this.view.win.requestAnimationFrame(() => { this.delayedFlush = -1; this.flush(); });\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            this.view.win.cancelAnimationFrame(this.delayedFlush);\n            this.delayedFlush = -1;\n        }\n        this.flush();\n    }\n    processRecords() {\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    readChange() {\n        let { from, to, typeOver } = this.processRecords();\n        let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);\n        if (from < 0 && !newSel)\n            return null;\n        if (from > -1)\n            this.lastChange = Date.now();\n        this.view.inputState.lastFocusTime = 0;\n        this.selectionChanged = false;\n        return new DOMChange(this.view, from, to, typeOver);\n    }\n    // Apply pending changes, if any\n    flush(readSelection = true) {\n        // Completely hold off flushing when pending keys are set\u2014the code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.delayedAndroidKey)\n            return false;\n        if (readSelection)\n            this.readSelectionRange();\n        let domChange = this.readChange();\n        if (!domChange)\n            return false;\n        let startState = this.view.state;\n        let handled = applyDOMChange(this.view, domChange);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.update([]);\n        return handled;\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Dirty.Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    setWindow(win) {\n        if (win != this.win) {\n            this.removeWindowListeners(this.win);\n            this.win = win;\n            this.addWindowListeners(this.win);\n        }\n    }\n    addWindowListeners(win) {\n        win.addEventListener(\"resize\", this.onResize);\n        win.addEventListener(\"beforeprint\", this.onPrint);\n        win.addEventListener(\"scroll\", this.onScroll);\n        win.document.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    removeWindowListeners(win) {\n        win.removeEventListener(\"scroll\", this.onScroll);\n        win.removeEventListener(\"resize\", this.onResize);\n        win.removeEventListener(\"beforeprint\", this.onPrint);\n        win.document.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    destroy() {\n        var _a, _b, _c;\n        this.stop();\n        (_a = this.intersection) === null || _a === void 0 ? void 0 : _a.disconnect();\n        (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();\n        (_c = this.resize) === null || _c === void 0 ? void 0 : _c.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        this.removeWindowListeners(this.win);\n        clearTimeout(this.parentCheck);\n        clearTimeout(this.resizeTimeout);\n        this.win.cancelAnimationFrame(this.delayedFlush);\n        this.win.cancelAnimationFrame(this.flushingAndroidKey);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\n// Used to work around a Safari Selection/shadow DOM bug (#414)\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at it\u2014using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    view.dom.ownerDocument.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle \u2192 Updating \u21c6 Idle (unchecked) \u2192 Measuring \u2192 Idle\n//                                         \u2191      \u2193\n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll want to either provide a `parent`\n    option, or put `view.dom` into your document after creating a\n    view, so that the user can see the editor.\n    */\n    constructor(config = {}) {\n        this.plugins = [];\n        this.pluginMap = new Map;\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* UpdateState.Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this._root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || state.EditorState.create(config));\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec));\n        for (let plugin of this.plugins)\n            plugin.update(this);\n        this.observer = new DOMObserver(this);\n        this.inputState = new InputState(this);\n        this.inputState.ensureHandlers(this, this.plugins);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* UpdateState.Idle */;\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method), and at least\n    one change has been made in the current composition.\n    */\n    get composing() { return this.inputState.composing > 0; }\n    /**\n    Indicates whether the user is currently in composing state. Note\n    that on some platforms, like Android, this will be the case a\n    lot, since just putting the cursor on a word starts a\n    composition there.\n    */\n    get compositionStarted() { return this.inputState.composing >= 0; }\n    /**\n    The document or shadow root that the view lives in.\n    */\n    get root() { return this._root; }\n    /**\n    @internal\n    */\n    get win() { return this.dom.ownerDocument.defaultView || window; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof state.Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, attrsChanged = false, update;\n        let state$1 = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state$1)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state$1 = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state$1;\n            return;\n        }\n        // If there was a pending DOM change, eagerly read it and try to\n        // apply it after the given transactions.\n        let pendingKey = this.observer.delayedAndroidKey, domChange = null;\n        if (pendingKey) {\n            this.observer.clearDelayedAndroidKey();\n            domChange = this.observer.readChange();\n            // Only try to apply DOM changes if the transactions didn't\n            // change the doc or selection.\n            if (domChange && !this.state.doc.eq(state$1.doc) || !this.state.selection.eq(state$1.selection))\n                domChange = null;\n        }\n        else {\n            this.observer.clear();\n        }\n        // When the phrases change, redraw the editor\n        if (state$1.facet(state.EditorState.phrases) != this.state.facet(state.EditorState.phrases))\n            return this.setState(state$1);\n        update = ViewUpdate.create(this, state$1, transactions);\n        let scrollTarget = this.viewState.scrollTarget;\n        try {\n            this.updateState = 2 /* UpdateState.Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : state.EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects)\n                    if (e.is(scrollIntoView))\n                        scrollTarget = e.value;\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            attrsChanged = this.updateAttrs();\n            this.showAnnouncements(transactions);\n            this.docView.updateSelection(redrawn, transactions.some(tr => tr.isUserEvent(\"select.pointer\")));\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (update.startState.facet(theme) != update.state.facet(theme))\n            this.viewState.mustMeasureContent = true;\n        if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n        if (domChange) {\n            if (!applyDOMChange(this, domChange) && pendingKey.force)\n                dispatchKey(this.contentDOM, pendingKey.key, pendingKey.keyCode);\n        }\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* UpdateState.Updating */;\n        let hadFocus = this.hasFocus;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec));\n            this.pluginMap.clear();\n            for (let plugin of this.plugins)\n                plugin.update(this);\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this, this.plugins);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (hadFocus)\n            this.focus();\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.pluginMap.clear();\n            this.inputState.ensureHandlers(this, this.plugins);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = 0; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.forceFlush();\n        let updated = null;\n        let { scrollHeight, scrollTop, clientHeight } = this.scrollDOM;\n        let refHeight = scrollTop > scrollHeight - clientHeight - 4 ? scrollHeight : scrollTop;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* UpdateState.Measuring */;\n                let oldViewport = this.viewport;\n                let refBlock = this.viewState.lineBlockAtHeight(refHeight);\n                let changed = this.viewState.measure(this);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(this.measureRequests.length\n                        ? \"Measure loop restarted more than 5 times\"\n                        : \"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* UpdateFlag.Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = ViewUpdate.create(this, this.state, []), redrawn = false, scrolled = false;\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* UpdateState.Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                    this.updateAttrs();\n                    redrawn = this.docView.update(update);\n                }\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            let m = measuring[i];\n                            if (m.write)\n                                m.write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.editorHeight) {\n                    if (this.viewState.scrollTarget) {\n                        this.docView.scrollIntoView(this.viewState.scrollTarget);\n                        this.viewState.scrollTarget = null;\n                        scrolled = true;\n                    }\n                    else {\n                        let diff = this.viewState.lineBlockAt(refBlock.from).top - refBlock.top;\n                        if (diff > 1 || diff < -1) {\n                            this.scrollDOM.scrollTop += diff;\n                            scrolled = true;\n                        }\n                    }\n                }\n                if (redrawn)\n                    this.docView.updateSelection(true);\n                if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to &&\n                    !scrolled && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n            this.measureScheduled = -1;\n        }\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = attrsFromFacet(this, editorAttributes, {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        attrsFromFacet(this, contentAttributes, contentAttrs);\n        let changed = this.observer.ignore(() => {\n            let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n            let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n            return changedContent || changedEditor;\n        });\n        this.editorAttrs = editorAttrs;\n        this.contentAttrs = contentAttrs;\n        return changed;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        styleMod.StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* UpdateState.Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* UpdateState.Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        let known = this.pluginMap.get(plugin);\n        if (known === undefined || known && known.spec != plugin)\n            this.pluginMap.set(plugin, known = this.plugins.find(p => p.spec == plugin) || null);\n        return known && known.update(this).value;\n    }\n    /**\n    The top position of the document, in screen coordinates. This\n    may be negative when the editor is scrolled down. Points\n    directly to the top of the first line, not above the padding.\n    */\n    get documentTop() {\n        return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;\n    }\n    /**\n    Reports the padding above and below the document.\n    */\n    get documentPadding() {\n        return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };\n    }\n    /**\n    Find the text line or block widget at the given vertical\n    position (which is interpreted as relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).\n    */\n    elementAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.elementAtHeight(height);\n    }\n    /**\n    Find the line block (see\n    [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given\n    height, again interpreted relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).\n    */\n    lineBlockAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.lineBlockAtHeight(height);\n    }\n    /**\n    Get the extent and vertical position of all [line\n    blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions\n    are relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);\n    */\n    get viewportLineBlocks() {\n        return this.viewState.viewportLines;\n    }\n    /**\n    Find the line block around the given document position. A line\n    block is a range delimited on both sides by either a\n    non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line breaks, or the\n    start/end of the document. It will usually just hold a line of\n    text, but may be broken into multiple textblocks by block\n    widgets.\n    */\n    lineBlockAt(pos) {\n        return this.viewState.lineBlockAt(pos);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. In\n    bidirectional text, the line is traversed in visual order, using\n    the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n    When the start position was the last one on the line, the\n    returned position will be across the line break. If there is no\n    further line, the original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    \n    Note that for positions that aren't currently in\n    `visibleRanges`, the resulting DOM position isn't necessarily\n    meaningful (it may just point before or after a placeholder\n    element).\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == exports.Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor's content element.\n    */\n    get textDirection() { return this.viewState.defaultTextDirection; }\n    /**\n    Find the text direction of the block at the given position, as\n    assigned by CSS. If\n    [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)\n    isn't enabled, or the given position is outside of the viewport,\n    this will always return the same as\n    [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that\n    this may trigger a DOM layout.\n    */\n    textDirectionAt(pos) {\n        let perLine = this.state.facet(perLineTextDirection);\n        if (!perLine || pos < this.viewport.from || pos > this.viewport.to)\n            return this.textDirection;\n        this.readMeasured();\n        return this.docView.textDirectionAt(pos);\n    }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)\u2014if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirectionAt(line.from);\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, dir);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only\n    necessary when moving the editor's existing DOM to a new window or shadow root.\n    */\n    setRoot(root) {\n        if (this._root != root) {\n            this._root = root;\n            this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView || window);\n            this.mountStyles();\n        }\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Returns an effect that can be\n    [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to\n    cause it to scroll the given position or range into view.\n    */\n    static scrollIntoView(pos, options = {}) {\n        return scrollIntoView.of(new ScrollTarget(typeof pos == \"number\" ? state.EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));\n    }\n    /**\n    Returns an extension that can be used to add DOM event handlers.\n    The value should be an object mapping event names to handler\n    functions. For any given event, such functions are ordered by\n    extension precedence, and the first handler to return true will\n    be assumed to have handled that event, and no other handlers or\n    built-in behavior will be activated for it. These are registered\n    on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except\n    for `scroll` handlers, which will be called any time the\n    editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of\n    its parent nodes is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)\u2014to which the scope class will be\n    added\u2014need to be explicitly differentiated by adding an `&` to\n    the selector for that element\u2014for example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = styleMod.StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return state.Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n    /**\n    Retrieve an editor view instance from the view's DOM\n    representation.\n    */\n    static findFromDOM(dom) {\n        var _a;\n        let content = dom.querySelector(\".cm-content\");\n        let cView = content && ContentView.get(content) || ContentView.get(dom);\n        return ((_a = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a === void 0 ? void 0 : _a.view) || null;\n    }\n}\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nBy default, the editor assumes all its content has the same\n[text direction](https://codemirror.net/6/docs/ref/#view.Direction). Configure this with a `true`\nvalue to make it read the text direction of every (rendered)\nline separately.\n*/\nEditorView.perLineTextDirection = perLineTextDirection;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot have its `contenteditable` attribute set. (Note that this\ndoesn't affect API calls that change the editor content, even\nwhen those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds a\nnew range to the existing selection or replaces it entirely. The\ndefault behavior is to check `event.metaKey` on macOS, and\n`event.ctrlKey` elsewhere.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. Decorations can be provided in two\nways\u2014directly, or via a function that takes an editor view.\n\nOnly decoration sets provided directly are allowed to influence\nthe editor's vertical layout structure. The ones provided as\nfunctions are called _after_ the new viewport has been computed,\nand thus **must not** introduce block widgets or replacing\ndecorations that cover line breaks.\n\nIf you want decorated ranges to behave like atomic units for\ncursor motion and deletion purposes, also provide the range set\ncontaining the decorations to\n[`EditorView.atomicRanges`](https://codemirror.net/6/docs/ref/#view.EditorView^atomicRanges).\n*/\nEditorView.decorations = decorations;\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nEditorView.atomicRanges = atomicRanges;\n/**\nFacet that allows extensions to provide additional scroll\nmargins (space around the sides of the scrolling element that\nshould be considered invisible). This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nEditorView.scrollMargins = scrollMargins;\n/**\nThis facet records whether a dark theme is active. The extension\nreturned by [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme) automatically\nincludes an instance of this when the `dark` option is set to\ntrue.\n*/\nEditorView.darkTheme = darkTheme;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = state.StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : exports.Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\nfunction attrsFromFacet(view, facet, base) {\n    for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {\n        let source = sources[i], value = typeof source == \"function\" ? source(view) : source;\n        if (value)\n            combineAttrs(value, base);\n    }\n    return base;\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = state.Prec.default(EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n}));\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = state.Facet.define({ enables: handleKeyEvents });\nconst Keymaps = new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be a `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        var _a, _b;\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    run: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, run: ((_b = (_a = scopeObj._any) === null || _a === void 0 ? void 0 : _a.run) === null || _b === void 0 ? void 0 : _b.slice()) || [] });\n        if (command)\n            binding.run.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let scopes = b.scope ? b.scope.split(\" \") : [\"editor\"];\n        if (b.any)\n            for (let scope of scopes) {\n                let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n                if (!scopeObj._any)\n                    scopeObj._any = { preventDefault: false, run: [] };\n                for (let key in scopeObj)\n                    scopeObj[key].run.push(b.any);\n            }\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of scopes) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = w3cKeyname.keyName(event);\n    let charCode = state.codePointAt(name, 0), isChar = state.codePointSize(charCode) == name.length && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let ran = new Set;\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.run)\n                if (!ran.has(cmd)) {\n                    ran.add(cmd);\n                    if (cmd(view, event))\n                        return true;\n                }\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName, shiftName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey || charCode > 127) &&\n            (baseName = w3cKeyname.base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n            else if (event.shiftKey && (shiftName = w3cKeyname.shift[event.keyCode]) != name && shiftName != baseName &&\n                runFor(scopeObj[prefix + modifiers(shiftName, event, false)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n        if (runFor(scopeObj._any))\n            return true;\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = state.Facet.define({\n    combine(configs) {\n        return state.combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection,\n        nativeSelectionHidden.of(true)\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = state.Prec.highest(EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == exports.Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = state.EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: exports.BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.lineBlockAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == exports.BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == exports.Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent));\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == exports.BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == exports.BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && view.elementAtHeight((top.bottom + bottom.top) / 2).type == exports.BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top - 0.01 /* C.Epsilon */, right - left, bottom - top + 0.01 /* C.Epsilon */, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == exports.Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nconst setDropCursorPos = state.StateEffect.define({\n    map(pos, mapping) { return pos == null ? null : mapping.mapPos(pos); }\n});\nconst dropCursorPos = state.StateField.define({\n    create() { return null; },\n    update(pos, tr) {\n        if (pos != null)\n            pos = tr.changes.mapPos(pos);\n        return tr.effects.reduce((pos, e) => e.is(setDropCursorPos) ? e.value : pos, pos);\n    }\n});\nconst drawDropCursor = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.cursor = null;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };\n    }\n    update(update) {\n        var _a;\n        let cursorPos = update.state.field(dropCursorPos);\n        if (cursorPos == null) {\n            if (this.cursor != null) {\n                (_a = this.cursor) === null || _a === void 0 ? void 0 : _a.remove();\n                this.cursor = null;\n            }\n        }\n        else {\n            if (!this.cursor) {\n                this.cursor = this.view.scrollDOM.appendChild(document.createElement(\"div\"));\n                this.cursor.className = \"cm-dropCursor\";\n            }\n            if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)\n                this.view.requestMeasure(this.measureReq);\n        }\n    }\n    readPos() {\n        let pos = this.view.state.field(dropCursorPos);\n        let rect = pos != null && this.view.coordsAtPos(pos);\n        if (!rect)\n            return null;\n        let outer = this.view.scrollDOM.getBoundingClientRect();\n        return {\n            left: rect.left - outer.left + this.view.scrollDOM.scrollLeft,\n            top: rect.top - outer.top + this.view.scrollDOM.scrollTop,\n            height: rect.bottom - rect.top\n        };\n    }\n    drawCursor(pos) {\n        if (this.cursor) {\n            if (pos) {\n                this.cursor.style.left = pos.left + \"px\";\n                this.cursor.style.top = pos.top + \"px\";\n                this.cursor.style.height = pos.height + \"px\";\n            }\n            else {\n                this.cursor.style.left = \"-100000px\";\n            }\n        }\n    }\n    destroy() {\n        if (this.cursor)\n            this.cursor.remove();\n    }\n    setDropPos(pos) {\n        if (this.view.state.field(dropCursorPos) != pos)\n            this.view.dispatch({ effects: setDropCursorPos.of(pos) });\n    }\n}, {\n    eventHandlers: {\n        dragover(event) {\n            this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));\n        },\n        dragleave(event) {\n            if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))\n                this.setDropPos(null);\n        },\n        dragend() {\n            this.setDropPos(null);\n        },\n        drop() {\n            this.setDropPos(null);\n        }\n    }\n});\n/**\nDraws a cursor at the current drop position when something is\ndragged over the editor.\n*/\nfunction dropCursor() {\n    return [dropCursorPos, drawDropCursor];\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, m);\n    }\n}\nfunction matchRanges(view, maxLength) {\n    let visible = view.visibleRanges;\n    if (visible.length == 1 && visible[0].from == view.viewport.from &&\n        visible[0].to == view.viewport.to)\n        return visible;\n    let result = [];\n    for (let { from, to } of visible) {\n        from = Math.max(view.state.doc.lineAt(from).from, from - maxLength);\n        to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);\n        if (result.length && result[result.length - 1].to >= from)\n            result[result.length - 1].to = to;\n        else\n            result.push({ from, to });\n    }\n    return result;\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        const { regexp, decoration, decorate, boundary, maxLength = 1000 } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        if (decorate) {\n            this.addMatch = (match, view, from, add) => decorate(add, from, from + match[0].length, match, view);\n        }\n        else if (typeof decoration == \"function\") {\n            this.addMatch = (match, view, from, add) => {\n                let deco = decoration(match, view, from);\n                if (deco)\n                    add(from, from + match[0].length, deco);\n            };\n        }\n        else if (decoration) {\n            this.addMatch = (match, _view, from, add) => add(from, from + match[0].length, decoration);\n        }\n        else {\n            throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");\n        }\n        this.boundary = boundary;\n        this.maxLength = maxLength;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new state.RangeSetBuilder(), add = build.add.bind(build);\n        for (let { from, to } of matchRanges(view, this.maxLength))\n            iterMatches(view.state.doc, this.regexp, from, to, (from, m) => this.addMatch(m, view, from, add));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                let add = (from, to, deco) => ranges.push(deco.range(from, to));\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from)\n                        this.addMatch(m, view, m.index + fromLine.from, add);\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, m) => this.addMatch(m, view, from, add));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8294: \"left-to-right isolate\",\n    8295: \"right-to-left isolate\",\n    8297: \"pop directional isolate\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = state.Facet.define({\n    combine(configs) {\n        let config = state.combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = state.codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = state.countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = ViewPlugin.fromClass(class {\n    constructor() {\n        this.height = 1000;\n        this.attrs = { style: \"padding-bottom: 1000px\" };\n    }\n    update(update) {\n        let { view } = update;\n        let height = view.viewState.editorHeight - view.defaultLineHeight - view.documentPadding.top - 0.5;\n        if (height != this.height) {\n            this.height = height;\n            this.attrs = { style: `padding-bottom: ${height}px` };\n        }\n    }\n});\n/**\nReturns an extension that makes sure the content has a bottom\nmargin equivalent to the height of the editor, minus one line\nheight, so that every line in the document can be scrolled to the\ntop of the editor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return [plugin, contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.attrs) || null; })];\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            let line = view.lineBlockAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholder\u2014a piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state$1, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state$1.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(state.EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state$1.doc.line(i);\n            let start = state.findColumn(line.text, startCol, state$1.tabSize, true);\n            if (start < 0) {\n                ranges.push(state.EditorSelection.cursor(line.to));\n            }\n            else {\n                let end = state.findColumn(line.text, endCol, state$1.tabSize);\n                ranges.push(state.EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : state.countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return state.EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return state.EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\nconst keys = {\n    Alt: [18, e => e.altKey],\n    Control: [17, e => e.ctrlKey],\n    Shift: [16, e => e.shiftKey],\n    Meta: [91, e => e.metaKey]\n};\nconst showCrosshair = { style: \"cursor: crosshair\" };\n/**\nReturns an extension that turns the pointer cursor into a\ncrosshair when a given modifier key, defaulting to Alt, is held\ndown. Can serve as a visual hint that rectangular selection is\ngoing to happen when paired with\n[`rectangularSelection`](https://codemirror.net/6/docs/ref/#view.rectangularSelection).\n*/\nfunction crosshairCursor(options = {}) {\n    let [code, getter] = keys[options.key || \"Alt\"];\n    let plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.isDown = false;\n        }\n        set(isDown) {\n            if (this.isDown != isDown) {\n                this.isDown = isDown;\n                this.view.update([]);\n            }\n        }\n    }, {\n        eventHandlers: {\n            keydown(e) {\n                this.set(e.keyCode == code || getter(e));\n            },\n            keyup(e) {\n                if (e.keyCode == code || !getter(e))\n                    this.set(false);\n            },\n            mousemove(e) {\n                this.set(getter(e));\n            }\n        }\n    });\n    return [\n        plugin,\n        EditorView.contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.isDown) ? showCrosshair : null; })\n    ];\n}\n\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        var _a;\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return false;\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0) {\n                t.dom.remove();\n                (_a = t.destroy) === null || _a === void 0 ? void 0 : _a.call(t);\n            }\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return true;\n    }\n}\n/**\nCreates an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nfunction windowSpace(view) {\n    let { win } = view;\n    return { top: 0, left: 0, bottom: win.innerHeight, right: win.innerWidth };\n}\nconst tooltipConfig = state.Facet.define({\n    combine: values => {\n        var _a, _b, _c;\n        return ({\n            position: browser.ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,\n            tooltipSpace: ((_c = values.find(conf => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace,\n        });\n    }\n});\nconst tooltipPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        this.lastTransaction = 0;\n        this.measureTimeout = -1;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.intersectionObserver = typeof IntersectionObserver == \"function\" ? new IntersectionObserver(entries => {\n            if (Date.now() > this.lastTransaction - 50 &&\n                entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)\n                this.measureSoon();\n        }, { threshold: [1] }) : null;\n        this.observeIntersection();\n        view.win.addEventListener(\"resize\", this.measureSoon = this.measureSoon.bind(this));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    observeIntersection() {\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n            for (let tooltip of this.manager.tooltipViews)\n                this.intersectionObserver.observe(tooltip.dom);\n        }\n    }\n    measureSoon() {\n        if (this.measureTimeout < 0)\n            this.measureTimeout = setTimeout(() => {\n                this.measureTimeout = -1;\n                this.maybeMeasure();\n            }, 50);\n    }\n    update(update) {\n        if (update.transactions.length)\n            this.lastTransaction = Date.now();\n        let updated = this.manager.update(update);\n        if (updated)\n            this.observeIntersection();\n        let shouldMeasure = updated || update.geometryChanged;\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow && !tooltipView.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")) {\n            let arrow = document.createElement(\"div\");\n            arrow.className = \"cm-tooltip-arrow\";\n            tooltipView.dom.appendChild(arrow);\n        }\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        var _a, _b;\n        this.view.win.removeEventListener(\"resize\", this.measureSoon);\n        for (let tooltipView of this.manager.tooltipViews) {\n            tooltipView.dom.remove();\n            (_a = tooltipView.destroy) === null || _a === void 0 ? void 0 : _a.call(tooltipView);\n        }\n        (_b = this.intersectionObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n        clearTimeout(this.measureTimeout);\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map((t, i) => {\n                let tv = this.manager.tooltipViews[i];\n                return tv.getCoords ? tv.getCoords(t.pos) : this.view.coordsAtPos(t.pos);\n            }),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),\n        };\n    }\n    writeMeasure(measured) {\n        let { editor, space } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= Math.max(editor.top, space.top) ||\n                pos.top >= Math.min(editor.bottom, space.bottom) ||\n                pos.right < Math.max(editor.left, space.left) - .1 ||\n                pos.left > Math.min(editor.right, space.right) + .1) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = tooltip.arrow ? tView.dom.querySelector(\".cm-tooltip-arrow\") : null;\n            let arrowHeight = arrow ? 7 /* Arrow.Size */ : 0;\n            let width = size.right - size.left, height = size.bottom - size.top;\n            let offset = tView.offset || noOffset, ltr = this.view.textDirection == exports.Direction.LTR;\n            let left = size.width > space.right - space.left ? (ltr ? space.left : space.right - size.width)\n                : ltr ? Math.min(pos.left - (arrow ? 14 /* Arrow.Offset */ : 0) + offset.x, space.right - width)\n                    : Math.max(space.left, pos.left - width + (arrow ? 14 /* Arrow.Offset */ : 0) - offset.x);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide && (above\n                ? pos.top - (size.bottom - size.top) - offset.y < space.top\n                : pos.bottom + (size.bottom - size.top) + offset.y > space.bottom) &&\n                above == (space.bottom - pos.bottom > pos.top - space.top))\n                above = !above;\n            let top = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;\n            let right = left + width;\n            if (tView.overlap !== true)\n                for (let r of others)\n                    if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                        top = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) + \"px\";\n                dom.style.left = (left - measured.parent.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            if (arrow)\n                arrow.style.left = `${pos.left + (ltr ? offset.x : -offset.x) - (left + 14 /* Arrow.Offset */ - 7 /* Arrow.Size */)}px`;\n            if (tView.overlap !== true)\n                others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip-arrow\": {\n        height: `${7 /* Arrow.Size */}px`,\n        width: `${7 /* Arrow.Size */ * 2}px`,\n        position: \"absolute\",\n        zIndex: -1,\n        overflow: \"hidden\",\n        \"&:before, &:after\": {\n            content: \"''\",\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            borderLeft: `${7 /* Arrow.Size */}px solid transparent`,\n            borderRight: `${7 /* Arrow.Size */}px solid transparent`,\n        },\n        \".cm-tooltip-above &\": {\n            bottom: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                bottom: \"1px\"\n            }\n        },\n        \".cm-tooltip-below &\": {\n            top: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                top: \"1px\"\n            }\n        },\n    },\n    \"&dark .cm-tooltip .cm-tooltip-arrow\": {\n        \"&:before\": {\n            borderTopColor: \"#333338\",\n            borderBottomColor: \"#333338\"\n        },\n        \"&:after\": {\n            borderTopColor: \"transparent\",\n            borderBottomColor: \"transparent\"\n        }\n    }\n});\nconst noOffset = { x: 0, y: 0 };\n/**\nFacet to which an extension can add a value to show a tooltip.\n*/\nconst showTooltip = state.Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = state.Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned() {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned();\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMove.time;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        clearTimeout(this.restartTimeout);\n        let { lastMove } = this;\n        let pos = this.view.contentDOM.contains(lastMove.target) ? this.view.posAtCoords(lastMove) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || lastMove.y < posCoords.top || lastMove.y > posCoords.bottom ||\n            lastMove.x < posCoords.left - this.view.defaultCharacterWidth ||\n            lastMove.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == exports.Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (lastMove.x < posCoords.left ? -rtl : rtl));\n        if (open === null || open === void 0 ? void 0 : open.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(this.lastMove.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords(this.lastMove) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* Hover.MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave(e) {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active && !isInTooltip(e.relatedTarget))\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nSet up a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos`, return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer is\u2014it will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = state.StateEffect.define();\n    let hoverState = state.StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection) ||\n                options.hideOn && options.hideOn(tr, value)))\n                return null;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, state.MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                value = copy;\n            }\n            for (let effect of tr.effects) {\n                if (effect.is(setHover))\n                    value = effect.value;\n                if (effect.is(closeHoverTooltipEffect))\n                    value = null;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, options.hoverTime || 300 /* Hover.Time */)),\n        showHoverTooltipHost\n    ];\n}\n/**\nGet the active tooltip view for a given tooltip, if available.\n*/\nfunction getTooltip(view, tooltip) {\n    let plugin = view.plugin(tooltipPlugin);\n    if (!plugin)\n        return null;\n    let found = plugin.manager.tooltips.indexOf(tooltip);\n    return found < 0 ? null : plugin.manager.tooltipViews[found];\n}\n/**\nReturns true if any hover tooltips are currently active.\n*/\nfunction hasHoverTooltips(state) {\n    return state.facet(showHoverTooltip).some(x => x);\n}\nconst closeHoverTooltipEffect = state.StateEffect.define();\n/**\nTransaction effect that closes all hover tooltips.\n*/\nconst closeHoverTooltips = closeHoverTooltipEffect.of(null);\n/**\nTell the tooltip extension to recompute the position of the active\ntooltips. This can be useful when something happens (such as a\nre-positioning or CSS change affecting the editor) that could\ninvalidate the existing tooltip positions.\n*/\nfunction repositionTooltips(view) {\n    var _a;\n    (_a = view.plugin(tooltipPlugin)) === null || _a === void 0 ? void 0 : _a.maybeMeasure();\n}\n\nconst panelConfig = state.Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };\n    })\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        for (let p of this.panels)\n            if (p.destroy && panels.indexOf(p) < 0)\n                p.destroy();\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = state.Facet.define({\n    enables: panelPlugin\n});\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends state.RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n    /**\n    Called if the marker has a `toDOM` method and its representation\n    was removed from a gutter.\n    */\n    destroy(dom) { }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = state.MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#view.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#view.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = state.Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => state.RangeSet.empty,\n    lineMarker: () => null,\n    lineMarkerChange: null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = state.Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst unfixGutters = state.Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.prevViewport = view.viewport;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        this.syncGutters(false);\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n    }\n    update(update) {\n        if (this.updateGutters(update)) {\n            // Detach during sync when the viewport changed significantly\n            // (such as during scrolling), since for large updates that is\n            // faster.\n            let vpA = this.prevViewport, vpB = update.view.viewport;\n            let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);\n            this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);\n        }\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n        this.prevViewport = update.view.viewport;\n    }\n    syncGutters(detach) {\n        let after = this.dom.nextSibling;\n        if (detach)\n            this.dom.remove();\n        let lineClasses = state.RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport, -this.view.documentPadding.top));\n        for (let line of this.view.viewportLineBlocks) {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == exports.BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == exports.BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                continue;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }\n        for (let cx of contexts)\n            cx.finish();\n        if (detach)\n            this.view.scrollDOM.insertBefore(this.dom, after);\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !state.RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters) {\n                g.dom.remove();\n                if (gutters.indexOf(g) < 0)\n                    g.destroy();\n            }\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        for (let view of this.gutters)\n            view.destroy();\n        this.dom.remove();\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        if (!value || value.gutters.length == 0 || !value.fixed)\n            return null;\n        return view.textDirection == exports.Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport, height) {\n        this.gutter = gutter;\n        this.height = height;\n        this.localMarkers = [];\n        this.i = 0;\n        this.cursor = state.RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            gutter.elements[this.i].update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i) {\n            let last = gutter.elements.pop();\n            gutter.dom.removeChild(last.dom);\n            last.destroy();\n        }\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.lineBlockAtHeight(event.clientY - view.documentTop);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !state.RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) ||\n            (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);\n    }\n    destroy() {\n        for (let elt of this.elements)\n            elt.destroy();\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.markers = [];\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutterElement\";\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (!sameMarkers(this.markers, markers))\n            this.setMarkers(view, markers);\n    }\n    setMarkers(view, markers) {\n        let cls = \"cm-gutterElement\", domPos = this.dom.firstChild;\n        for (let iNew = 0, iOld = 0;;) {\n            let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;\n            if (marker) {\n                let c = marker.elementClass;\n                if (c)\n                    cls += \" \" + c;\n                for (let i = iOld; i < this.markers.length; i++)\n                    if (this.markers[i].compare(marker)) {\n                        skipTo = i;\n                        matched = true;\n                        break;\n                    }\n            }\n            else {\n                skipTo = this.markers.length;\n            }\n            while (iOld < skipTo) {\n                let next = this.markers[iOld++];\n                if (next.toDOM) {\n                    next.destroy(domPos);\n                    let after = domPos.nextSibling;\n                    domPos.remove();\n                    domPos = after;\n                }\n            }\n            if (!marker)\n                break;\n            if (marker.toDOM) {\n                if (matched)\n                    domPos = domPos.nextSibling;\n                else\n                    this.dom.insertBefore(marker.toDOM(view), domPos);\n            }\n            if (matched)\n                iOld++;\n        }\n        this.dom.className = cls;\n        this.markers = markers;\n    }\n    destroy() {\n        this.setMarkers(null, []); // First argument not used unless creating markers\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = state.Facet.define();\nconst lineNumberConfig = state.Facet.define({\n    combine(values) {\n        return state.combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM() { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    lineMarkerChange: update => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = gutterLineClass.compute([\"selection\"], state$1 => {\n    let marks = [], last = -1;\n    for (let range of state$1.selection.ranges) {\n        let linePos = state$1.doc.lineAt(range.head).from;\n        if (linePos > last) {\n            last = linePos;\n            marks.push(activeLineGutterMarker.range(linePos));\n        }\n    }\n    return state.RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexports.BidiSpan = BidiSpan;\nexports.BlockInfo = BlockInfo;\nexports.Decoration = Decoration;\nexports.EditorView = EditorView;\nexports.GutterMarker = GutterMarker;\nexports.MatchDecorator = MatchDecorator;\nexports.ViewPlugin = ViewPlugin;\nexports.ViewUpdate = ViewUpdate;\nexports.WidgetType = WidgetType;\nexports.__test = __test;\nexports.closeHoverTooltips = closeHoverTooltips;\nexports.crosshairCursor = crosshairCursor;\nexports.drawSelection = drawSelection;\nexports.dropCursor = dropCursor;\nexports.getPanel = getPanel;\nexports.getTooltip = getTooltip;\nexports.gutter = gutter;\nexports.gutterLineClass = gutterLineClass;\nexports.gutters = gutters;\nexports.hasHoverTooltips = hasHoverTooltips;\nexports.highlightActiveLine = highlightActiveLine;\nexports.highlightActiveLineGutter = highlightActiveLineGutter;\nexports.highlightSpecialChars = highlightSpecialChars;\nexports.hoverTooltip = hoverTooltip;\nexports.keymap = keymap;\nexports.lineNumberMarkers = lineNumberMarkers;\nexports.lineNumbers = lineNumbers;\nexports.logException = logException;\nexports.panels = panels;\nexports.placeholder = placeholder;\nexports.rectangularSelection = rectangularSelection;\nexports.repositionTooltips = repositionTooltips;\nexports.runScopeHandlers = runScopeHandlers;\nexports.scrollPastEnd = scrollPastEnd;\nexports.showPanel = showPanel;\nexports.showTooltip = showTooltip;\nexports.tooltips = tooltips;\n\n};"],
"names":["shadow$provide","global","require","module","exports","getSelection","root","target","nodeType","ownerDocument","contains","dom","node","parentNode","hasSelection","selection","anchorNode","_","clientRectsFor","textRange","nodeValue","length","getClientRects","isEquivalentPosition","off","targetNode","targetOff","scanFor","domIndex","index","previousSibling","dir","maxOffset","nodeName","parent","childNodes","contentEditable","flattenRect","rect","left","x","right","top","bottom","scrollRectIntoView","side","y","xMargin","yMargin","ltr","doc","win","defaultView","window","cur","body","innerWidth","innerHeight","scrollHeight","clientHeight","scrollWidth","clientWidth","assignedSlot","getBoundingClientRect","moveY","moveX","rectHeight","targetTop","boundingHeight","targetLeft","scrollBy","movedY","movedX","start","scrollTop","scrollLeft","Math","abs","host","focusPreventScroll","setActive","preventScrollSupported","focus","stack","push","preventScroll","undefined","i","elt","from","to","range","scratchRange","document","createRange","setEnd","setStart","dispatchKey","name","code","options","key","keyCode","which","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","clearAttributes","attributes","removeAttributeNode","rm$1","next","nextSibling","removeChild","replaceRange","fromI","fromOff","toI","toOff","insert","breakAtStart","openStart","openEnd","children","before","last","breakAtEnd","breakAfter","merge","after","split","shift","become","pop","replaceChildren","mergeChildrenInto","childCursor","findPos","dLen","view","textCoords","text","pos","flatten","browser","chrome","gecko","rects","Rect0","safari","width","Array","prototype","find","call","r","scanCompositionTree","enterView","fromText","MarkView","child","firstChild","desc","ContentView","get","hasComp","len","getSide","posFromDOMInCompositionTree","offset","localPosFromDOM","min","inlineDOMAtPos","end","domAtPos","j","prev","DOMPos","joinInlineInto","open","mark","eq","setParent","coordsInChildren","scan","afterPos","beforePos","coordsAt","max","fallbackRect","lastChild","combineAttrs","source","class","style","attrsEq","a","b","keysA","Object","keys","keysB","indexOf","updateAttrs","attrs","changed","removeAttribute","setAttribute","getInclusive","spec","block","inclusive","addRange","ranges","margin","wrapMarks","active","logException","state","exception","context","handler","facet","exceptionSink","onerror","String","console","error","dec","str","result","computeOrder","line","direction","outerType","LTR","oppositeType","BidiRE","test","BidiSpan","prevStrong","charCodeAt","type","ch","LowTypes","ArabicTypes","types","replace","sI","br","Brackets","sJ","BracketStack","flags","embed","beforeL","order","rtl","l","moveVisually","forward","_a","startIndex","head","spanI","level","bidiLevel","assoc","span","indexForward","nextIndex","findClusterBreak","movedOver","slice","EditorSelection","cursor","nextSpan","isBlockElement","compositionSurroundingNode","sel","observer","selectionRange","textNode","focusNode","nearbyTextNode","focusOffset","cView","docView","nearest","LineView","topNode","posAtEnd","posAtStart","computeCompositionDeco","changes","surrounding","Decoration","none","newFrom","mapPos","newTo","readRange","DOMReader","sliceString","LineBreakPlaceholder","topView","CompositionView","widget","set","CompositionWidget","findChangedDeco","diff","comp","DecorationComparator$1","RangeSet","compare","groupAt","state$1","bias","categorize","charCategorizer","lineAt","linePos","cat","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestY","closestOverlap","above","below","aboveRect","belowRect","dx","dy","domPosInText","closestX","clipX","closestOffset","closestDY","generalSide","rectBefore","posAtCoords","precise","content","contentDOM","docTop","viewState","paddingTop","docHeight","yOffset","halfLine","defaultLineHeight","bounced","elementAtHeight","BlockType","Text","lineStart","viewport","posAtCoordsImprecise","elementFromPoint","element","isEditable","caretPositionFromPoint","caretRangeFromPoint","classList","height","posFromDOM","contentRect","into","round","defaultCharacterWidth","lineWrapping","floor","heightOracle","lineLength","sliceDoc","findColumn","tabSize","moveByChar","by","spans","bidiSpans","textDirectionAt","check","char","number","lines","byGroup","nextCat","CharCategory","Space","skipAtoms","oldPos","atoms","atomicRanges","map","f","moved","between","value","isInPrimarySelection","event","main","empty","rangeCount","getRangeAt","clientX","clientY","eventBelongsToEditor","bubbles","ignoreEvent","capturePaste","appendChild","createElement","cssText","setTimeout","remove","doPaste","input","toText","byLine","lastLinewiseCopy","every","toString","lastLine","changeByRange","lineBreak","replaceSelection","dispatch","userEvent","scrollIntoView","rangeForClick","visual","queryPos","getClickType","BadMouseDetail","detail","lastMouseDown","lastTime","lastMouseDownTime","Date","now","lastMouseDownCount","basicMouseSelection","startSel","lastEvent","update","docChanged","extend","multiple","startRange","some","removeRange","create","concat","mainIndex","dropText","direct","dropPos","preventDefault","mouseSelection","inputState","del","dragging","dragMove","ins","anchor","captureCopy","selectionEnd","selectionStart","updateForFocusChange","hasFocus","notifiedFocused","mergeGaps","nodes","around","HeightMapGap","splice","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","getComputedStyle","overflow","parentRect","position","offsetParent","fullPixelRange","lineStructure","stateDeco","total","point","findPosition","ratio","dist","size","findFraction","structure","counted","array","val","scaleBlock","scaler","scale","bTop","toDOM","bBottom","BlockInfo","isArray","buildTheme","scopes","styleMod","StyleModule","finish","m","RangeError","applyDOMChange","domChange","change","newSel","bounds","preferredPos","preferredSide","lastKeyCode","lastKeyTime","android","findDiff","toB","toA","of","editable","typeOver","append","mac","single","startState","ios","flushIOSKey","inputHandler","h","composing","tr","mainSel","newLength","replaced","compositionRange","rangeChanges","selOff","compositionFirstChange","lastSelectionTime","lastSelectionOrigin","minLen","adjust","move","findChild","curView","safariSelectionRangeHack","read","stopImmediatePropagation","found","getTargetRanges","addEventListener","execCommand","removeEventListener","startContainer","anchorOffset","startOffset","endContainer","endOffset","curAnchor","attrsFromFacet","base","sources","modifiers","altKey","ctrlKey","metaKey","shiftKey","getKeymap","bindings","keymap","Keymaps","buildKeymap","reduce","platform","currentPlatform","bound","isPrefix","checkPrefix","is","current","Error","add","scope","command","_b","scopeObj","parts","k","alt","ctrl","meta","mod","prefix","join","run","ourObj","storedPrefix","PrefixTimeout","full","binding","_any","any","runHandlers","w3cKeyname","keyName","charCode","codePointAt","isChar","codePointSize","fallthrough","modifierCodes","ran","Set","runFor","cmd","has","baseName","shiftName","getBase","scrollDOM","textDirection","Direction","wrappedLine","inside","moveToLineBoundary","blockAt","lineBlockAt","measureRange","piece","Piece","pieces","horizontal","drawForLine","addSpan","fromOpen","toOpen","fromCoords","coordsAtPos","toCoords","leftSide","rightSide","visibleRanges","endPos","docLine","spanFrom","spanTo","drawForWidget","lineStyle","parseInt","paddingLeft","textIndent","paddingRight","startBlock","endBlock","visualStart","visualEnd","measureCursor","primary","iterMatches","re","lastIndex","iterRange","done","exec","matchRanges","maxLength","visible","specialCharPlugin","_plugin","ViewPlugin","fromClass","constructor","decorations","decorationCache","decorator","makeDecorator","specialCharConfig","createDeco","conf","MatchDecorator","regexp","specialChars","decoration","col","countColumn","TabWidget","SpecialCharWidget","boundary","replaceTabs","updateDeco","v","getPos","MaxOff","ref","rectangleSelectionStyle","newStart","newLine","_extend","startLine","endLine","startOff","endOff","startCol","endCol","windowSpace","isInTooltip","rm","gutters","config","gutterView","fixed","unfixGutters","asArray","advanceCursor","collect","formatNumber","lineNumberConfig","maxLineNumber","defineProperty","DOMSelectionState","domSel","setRange","noChildren","dirty","editorView","posBefore","posAfter","_pos","_side","sync","track","contentView","canReuseDOM","reuseDOM","written","insertBefore","_dom","domBoundsAround","fromStart","toEnd","prevEnd","startDOM","endDOM","markDirty","andParent","markParentsDirty","childList","setDOM","cmView","destroy","ignoreMutation","_rec","_event","ChildCursor","childPos","hasStart","other","nav","navigator","userAgent","vendor","documentElement","ie_edge","ie_upto10","ie_11up","ie","webkit","maxTouchPoints","windows","linux","ie_version","documentMode","gecko_version","chrome_version","webkit_version","TextView","createDOM","textDOM","createTextNode","MaxJoinLen","_from","_to","setAttrs","className","tagName","toUpperCase","_hasStart","detachFrom","WidgetView","prevWidget","customView","updateDOM","p","WidgetBufferView","imgRect","nextRect","siblingRect","WidgetType","RangeValue","startSide","endSide","MarkDecoration","PointDecoration","isBlockGap","LineDecoration","sort","hasHeight","estimatedHeight","mapMode","MapMode","TrackBefore","isReplace","TrackAfter","TrackDel","WidgetRange","WidgetBefore","WidgetAfter","arguments","prevAttrs","transferDOM","setDeco","at","addLineDeco","deco","cls","hack","cmIgnore","measureTextSize","totalWidth","lineHeight","charWidth","_other","BlockWidgetView","_takeDeco","ContentBuilder","disallowBlockEffectsFor","curLine","pendingBuffer","atCursorPos","textOff","iter","skip","posCovered","getLine","flushBuffer","addBlockWidget","buildText","take","NullWidget","cursorBefore","cursorAfter","build","dynamicDecorationMap","builder","tag","toLowerCase","clickAddsSelectionRange","Facet","define","dragMovesSelection$1","mouseSelectionStyle","updateListener","perLineTextDirection","combine","values","nativeSelectionHidden","ScrollTarget","StateEffect","t","nextPluginID","viewPlugin","id","domEventHandlers","buildExtensions","extension","eventHandlers","provide","plugin","ext","pluginInst","PluginInstance","mustUpdate","e","deactivate","editorAttributes","contentAttributes","scrollMargins","styleModule","ChangedRange","fromA","fromB","addToSet","me","extendWithRanges","dI","rI","posA","posB","ViewUpdate","transactions","ChangeSet","compose","changedRanges","iterChangedRanges","RTL","maybe","points","lineSeparator","EditorState","findPointBefore","readNode","nextView","readTextNode","nextBreak","breakSize","fromView","overrideDOMText","findPointInside","maxLen","DOMPoint","DocView","compositionDeco","minWidthTo","minWidthFrom","minWidth","impreciseHead","impreciseAnchor","forceSelection","lastUpdate","updateInner","prevDeco","decoDiff","oldLength","mustMeasureContent","updateChildren","ignore","contentHeight","flexBasis","gaps","BlockGapWidget","updateGaps","updateSelection","mustRead","fromPointer","readSelectionRange","mayControlSelection","force","dummy","blur","rawSel","nextTo","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","enforceCursorAssoc","modify","newRange","activeElement","domView","rootView","measureVisibleLineHeights","contentWidth","isWider","widest","childRect","measure","textContent","computeBlockGapDeco","vs","viewports","allDeco","d","lineGapDeco","mRight","mLeft","mTop","mBottom","margins","targetRect","compareRange","comparePoint","InputState","lastScrollLeft","lastScrollTop","lastFocusTime","lastTouchTime","chromeScrollHack","pendingIOSKey","lastContextMenu","lastEscPress","scrollHandlers","registeredEvents","customHandlers","compositionEndedAt","handlers","ignoreDuringComposition","keydown","mustFlushObserver","forceFlush","runCustomHandlers","handlerOptions","pointerEvents","clearTimeout","passive","setSelectionOrigin","origin","ensureHandlers","plugins","runScrollHandlers","scroll","delayAndroidKey","pending","PendingKeys","EmacsyPendingKeys","startMouseSelection","inputType","MouseSelection","startEvent","mustSelect","bind","select","buttons","brokenClipboardAPI","handlers.keydown","touchstart","handlers.touchstart","touchmove","handlers.touchmove","mousedown","handlers.mousedown","flush","makeStyle","button","mustFocus","dragstart","handlers.dragstart","dataTransfer","setData","effectAllowed","drop","handlers.drop","readOnly","files","finishFile","filter","s","reader","FileReader","onload","reader.onload","readAsText","getData","paste","handlers.paste","data","clipboardData","copy","cut","handlers.cut","linewise","upto","clearData","handlers.focus","handlers.blur","clearSelectionRange","compositionstart","compositionupdate","handlers.compositionupdate","compositionend","handlers.compositionend","flushSoon","contextmenu","handlers.contextmenu","beforeinput","handlers.beforeinput","startViewHeight","visualViewport","wrappingWhiteSpace","HeightOracle","heightSamples","heightChanged","heightForGap","ceil","heightForLine","setDoc","mustRefreshForWrapping","whiteSpace","mustRefreshForHeights","lineHeights","newHeight","refresh","knownHeights","MeasuredHeights","heights","QueryType","HeightMap","setHeight","oracle","Epsilon","decomposeLeft","decomposeRight","applyChanges","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","break","brk","HeightMapBranch","HeightMapBlock","_height","_doc","_value","_type","forEachLine","_force","measured","more","outdated","widgetHeight","collapsed","firstLine","ByHeight","first","unshift","singleHeight","wasChanged","mid","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","rebalance","lineEnd","covering","writtenTo","isCovered","heightRelevant","addBlock","relevantWidgetHeight","enterLine","blankContent","gap","ensureLine","LineGap","same","gA","gB","draw","wrapping","LineGapWidget","vertical","display","ViewState","pixelViewport","inView","editorWidth","editorHeight","contentDOMHeight","contentDOMWidth","paddingBottom","IdScaler","scrollTarget","printing","defaultTextDirection","mustEnforceCursorAssoc","heightMap","getViewport","updateViewportLines","updateForViewport","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","BigScaler","viewportLines","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLines","updateLineGaps","mapLineGaps","selectionSet","measureContent","dTop","dBottom","vp","viewportChange","fromDOM","marginTop","visibleTop","visibleBottom","viewHeight","topPos","mapped","touchesRange","mayMeasure","halfMargin","doubleMargin","addGap","avoid","gapSize","viewTo","marginHeight","targetFrac","spaceFrac","bot","viewFrom","marginWidth","fraction","lineBlockAtHeight","n","vpHeight","domBase","domTop","domBottom","obj","theme","strs","darkTheme","baseThemeID","newName","baseLightID","baseDarkID","lightDarkIDs","baseTheme$1","boxSizing","outline","flexDirection","alignItems","fontFamily","overflowX","zIndex","flexGrow","flexShrink","minHeight","wordWrap","padding","WebkitUserModify","whiteSpace_fallback","wordBreak","overflowWrap","caretColor","contain","background","animation","opacity","borderLeft","marginLeft","borderLeftColor","backgroundColor","color","borderRight","textAlign","borderBottom","borderTop","verticalAlign","fontSize","borderRadius","backgroundImage","border","DOMChange","iHead","iAnchor","selPoints","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","selectionChanged","resizeTimeout","delayedFlush","queue","delayedAndroidKey","flushingAndroidKey","lastChange","scrollTargets","resize","intersection","intersecting","gapIntersection","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","onCharData","this.onCharData","prevValue","onSelectionChange","onResize","onPrint","onScroll","ResizeObserver","observe","addWindowListeners","IntersectionObserver","entries","listenForScroll","intersectionRatio","onScrollChanged","createEvent","requestMeasure","g","disconnect","shadowRoot","local","stop","clear","processRecords","requestAnimationFrame","clearDelayedAndroidKey","cancelAnimationFrame","records","takeRecords","record","readMutation","readChange","readSelection","handled","rec","childBefore","childAfter","setWindow","removeWindowListeners","_c","EditorView","pluginMap","Map","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","_root","mountStyles","Transaction","redrawn","attrsChanged","pendingKey","phrases","setState","effects","CachedOrder","updatePlugins","styleModules","showAnnouncements","isUserEvent","listener","newState","hadFocus","prevSpecs","specs","newPlugins","updated","refHeight","oldViewport","refBlock","warn","measuring","BadMeasure","scrolled","write","themeClasses","spellcheck","autocorrect","autocapitalize","translate","contenteditable","role","changedContent","changedEditor","trs","effect","announce","div","mount","reverse","readMeasured","request","known","moveByGroup","initial","includeWrap","coords","editorRect","lineView","moveVertically","distance","startPos","goal","goalColumn","startCoords","documentTop","startY","resolvedGoal","extra","curY","posAtDOM","perLine","MaxBidiLine","entry","setRoot","dark","baseTheme","Prec","lowest","findFromDOM","querySelector","dragMovesSelection","cache","lastDir","handleKeyEvents","default","enables","WeakMap","CanHidePrimary","selectionConfig","configs","combineConfig","cursorBlinkRate","drawRangeCursor","drawSelectionPlugin","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","geometryChanged","viewportChanged","animationName","prim","c","oldCursors","forEach","idx","themeSpec","hideNativeSelection","highest","setDropCursorPos","mapping","dropCursorPos","StateField","drawDropCursor","drawCursor","cursorPos","field","outer","setDropPos","dragover","dragleave","relatedTarget","dragend","decorate","addMatch","match","this.addMatch","_view","RangeSetBuilder","changeFrom","changeTo","iterChanges","_f","_t","updateRange","updateFrom","updateTo","fromLine","toLine","filterFrom","filterTo","UnicodeRegexpSupport","unicode","Specials","RegExp","Names","_supportsTabSize","render","addSpecialChars","styles","MozTabSize","DefaultPlaceholder","fromCharCode","phrase","custom","ph","title","documentPadding","lineDeco","activeLineHighlighter","getDeco","lastLineStart","Placeholder","wrap","Alt","Control","Shift","Meta","showCrosshair","TooltipViewManager","createTooltipView","tooltips","tooltipViews","tip","tooltipView","tooltipConfig","tooltipSpace","tooltipPlugin","lastTransaction","measureTimeout","classes","createContainer","readMeasure","writeMeasure","manager","showTooltip","createTooltip","intersectionObserver","measureSoon","threshold","observeIntersection","maybeMeasure","container","tooltip","shouldMeasure","newConfig","arrow","Outside","editor","tv","getCoords","space","others","tView","arrowHeight","noOffset","strictSide","overlap","toggle","positioned","borderTopColor","borderBottomColor","showHoverTooltip","HoverTooltipHost","mounted","createHostedView","hostedView","showHoverTooltipHost","compute","HoverPlugin","setHover","hoverTime","restartTimeout","hoverTimeout","lastMove","time","checkHover","mouseleave","mousemove","startHover","hovered","posCoords","bidi","then","detach","closeHoverTooltipEffect","closeHoverTooltips","panelConfig","topContainer","bottomContainer","panelPlugin","showPanel","panels","PanelGroup","syncClasses","panel","scrollMargin","syncDOM","curDOM","GutterMarker","elementClass","gutterLineClass","defaults","renderEmptyElements","elementStyle","markers","lineMarker","lineMarkerChange","initialSpacer","updateSpacer","activeGutters","prevViewport","SingleGutterView","gutter","syncGutters","updateGutters","vpA","vpB","lineClasses","classSet","contexts","UpdateContext","viewportLineBlocks","cx","offsetWidth","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","spacer","prop","prevMarkers","setMarkers","domPos","iNew","iOld","skipTo","marker","matched","lineNumberMarkers","assign","exists","NumberMarker","lineNumberGutter","activeLineGutterMarker","activeLineGutterHighlighter","marks","__test","crosshairCursor","getter","isDown","keyup","drawSelection","dropCursor","getPanel","getTooltip","hasHoverTooltips","highlightActiveLine","highlightActiveLineGutter","highlightSpecialChars","hoverTooltip","hoverState","hideOnChange","hideOn","newPos","lineNumbers","placeholder","rectangularSelection","eventFilter","repositionTooltips","runScopeHandlers","scrollPastEnd"]
}

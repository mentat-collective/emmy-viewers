shadow$provide.module$node_modules$$mentatcollective$jsxgraph$src$math$symbolic=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _constants=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$constants")),_coords=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$coords")),
_math=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$math")),_geometry=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$geometry")),_server=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$server$server")),_type=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$type"));_math.default.Symbolic={generateSymbolicCoordinatesPartial:function(board,element,
variable,append){var t,k,list=element.ancestors,count=0,makeCoords=function(num){return"underscore"===append?variable+"_{"+num+"}":"brace"===append?variable+"["+num+"]":variable+num};board.listOfFreePoints=[];board.listOfDependantPoints=[];for(t in list)if(list.hasOwnProperty(t)){var t_num=0;if(_type.default.isPoint(list[t])){for(k in list[t].ancestors)list[t].ancestors.hasOwnProperty(k)&&t_num++;0===t_num?(list[t].symbolic.x=list[t].coords.usrCoords[1],list[t].symbolic.y=list[t].coords.usrCoords[2],
board.listOfFreePoints.push(list[t])):(count+=1,list[t].symbolic.x=makeCoords(count),count+=1,list[t].symbolic.y=makeCoords(count),board.listOfDependantPoints.push(list[t]))}}_type.default.isPoint(element)&&(element.symbolic.x="x",element.symbolic.y="y");return count},clearSymbolicCoordinates:function(board){var clear=function(list){var t,l=list&&list.length||0;for(t=0;t<l;t++)_type.default.isPoint(list[t])&&(list[t].symbolic.x="",list[t].symbolic.y="")};clear(board.listOfFreePoints);clear(board.listOfDependantPoints);
delete board.listOfFreePoints;delete board.listOfDependantPoints},generatePolynomials:function(board,element,generateCoords){var t,k,list=element.ancestors,result=[];generateCoords&&this.generateSymbolicCoordinatesPartial(board,element,"u","brace");list[element.id]=element;for(t in list)if(list.hasOwnProperty(t)&&(element=0,_type.default.isPoint(list[t]))){for(k in list[t].ancestors)list[t].ancestors.hasOwnProperty(k)&&element++;if(0<element){var pgs=list[t].generatePolynomial();for(element=0;element<
pgs.length;element++)result.push(pgs[element])}}generateCoords&&this.clearSymbolicCoordinates(board);return result},geometricLocusByGroebnerBase:function(board,point){var result,i,bol=board.options.locus,oldRadius={},numDependent=this.generateSymbolicCoordinatesPartial(board,point,"u","brace");var ye=new _coords.default(_constants.default.COORDS_BY_USR,[0,0],board);var ys=new _coords.default(_constants.default.COORDS_BY_USR,[board.canvasWidth,board.canvasHeight],board);var sf=1,transx=0,transy=0,
rot=0;void 0===_server.default.modules.geoloci&&_server.default.loadModule("geoloci");if(void 0===_server.default.modules.geoloci)throw Error("JSXGraph: Unable to load JXG.Server module 'geoloci.py'.");var xs=ye.usrCoords[1];var xe=ys.usrCoords[1];ys=ys.usrCoords[2];ye=ye.usrCoords[2];if(bol.translateToOrigin&&0<board.listOfFreePoints.length){var P1=void 0!==bol.toOrigin&&null!==bol.toOrigin&&_type.default.isInArray(board.listOfFreePoints,bol.toOrigin.id)?bol.toOrigin:board.listOfFreePoints[0];transx=
P1.symbolic.x;transy=P1.symbolic.y;for(i=0;i<board.listOfFreePoints.length;i++)board.listOfFreePoints[i].symbolic.x-=transx,board.listOfFreePoints[i].symbolic.y-=transy;xs-=transx;xe-=transx;ys-=transy;ye-=transy;if(bol.translateTo10&&1<board.listOfFreePoints.length){P1=void 0!==bol.to10&&null!==bol.to10&&bol.to10.id!==bol.toOrigin.id&&_type.default.isInArray(board.listOfFreePoints,bol.to10.id)?bol.to10:board.listOfFreePoints[0].id===P1.id?board.listOfFreePoints[1]:board.listOfFreePoints[0];rot=_geometry.default.rad([1,
0],[0,0],[P1.symbolic.x,P1.symbolic.y]);var c=Math.cos(-rot);var s=Math.sin(-rot);for(i=0;i<board.listOfFreePoints.length;i++){var tx=board.listOfFreePoints[i].symbolic.x;board.listOfFreePoints[i].symbolic.x=c*board.listOfFreePoints[i].symbolic.x-s*board.listOfFreePoints[i].symbolic.y;board.listOfFreePoints[i].symbolic.y=s*tx+c*board.listOfFreePoints[i].symbolic.y}P1.symbolic.y=0;tx=xs;xs=c*xs-s*ys;ys=s*tx+c*ys;tx=xe;xe=c*xe-s*ye;ye=s*tx+c*ye;if(bol.stretch&&Math.abs(P1.symbolic.x)>_math.default.eps){sf=
P1.symbolic.x;for(i=0;i<board.listOfFreePoints.length;i++)board.listOfFreePoints[i].symbolic.x/=sf,board.listOfFreePoints[i].symbolic.y/=sf;for(i=0;i<board.objectsList.length;i++)board.objectsList[i].elementClass===_constants.default.OBJECT_CLASS_CIRCLE&&"pointRadius"===board.objectsList[i].method&&(oldRadius[i]=board.objectsList[i].radius,board.objectsList[i].radius/=sf);xs/=sf;xe/=sf;ys/=sf;ye/=sf;P1.symbolic.x=1}}for(i=0;i<board.listOfFreePoints.length;i++)tx=board.listOfFreePoints[i].symbolic.x,
Math.abs(tx)<_math.default.eps&&(board.listOfFreePoints[i].symbolic.x=0),Math.abs(tx-Math.round(tx))<_math.default.eps&&(board.listOfFreePoints[i].symbolic.x=Math.round(tx)),tx=board.listOfFreePoints[i].symbolic.y,Math.abs(tx)<_math.default.eps&&(board.listOfFreePoints[i].symbolic.y=0),Math.abs(tx-Math.round(tx))<_math.default.eps&&(board.listOfFreePoints[i].symbolic.y=Math.round(tx))}point=this.generatePolynomials(board,point).join(",");this.cbp=function(data){result=data};this.cb=_type.default.bind(this.cbp,
this);_server.default.modules.geoloci.lociCoCoA(xs,xe,ys,ye,numDependent,point,sf,rot,transx,transy,this.cb,!0);this.clearSymbolicCoordinates(board);for(i in oldRadius)oldRadius.hasOwnProperty(i)&&(board.objects[i].radius=oldRadius[i]);return result}};exports.default=_math.default.Symbolic}
//# sourceMappingURL=module$node_modules$$mentatcollective$jsxgraph$src$math$symbolic.js.map

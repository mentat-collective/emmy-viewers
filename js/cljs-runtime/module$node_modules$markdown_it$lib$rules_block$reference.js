shadow$provide.module$node_modules$markdown_it$lib$rules_block$reference=function(global,require,module,exports){var normalizeReference=require("module$node_modules$markdown_it$lib$common$utils").normalizeReference,isSpace=require("module$node_modules$markdown_it$lib$common$utils").isSpace;module.exports=function(state,startLine,_endLine,silent){var destEndPos,start,lines=0;var endLine=state.bMarks[startLine]+state.tShift[startLine];var i=state.eMarks[startLine];var href=startLine+1;if(4<=state.sCount[startLine]-
state.blkIndent||91!==state.src.charCodeAt(endLine))return!1;for(;++endLine<i;)if(93===state.src.charCodeAt(endLine)&&92!==state.src.charCodeAt(endLine-1)){if(endLine+1===i||58!==state.src.charCodeAt(endLine+1))return!1;break}endLine=state.lineMax;var str=state.md.block.ruler.getRules("reference");_endLine=state.parentType;for(state.parentType="reference";href<endLine&&!state.isEmpty(href);href++)if(!(3<state.sCount[href]-state.blkIndent||0>state.sCount[href])){var destEndLineNo=!1;i=0;for(destEndPos=
str.length;i<destEndPos;i++)if(str[i](state,href,endLine,!0)){destEndLineNo=!0;break}if(destEndLineNo)break}str=state.getLines(startLine,href,state.blkIndent,!1).trim();i=str.length;for(endLine=1;endLine<i;endLine++){var ch=str.charCodeAt(endLine);if(91===ch)return!1;if(93===ch){var label=endLine;break}else 10===ch?lines++:92===ch&&(endLine++,endLine<i&&10===str.charCodeAt(endLine)&&lines++)}if(0>label||58!==str.charCodeAt(label+1))return!1;for(endLine=label+2;endLine<i;endLine++)if(ch=str.charCodeAt(endLine),
10===ch)lines++;else if(!isSpace(ch))break;ch=state.md.helpers.parseLinkDestination(str,endLine,i);if(!ch.ok)return!1;href=state.md.normalizeLink(ch.str);if(!state.md.validateLink(href))return!1;endLine=ch.pos;lines+=ch.lines;destEndPos=endLine;destEndLineNo=lines;for(start=endLine;endLine<i;endLine++)if(ch=str.charCodeAt(endLine),10===ch)lines++;else if(!isSpace(ch))break;ch=state.md.helpers.parseLinkTitle(str,endLine,i);endLine<i&&start!==endLine&&ch.ok?(start=ch.str,endLine=ch.pos,lines+=ch.lines):
(start="",endLine=destEndPos,lines=destEndLineNo);for(;endLine<i;){ch=str.charCodeAt(endLine);if(!isSpace(ch))break;endLine++}if(endLine<i&&10!==str.charCodeAt(endLine)&&start)for(start="",endLine=destEndPos,lines=destEndLineNo;endLine<i;){ch=str.charCodeAt(endLine);if(!isSpace(ch))break;endLine++}if(endLine<i&&10!==str.charCodeAt(endLine))return!1;label=normalizeReference(str.slice(1,label));if(!label)return!1;if(silent)return!0;"undefined"===typeof state.env.references&&(state.env.references={});
"undefined"===typeof state.env.references[label]&&(state.env.references[label]={title:start,href});state.parentType=_endLine;state.line=startLine+lines+1;return!0}}
//# sourceMappingURL=module$node_modules$markdown_it$lib$rules_block$reference.js.map

{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$draw$grid.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/draw/grid.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$draw$grid\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Grid = void 0;\n\nvar UAxis = _interopRequireWildcard(require(\"../../../util/axis.js\"));\n\nvar UJS = _interopRequireWildcard(require(\"../../../util/js.js\"));\n\nvar _primitive = require(\"../../primitive.js\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Grid extends _primitive.Primitive {\n  static initClass() {\n    this.traits = [\"node\", \"object\", \"visible\", \"style\", \"line\", \"grid\", \"area\", \"position\", \"origin\", \"shade\", \"axis:x\", \"axis:y\", \"scale:x\", \"scale:y\", \"span:x\", \"span:y\"];\n    this.defaults = {\n      width: 1,\n      zBias: -2\n    };\n  }\n\n  constructor(node, context, helpers) {\n    super(node, context, helpers);\n    this.axes = null;\n  }\n\n  make() {\n    // Build transition mask lookup\n    let axis;\n\n    let mask = this._helpers.object.mask(); // Build fragment material lookup\n\n\n    const material = this._helpers.shade.pipeline() || false;\n\n    axis = (first, second, transpose) => {\n      // Prepare data buffer of tick positions\n      let position;\n\n      const detail = this._get(first + \"axis.detail\");\n\n      const samples = detail + 1;\n      const resolution = 1 / detail;\n\n      const strips = this._helpers.scale.divide(second);\n\n      const buffer = this._renderables.make(\"dataBuffer\", {\n        width: strips,\n        channels: 1\n      }); // Prepare position shader\n\n\n      const positionUniforms = {\n        gridPosition: this._attributes.make(this._types.vec4()),\n        gridStep: this._attributes.make(this._types.vec4()),\n        gridAxis: this._attributes.make(this._types.vec4())\n      };\n      const values = {\n        gridPosition: positionUniforms.gridPosition.value,\n        gridStep: positionUniforms.gridStep.value,\n        gridAxis: positionUniforms.gridAxis.value\n      }; // Build transform chain\n\n      const p = position = this._shaders.shader(); // Align second grid with first in mask space if requested\n\n\n      if (transpose != null && mask != null) {\n        mask = this._helpers.position.swizzle(mask, transpose);\n      } // Require buffer sampler as callback\n\n\n      p.require(buffer.shader(this._shaders.shader(), 2)); // Calculate grid position\n\n\n      p.pipe(\"grid.position\", positionUniforms); // Apply view transform\n\n      position = this._helpers.position.pipeline(p); // Prepare bound uniforms\n\n      const styleUniforms = this._helpers.style.uniforms();\n\n      const lineUniforms = this._helpers.line.uniforms();\n\n      const unitUniforms = this._inherit(\"unit\").getUnitUniforms();\n\n      const uniforms = UJS.merge(lineUniforms, styleUniforms, unitUniforms); // Make line renderable\n\n      const line = this._renderables.make(\"line\", {\n        uniforms,\n        samples,\n        strips,\n        position,\n        stroke,\n        join,\n        mask,\n        material\n      }); // Store axis object for manipulation later\n\n\n      return {\n        first,\n        second,\n        resolution,\n        samples,\n        line,\n        buffer,\n        values\n      };\n    }; // Generate both line sets\n\n\n    const {\n      lineX,\n      lineY,\n      crossed,\n      axes\n    } = this.props;\n    const transpose = [\"0000\", \"x000\", \"y000\", \"z000\", \"w000\"][axes[1]]; // Stroke style\n\n    const {\n      stroke,\n      join\n    } = this.props;\n    this.axes = [];\n    lineX && this.axes.push(axis(\"x.\", \"y.\", null));\n    lineY && this.axes.push(axis(\"y.\", \"x.\", crossed ? null : transpose)); // Register lines\n\n    const lines = (() => {\n      const result = [];\n\n      for (axis of this.axes) {\n        result.push(axis.line);\n      }\n\n      return result;\n    })();\n\n    this._helpers.visible.make();\n\n    this._helpers.object.make(lines);\n\n    this._helpers.span.make(); // Monitor view range\n\n\n    return this._listen(this, \"span.range\", this.updateRanges);\n  }\n\n  unmake() {\n    this._helpers.visible.unmake();\n\n    this._helpers.object.unmake();\n\n    this._helpers.span.unmake();\n\n    for (const axis of this.axes) {\n      axis.buffer.dispose();\n    }\n\n    this.axes = null;\n  }\n\n  change(changed, touched, init) {\n    if (changed[\"x.axis.detail\"] || changed[\"y.axis.detail\"] || changed[\"x.axis.factor\"] || changed[\"y.axis.factor\"] || changed[\"grid.lineX\"] || changed[\"grid.lineY\"] || changed[\"line.stroke\"] || changed[\"line.join\"] || changed[\"grid.crossed\"] || changed[\"grid.axes\"] && this.props.crossed) {\n      return this.rebuild();\n    }\n\n    if (touched[\"x\"] || touched[\"y\"] || touched[\"area\"] || touched[\"grid\"] || touched[\"view\"] || touched[\"origin\"] || init) {\n      return this.updateRanges();\n    }\n  }\n\n  updateRanges() {\n    const axis = (x, y, range1, range2, axis) => {\n      const {\n        second,\n        resolution,\n        samples,\n        line,\n        buffer,\n        values\n      } = axis; // Set line steps along first axis\n\n      let min = range1.x;\n      let max = range1.y;\n      UAxis.setDimension(values.gridPosition, x).multiplyScalar(min);\n      UAxis.setDimension(values.gridStep, x).multiplyScalar((max - min) * resolution); // Add origin on remaining two axes\n\n      UAxis.addOrigin(values.gridPosition, axes, origin); // Calculate scale along second axis\n\n      min = range2.x;\n      max = range2.y;\n\n      const ticks = this._helpers.scale.generate(second, buffer, min, max);\n\n      UAxis.setDimension(values.gridAxis, y); // Clip to number of ticks\n\n      const n = ticks.length;\n      return line.geometry.clip(samples, n, 1, 1);\n    }; // Fetch grid range in both dimensions\n\n\n    const {\n      axes,\n      origin\n    } = this.props;\n\n    const range1 = this._helpers.span.get(\"x.\", axes[0]);\n\n    const range2 = this._helpers.span.get(\"y.\", axes[1]); // Update both line sets\n\n\n    const {\n      lineX,\n      lineY\n    } = this.props;\n\n    if (lineX) {\n      axis(axes[0], axes[1], range1, range2, this.axes[0]);\n    }\n\n    if (lineY) {\n      axis(axes[1], axes[0], range2, range1, this.axes[+lineX]);\n    }\n\n    window.cake1 = this.axes[0].buffer;\n    window.cake2 = this.axes[1].buffer;\n    window.cake3 = this.axes[0];\n  }\n\n}\n\nexports.Grid = Grid;\nGrid.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","value","Grid","UAxis","UJS","_primitive","Primitive","initClass","traits","defaults","width","zBias","constructor","node","context","helpers","axes","make","axis","mask","_helpers","object","material","shade","pipeline","first","second","transpose","position","detail","_get","samples","resolution","strips","scale","divide","buffer","_renderables","channels","positionUniforms","gridPosition","_attributes","_types","vec4","gridStep","gridAxis","values","p","_shaders","shader","swizzle","pipe","styleUniforms","style","uniforms","lineUniforms","line","unitUniforms","_inherit","getUnitUniforms","merge","stroke","join","lineX","lineY","crossed","props","push","lines","result","visible","span","_listen","updateRanges","unmake","dispose","change","changed","touched","init","rebuild","x","y","range1","range2","min","max","setDimension","multiplyScalar","addOrigin","origin","ticks","generate","geometry","clip","length","window","cake1","cake2","cake3"]
}

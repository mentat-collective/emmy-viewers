{
"version":3,
"file":"module$node_modules$threestrap$src$core$loop.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,4CAAA,CAAiE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGxFF,OAAAG,CAAQ,8CAARA,CAENC,CAAAA,SAAUC,CAAAA,cAArB,CAAoC,MAApC,CAA4C,CAC1CC,SAAU,CACRC,MAAO,CAAA,CADC,CAERC,KAAM,CAFE,CADgC,CAK1CC,OAAQ,CAAC,OAAD,CALkC,CAM1CC,QAASA,QAAS,CAACC,KAAD,CAAQ,CACxB,IAAKC,CAAAA,OAAL,CAAe,CAAA,CACf,KAAKC,CAAAA,aAAL,CAAqB,IACrBF,MAAMG,CAAAA,IAAN,CAAa,IAAKC,CAAAA,GAAL,CAAS,CACpBR,MAAO,IAAKA,CAAAA,KAAMS,CAAAA,IAAX,CAAgB,IAAhB,CADa,CAEpBC,KAAM,IAAKA,CAAAA,IAAKD,CAAAA,IAAV,CAAe,IAAf,CAFc,CAGpBJ,QAAS,CAAA,CAHW,CAIZM,MAJY,CAAT,CAKVP,KALU,CAMb,KAAKQ,CAAAA,MAAL,CAAc,CAAC,KAAD,CAAQ,QAAR,CAAkB,QAAlB,CAA4B,MAA5B,CAAoCC,CAAAA,GAApC,CAAwC,QAAS,CAACC,IAAD,CAAO,CACpE,MAAO,CACCA,IADD,CAD6D,CAAxD,CATU,CANgB,CAqB1CC,UAAWA,QAAS,CAACX,KAAD,CAAQ,CAC1B,IAAKM,CAAAA,IAAL,CAAUN,KAAV,CAD0B,CArBc;AAwB1CY,MAAOA,QAAS,CAACC,KAAD,CAAQb,KAAR,CAAe,CACzB,IAAKc,CAAAA,OAAQlB,CAAAA,KAAjB,EAAwB,IAAKA,CAAAA,KAAL,CAAWI,KAAX,CADK,CAxBW,CA2B1CJ,MAAOA,QAAS,CAACI,KAAD,CAAQ,CACtB,GAASC,CAAL,IAAKA,CAAAA,OAAT,CAAA,CACAD,KAAMG,CAAAA,IAAKF,CAAAA,OAAX,CAAqB,IAAKA,CAAAA,OAA1B,CAAoC,CAAA,CACpC,KAAMc,QAAUf,KAAMe,CAAAA,OAAQV,CAAAA,IAAd,CAAmBL,KAAnB,CAAhB,CAEMgB,KAAO,QAAS,EAAG,CAClB,IAAKf,CAAAA,OAAV,GACA,IAAKC,CAAAA,aACL,CADqBF,KAAMG,CAAAA,IAAKI,CAAAA,MAAOU,CAAAA,qBAAlB,CAAwCD,IAAxC,CACrB,CAAA,IAAKR,CAAAA,MAAOC,CAAAA,GAAZ,CAAgBM,OAAhB,CAFA,CADuB,CAIvBV,CAAAA,IAJW,CAIN,IAJM,CAMb,KAAKH,CAAAA,aAAL,CAAqBF,KAAMG,CAAAA,IAAKI,CAAAA,MAAOU,CAAAA,qBAAlB,CAAwCD,IAAxC,CACrBhB,MAAMe,CAAAA,OAAN,CAAc,CACZL,KAAM,OADM,CAAd,CAXA,CADsB,CA3BkB,CA2C1CJ,KAAMA,QAAS,CAACN,KAAD,CAAQ,CAChB,IAAKC,CAAAA,OAAV,GACAD,KAAMG,CAAAA,IAAKF,CAAAA,OAGX,CAHqB,IAAKA,CAAAA,OAG1B,CAHoC,CAAA,CAGpC,CAFAD,KAAMG,CAAAA,IAAKI,CAAAA,MAAOW,CAAAA,oBAAlB,CAAuC,IAAKhB,CAAAA,aAA5C,CAEA;AADA,IAAKA,CAAAA,aACL,CADqB,IACrB,CAAAF,KAAMe,CAAAA,OAAN,CAAc,CACZL,KAAM,MADM,CAAd,CAJA,CADqB,CA3CmB,CAA5C,CALyG;",
"sources":["node_modules/threestrap/src/core/loop.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$threestrap$src$core$loop\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _bootstrap = require(\"../bootstrap\");\n\n_bootstrap.Bootstrap.registerPlugin(\"loop\", {\n  defaults: {\n    start: true,\n    each: 1\n  },\n  listen: [\"ready\"],\n  install: function (three) {\n    this.running = false;\n    this.lastRequestId = null;\n    three.Loop = this.api({\n      start: this.start.bind(this),\n      stop: this.stop.bind(this),\n      running: false,\n      window: window\n    }, three);\n    this.events = [\"pre\", \"update\", \"render\", \"post\"].map(function (type) {\n      return {\n        type: type\n      };\n    });\n  },\n  uninstall: function (three) {\n    this.stop(three);\n  },\n  ready: function (event, three) {\n    if (this.options.start) this.start(three);\n  },\n  start: function (three) {\n    if (this.running) return;\n    three.Loop.running = this.running = true;\n    const trigger = three.trigger.bind(three);\n\n    const loop = function () {\n      if (!this.running) return;\n      this.lastRequestId = three.Loop.window.requestAnimationFrame(loop);\n      this.events.map(trigger);\n    }.bind(this);\n\n    this.lastRequestId = three.Loop.window.requestAnimationFrame(loop);\n    three.trigger({\n      type: \"start\"\n    });\n  },\n  stop: function (three) {\n    if (!this.running) return;\n    three.Loop.running = this.running = false;\n    three.Loop.window.cancelAnimationFrame(this.lastRequestId);\n    this.lastRequestId = null;\n    three.trigger({\n      type: \"stop\"\n    });\n  }\n});\n};"],
"names":["shadow$provide","global","require","module","exports","_bootstrap","Bootstrap","registerPlugin","defaults","start","each","listen","install","three","running","lastRequestId","Loop","api","bind","stop","window","events","map","type","uninstall","ready","event","options","trigger","loop","requestAnimationFrame","cancelAnimationFrame"]
}

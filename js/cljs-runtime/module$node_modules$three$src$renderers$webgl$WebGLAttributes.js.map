{
"version":3,
"file":"module$node_modules$three$src$renderers$webgl$WebGLAttributes.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/three/src/renderers/webgl/WebGLAttributes.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$src$renderers$webgl$WebGLAttributes\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebGLAttributes = WebGLAttributes;\n\nfunction WebGLAttributes(gl, capabilities) {\n  const isWebGL2 = capabilities.isWebGL2;\n  const buffers = new WeakMap();\n\n  function createBuffer(attribute, bufferType) {\n    const array = attribute.array;\n    const usage = attribute.usage;\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(bufferType, buffer);\n    gl.bufferData(bufferType, array, usage);\n    attribute.onUploadCallback();\n    let type = gl.FLOAT;\n\n    if (array instanceof Float32Array) {\n      type = gl.FLOAT;\n    } else if (array instanceof Float64Array) {\n      console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');\n    } else if (array instanceof Uint16Array) {\n      if (attribute.isFloat16BufferAttribute) {\n        if (isWebGL2) {\n          type = gl.HALF_FLOAT;\n        } else {\n          console.warn('THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.');\n        }\n      } else {\n        type = gl.UNSIGNED_SHORT;\n      }\n    } else if (array instanceof Int16Array) {\n      type = gl.SHORT;\n    } else if (array instanceof Uint32Array) {\n      type = gl.UNSIGNED_INT;\n    } else if (array instanceof Int32Array) {\n      type = gl.INT;\n    } else if (array instanceof Int8Array) {\n      type = gl.BYTE;\n    } else if (array instanceof Uint8Array) {\n      type = gl.UNSIGNED_BYTE;\n    } else if (array instanceof Uint8ClampedArray) {\n      type = gl.UNSIGNED_BYTE;\n    }\n\n    return {\n      buffer: buffer,\n      type: type,\n      bytesPerElement: array.BYTES_PER_ELEMENT,\n      version: attribute.version\n    };\n  }\n\n  function updateBuffer(buffer, attribute, bufferType) {\n    const array = attribute.array;\n    const updateRange = attribute.updateRange;\n    gl.bindBuffer(bufferType, buffer);\n\n    if (updateRange.count === -1) {\n      // Not using update ranges\n      gl.bufferSubData(bufferType, 0, array);\n    } else {\n      if (isWebGL2) {\n        gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array, updateRange.offset, updateRange.count);\n      } else {\n        gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n      }\n\n      updateRange.count = -1; // reset range\n    }\n  } //\n\n\n  function get(attribute) {\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    return buffers.get(attribute);\n  }\n\n  function remove(attribute) {\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    const data = buffers.get(attribute);\n\n    if (data) {\n      gl.deleteBuffer(data.buffer);\n      buffers.delete(attribute);\n    }\n  }\n\n  function update(attribute, bufferType) {\n    if (attribute.isGLBufferAttribute) {\n      const cached = buffers.get(attribute);\n\n      if (!cached || cached.version < attribute.version) {\n        buffers.set(attribute, {\n          buffer: attribute.buffer,\n          type: attribute.type,\n          bytesPerElement: attribute.elementSize,\n          version: attribute.version\n        });\n      }\n\n      return;\n    }\n\n    if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n    const data = buffers.get(attribute);\n\n    if (data === undefined) {\n      buffers.set(attribute, createBuffer(attribute, bufferType));\n    } else if (data.version < attribute.version) {\n      updateBuffer(data.buffer, attribute, bufferType);\n      data.version = attribute.version;\n    }\n  }\n\n  return {\n    get: get,\n    remove: remove,\n    update: update\n  };\n}\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","get","attribute","isInterleavedBufferAttribute","data","remove","deleteBuffer","buffer","delete","update","bufferType","isGLBufferAttribute","cached","version","set","type","bytesPerElement","elementSize","undefined","array","usage","createBuffer","bindBuffer","bufferData","onUploadCallback","FLOAT","Float32Array","Float64Array","console","warn","Uint16Array","isFloat16BufferAttribute","HALF_FLOAT","UNSIGNED_SHORT","Int16Array","SHORT","Uint32Array","UNSIGNED_INT","Int32Array","INT","Int8Array","BYTE","Uint8Array","UNSIGNED_BYTE","Uint8ClampedArray","BYTES_PER_ELEMENT","updateRange","count","bufferSubData","offset","subarray"]
}

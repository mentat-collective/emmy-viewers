{"version":3,"sources":["nextjournal/markdown.cljs"],"mappings":";;;AAOA,AAAA,CAAA,AAAA,yEAAAA,zEAAaC;;AAAb,CAAA,AAAA,AAAaA,wFAEX,WAAUC,MAAKC;AAAf,AAAA,gBAAA,ZAAUD;AAAV,AAAoB,IAAAE,WAAOF;AAAP,AAAA,GAAA,GAAA,CAAAE,YAAA;AAAA,QAAAA,SAAA,AAAAC,yCAAYF;;AAAZG;;;AAEtB,AAAKC,gCAASC;AAEd;;;6BAAA,7BAAMC,kEAEHC;AAFH,AAEkB,uEAAA,2HAAIA,yDAAAA,nLAAcH,8DAAAA,6EAAAA,5MAASI;;AAE7C,AAAA;;;mCAAA,2CAAAC,9EAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+DAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+DAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,CAAA,iEAAA,jEAAMD,4EAEFJ;AAFJ,AAEmB,OAACM,+DAASC,wDAA4CP;;;AAFzE,CAAA,iEAAA,jEAAMI,4EAGFI,IAAIR;AAHR,+GAG4BA,3BAAcD,pFAAM,oFAAA,7EAACU,yEAA4BD;;;AAH7E,CAAA,2DAAA,3DAAMJ;;AAAN,AAKA","names":["cljs.core/PROTOCOL_SENTINEL","js/module$node_modules$markdown_it$lib$token","this","key","obj85930","applied-science.js-interop.impl/wrap-key","js/undefined","nextjournal.markdown/tokenize","js/module$js$markdown.tokenize","nextjournal.markdown/parse","markdown-text","nextjournal.markdown.parser.parse","var_args","G__85933","nextjournal.markdown/->hiccup","js/Error","nextjournal.markdown.__GT_hiccup","nextjournal.markdown.transform/default-hiccup-renderers","ctx","nextjournal.markdown.transform.__GT_hiccup"],"sourcesContent":["(ns nextjournal.markdown\n  (:require [\"/js/markdown\" :as md]\n            [\"markdown-it/lib/token\" :as Token]\n            [applied-science.js-interop :as j]\n            [nextjournal.markdown.parser :as markdown.parser]\n            [nextjournal.markdown.transform :as markdown.transform]))\n\n(extend-type Token\n  ILookup\n  (-lookup [this key] (j/get this key)))\n\n(def tokenize md/tokenize)\n\n(defn parse\n  \"Turns a markdown string into a nested clojure structure.\"\n  [markdown-text] (-> markdown-text tokenize markdown.parser/parse))\n\n(defn ->hiccup\n  \"Turns a markdown string into hiccup.\"\n  ([markdown-text] (->hiccup markdown.transform/default-hiccup-renderers markdown-text))\n  ([ctx markdown-text] (->> markdown-text parse (markdown.transform/->hiccup ctx))))\n\n(comment\n (tokenize \"# Title\n- [ ] one\n- [x] two\n\")\n\n (parse \"# Hello Markdown\n- [ ] what\n- [ ] [nice](very/nice/thing)\n- [x] ~~thing~~\n\")\n\n (->hiccup \"# Hello Markdown\n\n* What's _going_ on?\n\")\n\n (->hiccup\n  (assoc markdown.transform/default-hiccup-renderers\n    :heading (fn [ctx node]\n               [:h1.some-extra.class\n                (markdown.transform/into-markup [:span.some-other-class] ctx node)]))\n  \"# Hello Markdown\n* What's _going_ on?\n\")\n\n ;; launch shadow cljs repl\n (shadow.cljs.devtools.api/repl :browser-test))\n"]}
{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$present$transition.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/present/transition.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$present$transition\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Transition = void 0;\n\nvar _parent = require(\"../base/parent.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Transition extends _parent.Parent {\n  static initClass() {\n    this.traits = [\"node\", \"transition\", \"transform\", \"mask\", \"visible\", \"active\"];\n  }\n\n  init() {\n    this.animate = null;\n    this.uniforms = null;\n    this.state = {\n      isVisible: true,\n      isActive: true,\n      enter: 1,\n      exit: 1\n    };\n    this.latched = null;\n    return this.locked = null;\n  }\n\n  make() {\n    this.uniforms = {\n      transitionFrom: this._attributes.make(this._types.vec4()),\n      transitionTo: this._attributes.make(this._types.vec4()),\n      transitionActive: this._attributes.make(this._types.bool()),\n      transitionScale: this._attributes.make(this._types.vec4()),\n      transitionBias: this._attributes.make(this._types.vec4()),\n      transitionEnter: this._attributes.make(this._types.number()),\n      transitionExit: this._attributes.make(this._types.number()),\n      transitionSkew: this._attributes.make(this._types.number())\n    };\n\n    const slideParent = this._inherit(\"slide\");\n\n    const visibleParent = this._inherit(\"visible\");\n\n    const activeParent = this._inherit(\"active\");\n\n    this._listen(slideParent, \"transition.latch\", e => this.latch(e.step));\n\n    this._listen(slideParent, \"transition.release\", () => this.release());\n\n    this._listen(visibleParent, \"visible.change\", () => {\n      //console.log @node.toString(), 'visible.change ^', visibleParent.isVisible\n      return this.update(this.state.isVisible = visibleParent.isVisible);\n    });\n\n    this._listen(activeParent, \"active.change\", () => {\n      //console.log @node.toString(), 'active.change ^', activeParent.isActive\n      return this.update(this.state.isActive = activeParent.isActive);\n    });\n\n    this.animate = this._animator.make(this._types.vec2(1, 1), {\n      step: value => {\n        this.state.enter = value.x;\n        this.state.exit = value.y;\n        return this.update();\n      },\n      complete: done => this.complete(done)\n    });\n    return this.move = this.props.from != null || this.props.to != null;\n  } //@_helpers.visible.make()\n  //@_helpers.active.make()\n\n\n  unmake() {\n    return this.animate.dispose();\n  } //@_helpers.visible.unmake()\n  //@_helpers.active.unmake()\n\n\n  latch(step) {\n    let latched;\n    this.locked = null;\n    this.latched = latched = {\n      isVisible: this.state.isVisible,\n      isActive: this.state.isActive,\n      step\n    }; // Reset enter/exit animation if invisible\n\n    const visible = this.isVisible;\n\n    if (!visible) {\n      const forward = latched.step >= 0;\n      const [enter, exit] = Array.from(forward ? [0, 1] : [1, 0]);\n      return this.animate.set(enter, exit);\n    }\n  } //console.log @node.toString(), 'transition::latch', @latched, enter, exit\n\n\n  release() {\n    // Get before/after and unlatch state\n    const {\n      latched\n    } = this;\n    const {\n      state\n    } = this;\n    this.latched = null; //console.log @node.toString(), 'transition::release', JSON.parse JSON.stringify {latched, state}\n    //p = @; console.log '-> ', p.node.toString(), p.isVisible while p = p._inherit 'visible'\n    // Transition if visibility state change\n\n    if (latched.isVisible !== state.isVisible) {\n      // Maintain step direction\n      const forward = latched.step >= 0;\n      const visible = state.isVisible;\n      const [enter, exit] = Array.from(visible ? [1, 1] : forward ? [1, 0] : [0, 1]); // Get duration\n\n      let {\n        duration,\n        durationEnter,\n        durationExit\n      } = this.props;\n\n      if (durationEnter == null) {\n        durationEnter = duration;\n      }\n\n      if (durationExit == null) {\n        durationExit = duration;\n      }\n\n      duration = visible * durationEnter + !visible * durationExit; // Get delay\n\n      let {\n        delay,\n        delayEnter,\n        delayExit\n      } = this.props;\n\n      if (delayEnter == null) {\n        delayEnter = delay;\n      }\n\n      if (delayExit == null) {\n        delayExit = delay;\n      }\n\n      delay = visible * delayEnter + !visible * delayExit; // Animate enter/exit\n      //console.log @node.toString(), '@animate.immediate', {x: enter, y: exit}, {duration, delay, ease: 'linear'}\n\n      this.animate.immediate({\n        x: enter,\n        y: exit\n      }, {\n        duration,\n        delay,\n        ease: \"linear\"\n      }); // Lock visibility and active open during transition\n\n      this.locked = {\n        isVisible: true,\n        isActive: latched.isActive || state.isActive\n      };\n    }\n\n    return this.update();\n  }\n\n  complete(done) {\n    if (!done) {\n      return;\n    }\n\n    this.locked = null;\n    return this.update();\n  }\n\n  update() {\n    if (this.latched != null) {\n      return;\n    } // latched\n\n\n    let {\n      enter,\n      exit\n    } = this.props; // Resolve transition state\n\n    if (enter == null) {\n      ({\n        enter\n      } = this.state);\n    }\n\n    if (exit == null) {\n      ({\n        exit\n      } = this.state);\n    }\n\n    const level = enter * exit;\n    let visible = level > 0;\n    const partial = level < 1;\n    this.uniforms.transitionEnter.value = enter;\n    this.uniforms.transitionExit.value = exit;\n    this.uniforms.transitionActive.value = partial; // Resolve visibility state\n\n    if (visible) {\n      visible = !!this.state.isVisible;\n    }\n\n    if (this.locked != null) {\n      visible = this.locked.isVisible;\n    }\n\n    if (this.isVisible !== visible) {\n      this.isVisible = visible;\n      this.trigger({\n        type: \"visible.change\"\n      });\n    } // Resolve active state\n\n\n    const active = !!(this.state.isActive || (this.locked != null ? this.locked.isActive : undefined));\n\n    if (this.isActive !== active) {\n      this.isActive = active;\n      return this.trigger({\n        type: \"active.change\"\n      });\n    }\n  } //console.log 'transition update', 'enter', enter, 'exit', exit, 'visible', visible, 'active', active\n\n\n  change(changed, touched, init) {\n    if (changed[\"transition.enter\"] || changed[\"transition.exit\"] || init) {\n      this.update();\n    }\n\n    if (changed[\"transition.stagger\"] || init) {\n      const {\n        stagger\n      } = this.props; // Precompute shader constants\n\n      const flipX = stagger.x < 0;\n      const flipY = stagger.y < 0;\n      const flipZ = stagger.z < 0;\n      const flipW = stagger.w < 0;\n      const staggerX = Math.abs(stagger.x);\n      const staggerY = Math.abs(stagger.y);\n      const staggerZ = Math.abs(stagger.z);\n      const staggerW = Math.abs(stagger.w);\n      this.uniforms.transitionSkew.value = staggerX + staggerY + staggerZ + staggerW;\n      this.uniforms.transitionScale.value.set((1 - flipX * 2) * staggerX, (1 - flipY * 2) * staggerY, (1 - flipZ * 2) * staggerZ, (1 - flipW * 2) * staggerW);\n      return this.uniforms.transitionBias.value.set(flipX * staggerX, flipY * staggerY, flipZ * staggerZ, flipW * staggerW);\n    }\n  }\n\n}\n\nexports.Transition = Transition;\nTransition.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Transition","_parent","Parent","initClass","traits","init","uniforms","animate","state","isVisible","isActive","enter","exit","locked","latched","make","transitionFrom","_attributes","_types","vec4","transitionTo","transitionActive","bool","transitionScale","transitionBias","transitionEnter","number","transitionExit","transitionSkew","slideParent","_inherit","visibleParent","activeParent","_listen","e","latch","step","release","update","_animator","vec2","x","y","complete","done","move","props","from","to","unmake","dispose","Array","set","forward","visible","duration","durationEnter","durationExit","delay","delayEnter","delayExit","immediate","ease","level","trigger","type","active","change","changed","touched","stagger","flipX","flipY","flipZ","z","flipW","w","staggerX","Math","abs","staggerY","staggerZ","staggerW"]
}

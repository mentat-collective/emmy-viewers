shadow$provide.module$node_modules$$mentatcollective$jsxgraph$src$element$slider=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;global=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$jxg"));var _math=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$math$math")),_constants=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$constants")),
_coords=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$coords")),_type=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$utils$type")),_point=_interopRequireDefault(require("module$node_modules$$mentatcollective$jsxgraph$src$base$point"));global.default.createSlider=function(board,parents,attributes){var pos1=_type.default.copyAttributes(attributes,board.options,"slider");var withTicks=pos1.withticks;var withText=pos1.withlabel;
var snapWidth=pos1.snapwidth;pos1=_type.default.copyAttributes(attributes,board.options,"slider","point1");var p1=board.create("point",parents[0],pos1);pos1=_type.default.copyAttributes(attributes,board.options,"slider","point2");var p2=board.create("point",parents[1],pos1);pos1=_type.default.copyAttributes(attributes,board.options,"slider","baseline");var l1=board.create("segment",[p1,p2],pos1);l1.updateStdform();var pos0=p1.coords.usrCoords.slice(1);pos1=p2.coords.usrCoords.slice(1);var smin=parents[2][0];
var start=parents[2][1];var smax=parents[2][2];var sdiff=smax-smin;var sw=_type.default.evaluate(snapWidth);sw=-1===sw?start:Math.round(start/sw)*sw;start=pos0[0]+(pos1[0]-pos0[0])*(sw-smin)/(smax-smin);pos0=pos0[1]+(pos1[1]-pos0[1])*(sw-smin)/(smax-smin);pos1=_type.default.copyAttributes(attributes,board.options,"slider");pos1.withLabel=!1;var p3=board.create("glider",[start,pos0,l1],pos1);p3.setAttribute({snapwidth:snapWidth});pos1=_type.default.copyAttributes(attributes,board.options,"slider",
"highline");var l2=board.create("segment",[p1,p3],pos1);p3.Value=function(){var sdiff=this._smax-this._smin,ev_sw=_type.default.evaluate(this.visProp.snapwidth);return-1===ev_sw?this.position*sdiff+this._smin:Math.round((this.position*sdiff+this._smin)/ev_sw)*ev_sw};p3.methodMap=_type.default.deepCopy(p3.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin"});p3._smax=smax;p3._smin=smin;p3.setMax=function(val){this._smax=val;return this};p3.setValue=
function(val){var sdiff=this._smax-this._smin;this.position=Math.abs(sdiff)>_math.default.eps?(val-this._smin)/sdiff:0;this.position=Math.max(0,Math.min(1,this.position));return this};p3.setMin=function(val){this._smin=val;return this};if(withText){pos1=_type.default.copyAttributes(attributes,board.options,"slider","label");var t=board.create("text",[function(){return.05*(p2.X()-p1.X())+p2.X()},function(){return.05*(p2.Y()-p1.Y())+p2.Y()},function(){var d=_type.default.evaluate(p3.visProp.digits);
var n=_type.default.evaluate(p3.visProp.suffixlabel);var ul=_type.default.evaluate(p3.visProp.unitlabel),pl=_type.default.evaluate(p3.visProp.postlabel);2===d&&2!==_type.default.evaluate(p3.visProp.precision)&&(d=_type.default.evaluate(p3.visProp.precision));n=null!==n?n:p3.name&&""!==p3.name?p3.name+" \x3d ":"";n+=_type.default.toFixed(p3.Value(),d);null!==ul&&(n+=ul);null!==pl&&(n+=pl);return n}],pos1);p3.label=t;p3.visProp.withlabel=!0;p3.hasLabel=!0}p3.point1=p1;p3.point2=p2;p3.baseline=l1;p3.highline=
l2;if(withTicks){pos1=_type.default.copyAttributes(attributes,board.options,"slider","ticks");_type.default.exists(pos1.generatelabeltext)||(pos1.generateLabelText=function(tick,zero,value){value=p3.point1.Dist(p3.point2);var smin=p3._smin,smax=p3._smax;tick=this.getDistanceFromZero(zero,tick)*(smax-smin)/value+smin;return value<_math.default.eps||Math.abs(tick)<_math.default.eps?"0":this.formatLabelText(tick)});var ti=board.create("ticks",[p3.baseline,p3.point1.Dist(p1)/2,function(tick){var dFull=
p3.point1.Dist(p3.point2);tick=p3.point1.coords.distance(_constants.default.COORDS_BY_USER,tick);return dFull<_math.default.eps?0:tick/dFull*sdiff+smin}],pos1);p3.ticks=ti}p3.remove=function(){withText&&board.removeObject(t);board.removeObject(l2);board.removeObject(l1);board.removeObject(p2);board.removeObject(p1);_point.default.Point.prototype.remove.call(p3)};p1.dump=!1;p2.dump=!1;l1.dump=!1;l2.dump=!1;withText&&(t.dump=!1);p3.elType="slider";p3.parents=parents;p3.subs={point1:p1,point2:p2,baseLine:l1,
highLine:l2};p3.inherits.push(p1,p2,l1,l2);withTicks&&(ti.dump=!1,p3.subs.ticks=ti,p3.inherits.push(ti));p3.getParents=function(){return[this.point1.coords.usrCoords.slice(1),this.point2.coords.usrCoords.slice(1),[this._smin,this.position*(this._smax-this._smin)+this._smin,this._smax]]};p3.baseline.on("up",function(evt){_type.default.evaluate(p3.visProp.moveonup)&&!_type.default.evaluate(p3.visProp.fixed)&&(evt=l1.board.getMousePosition(evt,0),evt=new _coords.default(_constants.default.COORDS_BY_SCREEN,
evt,this.board),p3.moveTo([evt.usrCoords[1],evt.usrCoords[2]]))});p3.prepareUpdate().update();board.isSuspendedUpdate||(p3.updateVisibility().updateRenderer(),p3.baseline.updateVisibility().updateRenderer(),p3.highline.updateVisibility().updateRenderer(),withTicks&&p3.ticks.updateVisibility().updateRenderer());return p3};global.default.registerElement("slider",global.default.createSlider);exports.default={createSlider:global.default.createSlider}}
//# sourceMappingURL=module$node_modules$$mentatcollective$jsxgraph$src$element$slider.js.map

{
"version":3,
"file":"module$node_modules$mathbox$build$esm$splash.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/splash.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$splash\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _bootstrap = require(\"threestrap/src/bootstrap.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n// Threestrap plugin\n_bootstrap.Bootstrap.registerPlugin(\"splash\", {\n  defaults: {\n    color: \"mono\",\n    fancy: true\n  },\n  listen: [\"ready\", \"mathbox/init:init\", \"mathbox/progress:progress\", \"mathbox/destroy:destroy\"],\n\n  uninstall() {\n    return this.destroy();\n  },\n\n  ready(event, three) {\n    if (three.MathBox && !this.div) {\n      // TODO woah seems wrong!!!\n      return this.init(event, three);\n    }\n  },\n\n  init(event, three) {\n    let div;\n    this.destroy();\n    const {\n      color\n    } = this.options;\n    const html = `\\\n<div class=\"mathbox-loader mathbox-splash-${color}\">\n  <div class=\"mathbox-logo\">\n    <div> <div></div><div></div><div></div> </div>\n    <div> <div></div><div></div><div></div> </div>\n  </div>\n  <div class=\"mathbox-progress\"><div></div></div>\n</div>\\\n`;\n    this.div = div = document.createElement(\"div\");\n    div.innerHTML = html;\n    three.element.appendChild(div);\n    const x = Math.random() * 2 - 1;\n    const y = Math.random() * 2 - 1;\n    const z = Math.random() * 2 - 1;\n    const l = 1 / Math.sqrt(x * x + y * y + z * z);\n    this.loader = div.querySelector(\".mathbox-loader\");\n    this.bar = div.querySelector(\".mathbox-progress > div\");\n    this.gyro = div.querySelectorAll(\".mathbox-logo > div\");\n    this.transforms = [\"rotateZ(22deg) rotateX(24deg) rotateY(30deg)\", \"rotateZ(11deg) rotateX(12deg) rotateY(15deg) scale3d(.6, .6, .6)\"];\n    this.random = [x * l, y * l, z * l];\n    this.start = three.Time.now;\n    return this.timer = null;\n  },\n\n  // Update splash screen state and animation\n  progress(event, three) {\n    if (!this.div) {\n      return;\n    }\n\n    const {\n      current,\n      total\n    } = event; // Display splash screen\n\n    const visible = current < total;\n    clearTimeout(this.timer);\n\n    if (visible) {\n      this.loader.classList.remove(\"mathbox-exit\");\n      this.loader.style.display = \"block\";\n    } else {\n      this.loader.classList.add(\"mathbox-exit\");\n      this.timer = setTimeout(() => {\n        return this.loader.style.display = \"none\";\n      }, 150);\n    } // Update splash progress\n\n\n    const width = current < total ? Math.round(1000 * current / total) * 0.1 + \"%\" : \"100%\";\n    this.bar.style.width = width;\n\n    if (this.options.fancy) {\n      // Spinny gyros\n      const weights = this.random; // Lerp clock speed\n\n      const f = Math.max(0, Math.min(1, three.Time.now - this.start));\n\n      const increment = function (transform, j) {\n        if (j == null) {\n          j = 0;\n        }\n\n        return transform.replace(/(-?[0-9.e]+)deg/g, (_, n) => +n + weights[j++] * f * three.Time.step * 60 + \"deg\");\n      };\n\n      return (() => {\n        const result = [];\n\n        for (let i = 0; i < this.gyro.length; i++) {\n          let t;\n          const el = this.gyro[i];\n          this.transforms[i] = t = increment(this.transforms[i]);\n          result.push(el.style.transform = el.style.WebkitTransform = t);\n        }\n\n        return result;\n      })();\n    }\n  },\n\n  destroy() {\n    if (this.div != null) {\n      this.div.remove();\n    }\n\n    return this.div = null;\n  }\n\n});\n};"],
"names":["shadow$provide","global","require","module","exports","_bootstrap","Bootstrap","registerPlugin","defaults","color","fancy","listen","uninstall","destroy","ready","event","three","MathBox","div","init","options","html","document","createElement","innerHTML","element","appendChild","x","Math","random","y","z","l","sqrt","loader","querySelector","bar","gyro","querySelectorAll","transforms","start","Time","now","timer","progress","current","total","visible","clearTimeout","classList","remove","style","display","add","setTimeout","width","round","weights","f","max","min","increment","transform","j","replace","_","n","step","result","i","length","t","el","push","WebkitTransform"]
}

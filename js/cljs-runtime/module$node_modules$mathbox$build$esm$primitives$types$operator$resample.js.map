{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$operator$resample.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/operator/resample.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$operator$resample\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Resample = void 0;\n\nvar UGLSL = _interopRequireWildcard(require(\"../../../util/glsl.js\"));\n\nvar _operator = require(\"./operator.js\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Resample extends _operator.Operator {\n  static initClass() {\n    this.traits = [\"node\", \"bind\", \"operator\", \"source\", \"index\", \"resample\", \"sampler:x\", \"sampler:y\", \"sampler:z\", \"sampler:w\", \"include\"];\n  }\n\n  indexShader(shader) {\n    shader.pipe(this.indexer);\n    return super.indexShader(shader);\n  }\n\n  sourceShader(shader) {\n    return shader.pipe(this.operator);\n  }\n\n  getDimensions() {\n    return this._resample(this.bind.source.getDimensions());\n  }\n\n  getActiveDimensions() {\n    return this._resample(this.bind.source.getActiveDimensions());\n  }\n\n  getFutureDimensions() {\n    return this._resample(this.bind.source.getFutureDimensions());\n  }\n\n  getIndexDimensions() {\n    return this._resample(this.bind.source.getIndexDimensions());\n  }\n\n  _resample(dims) {\n    const r = this.resampled;\n    const c = this.centered;\n    const p = this.padding;\n\n    if (this.relativeSize) {\n      if (!c.items) {\n        dims.items--;\n      }\n\n      if (!c.width) {\n        dims.width--;\n      }\n\n      if (!c.height) {\n        dims.height--;\n      }\n\n      if (!c.depth) {\n        dims.depth--;\n      }\n\n      if (r.items != null) {\n        dims.items *= r.items;\n      }\n\n      if (r.width != null) {\n        dims.width *= r.width;\n      }\n\n      if (r.height != null) {\n        dims.height *= r.height;\n      }\n\n      if (r.depth != null) {\n        dims.depth *= r.depth;\n      }\n\n      if (!c.items) {\n        dims.items++;\n      }\n\n      if (!c.width) {\n        dims.width++;\n      }\n\n      if (!c.height) {\n        dims.height++;\n      }\n\n      if (!c.depth) {\n        dims.depth++;\n      }\n\n      dims.items -= p.items * 2;\n      dims.width -= p.width * 2;\n      dims.height -= p.height * 2;\n      dims.depth -= p.depth * 2;\n    } else {\n      if (r.items != null) {\n        dims.items = r.items;\n      }\n\n      if (r.width != null) {\n        dims.width = r.width;\n      }\n\n      if (r.height != null) {\n        dims.height = r.height;\n      }\n\n      if (r.depth != null) {\n        dims.depth = r.depth;\n      }\n    }\n\n    dims.items = Math.max(0, Math.floor(dims.items));\n    dims.width = Math.max(0, Math.floor(dims.width));\n    dims.height = Math.max(0, Math.floor(dims.height));\n    dims.depth = Math.max(0, Math.floor(dims.depth));\n    return dims;\n  }\n\n  make() {\n    super.make();\n\n    if (this.bind.source == null) {\n      return;\n    } // Bind to attached shader\n\n\n    this._helpers.bind.make([{\n      to: \"include.shader\",\n      trait: \"shader\",\n      optional: true\n    }]); // Get custom shader\n\n\n    const {\n      indices,\n      channels\n    } = this.props;\n    const {\n      shader\n    } = this.bind; // Get resampled dimensions (if any)\n\n    const {\n      sample,\n      size,\n      items,\n      width,\n      height,\n      depth\n    } = this.props; // Sampler behavior\n\n    const relativeSample = sample === this.node.attributes[\"resample.sample\"].enum.relative;\n    const relativeSize = size === this.node.attributes[\"resample.size\"].enum.relative;\n    this.resampled = {};\n\n    if (items != null) {\n      this.resampled.items = items;\n    }\n\n    if (width != null) {\n      this.resampled.width = width;\n    }\n\n    if (height != null) {\n      this.resampled.height = height;\n    }\n\n    if (depth != null) {\n      this.resampled.depth = depth;\n    }\n\n    this.centered = {};\n    this.centered.items = this.props.centeredW;\n    this.centered.width = this.props.centeredX;\n    this.centered.height = this.props.centeredY;\n    this.centered.depth = this.props.centeredZ;\n    this.padding = {};\n    this.padding.items = this.props.paddingW;\n    this.padding.width = this.props.paddingX;\n    this.padding.height = this.props.paddingY;\n    this.padding.depth = this.props.paddingZ; // Build shader to resample data\n\n    const operator = this._shaders.shader();\n\n    const indexer = this._shaders.shader(); // Uniforms\n\n\n    const type = [null, this._types.number, this._types.vec2, this._types.vec3, this._types.vec4][indices];\n    const uniforms = {\n      dataSize: this._attributes.make(type(0, 0, 0, 0)),\n      dataResolution: this._attributes.make(type(0, 0, 0, 0)),\n      targetSize: this._attributes.make(type(0, 0, 0, 0)),\n      targetResolution: this._attributes.make(type(0, 0, 0, 0)),\n      resampleFactor: this._attributes.make(this._types.vec4(0, 0, 0, 0)),\n      resampleBias: this._attributes.make(this._types.vec4(0, 0, 0, 0))\n    };\n    this.dataResolution = uniforms.dataResolution;\n    this.dataSize = uniforms.dataSize;\n    this.targetResolution = uniforms.targetResolution;\n    this.targetSize = uniforms.targetSize;\n    this.resampleFactor = uniforms.resampleFactor;\n    this.resampleBias = uniforms.resampleBias; // Has resize props?\n\n    const resize = items != null || width != null || height != null || depth != null; // Add padding\n\n    operator.pipe(\"resample.padding\", uniforms); // Add centered sampling offset\n\n    let vec = [];\n    let any = false;\n    const iterable = [\"width\", \"height\", \"depth\", \"items\"];\n\n    for (let i = 0; i < iterable.length; i++) {\n      const key = iterable[i];\n      const centered = this.centered[key];\n\n      if (!any) {\n        any = centered;\n      }\n\n      vec[i] = centered ? \"0.5\" : \"0.0\";\n    }\n\n    if (any) {\n      vec = `vec4(${vec})`; // TODO is this right? seems like copy paste.\n\n      operator.pipe(UGLSL.binaryOperator(4, \"+\", vec));\n\n      if (resize) {\n        indexer.pipe(UGLSL.binaryOperator(4, \"+\", vec));\n      }\n    }\n\n    if (relativeSample) {\n      // Addressing relative to target\n      if (resize) {\n        operator.pipe(\"resample.relative\", uniforms);\n        indexer.pipe(\"resample.relative\", uniforms);\n      } else {\n        indexer.pipe(UGLSL.identity(\"vec4\"));\n      }\n    }\n\n    if (shader != null) {\n      if (indices !== 4) {\n        operator.pipe(UGLSL.truncateVec(4, indices));\n      }\n\n      operator.callback();\n\n      if (indices !== 4) {\n        operator.pipe(UGLSL.extendVec(indices, 4));\n      }\n\n      if (any) {\n        operator.pipe(UGLSL.binaryOperator(4, \"-\", vec));\n      }\n\n      operator.pipe(this.bind.source.sourceShader(this._shaders.shader()));\n\n      if (channels !== 4) {\n        operator.pipe(UGLSL.truncateVec(4, channels));\n      }\n\n      operator.join();\n\n      if (this.bind.shader != null) {\n        operator.pipe(this.bind.shader.shaderBind(uniforms));\n      }\n\n      if (channels !== 4) {\n        operator.pipe(UGLSL.extendVec(channels, 4));\n      }\n    } else {\n      if (any) {\n        operator.pipe(UGLSL.binaryOperator(4, \"-\", vec));\n      }\n\n      operator.pipe(this.bind.source.sourceShader(this._shaders.shader()));\n    }\n\n    if (any && resize) {\n      indexer.pipe(UGLSL.binaryOperator(4, \"-\", vec));\n    }\n\n    this.operator = operator;\n    this.indexer = indexer;\n    this.indices = indices;\n    this.relativeSample = relativeSample;\n    return this.relativeSize = relativeSize;\n  }\n\n  unmake() {\n    super.unmake();\n    return this.operator = null;\n  }\n\n  resize() {\n    if (this.bind.source == null) {\n      return;\n    }\n\n    const dims = this.bind.source.getActiveDimensions();\n    const target = this.getActiveDimensions();\n\n    const axis = key => {\n      const centered = this.centered[key];\n      const pad = this.padding[key];\n      target[key] += pad * 2;\n      const res = centered ? dims[key] / Math.max(1, target[key]) : Math.max(1, dims[key] - 1) / Math.max(1, target[key] - 1);\n      return [res, pad];\n    };\n\n    const [rw, bw] = Array.from(axis(\"width\"));\n    const [rh, bh] = Array.from(axis(\"height\"));\n    const [rd, bd] = Array.from(axis(\"depth\"));\n    const [ri, bi] = Array.from(axis(\"items\"));\n\n    if (this.indices === 1) {\n      this.dataResolution.value = 1 / dims.width;\n      this.targetResolution.value = 1 / target.width;\n      this.dataSize.value = dims.width;\n      this.targetSize.value = target.width;\n    } else {\n      this.dataResolution.value.set(1 / dims.width, 1 / dims.height, 1 / dims.depth, 1 / dims.items);\n      this.targetResolution.value.set(1 / target.width, 1 / target.height, 1 / target.depth, 1 / target.items);\n      this.dataSize.value.set(dims.width, dims.height, dims.depth, dims.items);\n      this.targetSize.value.set(target.width, target.height, target.depth, target.items);\n    }\n\n    this.resampleFactor.value.set(rw, rh, rd, ri);\n    this.resampleBias.value.set(bw, bh, bd, bi);\n    return super.resize();\n  }\n\n  change(changed, touched, _init) {\n    if (touched[\"operator\"] || touched[\"resample\"] || touched[\"sampler\"] || touched[\"include\"]) {\n      return this.rebuild();\n    }\n  }\n\n}\n\nexports.Resample = Resample;\nResample.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","Object","defineProperty","value","Resample","UGLSL","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_operator","Operator","initClass","traits","indexShader","shader","pipe","indexer","sourceShader","operator","getDimensions","_resample","bind","source","getActiveDimensions","getFutureDimensions","getIndexDimensions","dims","r","resampled","c","centered","p","padding","relativeSize","items","width","height","depth","Math","max","floor","make","_helpers","to","trait","optional","indices","channels","props","sample","size","relativeSample","node","attributes","enum","relative","centeredW","centeredX","centeredY","centeredZ","paddingW","paddingX","paddingY","paddingZ","_shaders","type","_types","number","vec2","vec3","vec4","uniforms","dataSize","_attributes","dataResolution","targetSize","targetResolution","resampleFactor","resampleBias","resize","vec","any","iterable","i","length","binaryOperator","identity","truncateVec","callback","extendVec","join","shaderBind","unmake","target","axis","pad","res","rw","bw","Array","from","rh","bh","rd","bd","ri","bi","change","changed","touched","_init","rebuild"]
}

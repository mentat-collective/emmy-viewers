{
"version":3,
"file":"module$node_modules$mathbox$build$esm$stage$api.js",
"lineCount":12,
"mappings":"AAAAA,cAAA,CAAA,+CAAA,CAAoE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAY5GC,QAASA,yBAAwB,CAACC,oBAAD,CAAc,CAAE,GAAuB,UAAvB,GAAI,MAAOC,QAAX,CAAmC,MAAO,KAAM,KAAIC,kBAAoB,IAAID,OAA5B,CAA2CE,iBAAmB,IAAIF,OAAW,OAAO,CAACF,wBAAD,CAA4BA,QAAS,CAACC,WAAD,CAAc,CAAE,MAAOA,YAAA,CAAcG,gBAAd,CAAiCD,iBAA1C,CAAnD,EAAmHF,oBAAnH,CAAtI,CAE/CI,QAASA,wBAAuB,CAACC,GAAD,CAAML,WAAN,CAAmB,CAAE,GAAI,CAACA,WAAL,EAAoBK,GAApB,EAA2BA,GAAIC,CAAAA,UAA/B,CAA6C,MAAOD,IAAO,IAAY,IAAZ;AAAIA,GAAJ,EAAmC,QAAnC,GAAoB,MAAOA,IAA3B,EAA8D,UAA9D,GAA+C,MAAOA,IAAtD,CAA4E,MAAO,CAAEE,QAASF,GAAX,CAAuE,KAA/CG,WAA+C,CAAvCT,wBAAA,CAAyBC,WAAzB,CAAuC,GAAaQ,WAAMC,CAAAA,GAAN,CAAUJ,GAAV,CAAb,CAA+B,MAAOG,YAAME,CAAAA,GAAN,CAAUL,GAAV,CAAkB,KAAIM,OAAS,EAAb,CAAqBC,sBAAwBC,MAAOC,CAAAA,cAA/BF,EAAiDC,MAAOE,CAAAA,wBAA7E,CAAgHC,GAAT,KAASA,GAAT,GAAgBX,IAAhB,CAAuB,GAAY,SAAZ,GAAIW,GAAJ,EAAyBH,MAAOI,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqCd,GAArC,CAA0CW,GAA1C,CAAzB,CAAyE,CAAE,IAAII,KAAOR,qBAAA,CAAwBC,MAAOE,CAAAA,wBAAP,CAAgCV,GAAhC,CAAqCW,GAArC,CAAxB,CAAoE,IAAUI,KAAJ,GAAaA,IAAKV,CAAAA,GAAlB,EAAyBU,IAAKC,CAAAA,GAA9B,EAAsCR,MAAOC,CAAAA,cAAP,CAAsBH,MAAtB,CAA8BK,GAA9B,CAAmCI,IAAnC,CAAtC,CAAyFT,MAAA,CAAOK,GAAP,CAAzF;AAAuGX,GAAA,CAAIW,GAAJ,CAA9L,CAA8ML,MAAOJ,CAAAA,OAAP,CAAiBF,GAASG,YAAJ,EAAaA,WAAMa,CAAAA,GAAN,CAAUhB,GAAV,CAAeM,MAAf,CAA0B,OAAOA,OAAxuB,CA6TnDW,QAASA,UAAS,CAACC,IAAD,CAAOC,KAAP,CAAcC,SAAd,CAAyB,CACzC,MAAMC,MAAQ,EAAd,CACMC,UAAYJ,IAAZI,CAAmBH,KAGzB,KAFMI,KAEN,CAFaH,SAAD,CAAqBE,SAAA,CAAYH,KAAZ,CAAoB,CAApB,CAAwBA,KAAxB,CAAgC,CAArD,CAAaA,KAEzB,CAAmBG,SAAA,CAAYE,IAAZ,CAAgBD,KAAhB,CAAsBC,IAAtB,CAA0BD,KAA7C,CAAkDD,SAAA,CAAYE,IAAA,EAAZ,CAAkBA,IAAA,EAApE,CACEH,KAAMI,CAAAA,IAAN,CAAWD,IAAX,CAGF,OAAOH,MATkC,CAxU3Cb,MAAOC,CAAAA,cAAP,CAAsBhB,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CiC,MAAO,CAAA,CADoC,CAA7C,CAGAjC,QAAQkC,CAAAA,GAAR,CAAc,IAAK,EAEnB,KAAIC,OAAS7B,uBAAA,CAAwBR,OAAA,CAAQ,mDAAR,CAAxB,CAAb,CAEIsC,YAAc9B,uBAAA,CAAwBR,OAAA,CAAQ,2CAAR,CAAxB,CAkBlB;KAAMoC,IAAN,CACEG,EAAE,EAAG,CACH,MAAO,KADJ,CAILC,WAAW,CAACC,QAAD,CAAWC,GAAX,CAAgBC,QAAhB,CAA0B,CACnC,IAAKF,CAAAA,QAAL,CAAgBA,QAChB,KAAKC,CAAAA,GAAL,CAAWA,GACX,KAAKC,CAAAA,QAAL,CAAgBA,QAEVC,SAAAA,CAAO,IAAKH,CAAAA,QAASI,CAAAA,UAAWC,CAAAA,OAAzB,EAEQ,KAArB,EAAI,IAAKH,CAAAA,QAAT,GACE,IAAKA,CAAAA,QADP,CACkB,CAACC,QAAD,CADlB,CAIA,KAAKG,CAAAA,MAAL,CAAuC,CAAvC,GAAc,IAAKJ,CAAAA,QAASK,CAAAA,MAA5B,EAA4C,IAAKL,CAAAA,QAAL,CAAc,CAAd,CAA5C,GAAiEC,QACjE,KAAKK,CAAAA,MAAL,CAAuC,CAAvC,GAAc,IAAKN,CAAAA,QAASK,CAAAA,MAA5B,EAAyE,IAAzE,EAA4C,IAAKL,CAAAA,QAAL,CAAc,CAAd,CAAiBO,CAAAA,QAE7D,KAASjB,QAAT,CAAa,CAAb,CAAgBA,QAAhB,CAAoB,IAAKU,CAAAA,QAASK,CAAAA,MAAlC,CAA0Cf,QAAA,EAA1C,CAEE,IAAA,CAAKA,QAAL,CAAA,CADU,IAAKU,CAAAA,QAALQ,CAAclB,QAAdkB,CAIZ,KAAKH,CAAAA,MAAL,CAAc,IAAKL,CAAAA,QAASK,CAAAA,MAE5B,KAAK,MAAMI,IAAX,GAAmBC,MAAMC,CAAAA,IAAN,CAAW,IAAKb,CAAAA,QAASI,CAAAA,UAAWU,CAAAA,QAAzB,EAAX,CAAnB,CACO,CAAC,MAAD,CAASC,CAAAA,QAAT,CAAkBJ,IAAlB,CAAL;CACE,IAAA,CAAKA,IAAL,CADF,CACe,CAACK,OAAD,CAAUC,KAAV,CAAA,EAAoB,IAAKC,CAAAA,GAAL,CAASP,IAAT,CAAeK,OAAf,CAAwBC,KAAxB,CADnC,CAtBiC,CA4BrCE,MAAM,CAACC,QAAD,CAAW,CACTC,QAAAA,CAAU,IAAKrB,CAAAA,QAASsB,CAAAA,KAAMH,CAAAA,MAApB,CAA2BC,QAA3B,CAAsC,IAAKd,CAAAA,MAAN,CAA+B,IAA/B,CAAe,IAAKJ,CAAAA,QAAzD,CAEhB,OAAO,KAAKqB,CAAAA,KAAL,CAAWF,QAAX,CAHQ,CAMjBG,EAAE,CAACC,KAAD,CAAQ,CACR,MAAI,KAAKvB,CAAAA,QAASK,CAAAA,MAAlB,CAA2BkB,KAA3B,CACS,IAAKF,CAAAA,KAAL,CAAW,CAAC,IAAKrB,CAAAA,QAAL,CAAcuB,KAAd,CAAD,CAAX,CADT,CAIO,IAAKF,CAAAA,KAAL,CAAW,EAAX,CALC,CAQVG,MAAM,CAACC,QAAD,CAAW,CACf,GAAwB,QAAxB,GAAI,MAAOA,SAAX,CAAkC,CAChC,MAAMC,QAAU,IAAK5B,CAAAA,QAASsB,CAAAA,KAAMO,CAAAA,QAApB,CAA6BF,QAA7B,CAEhBA,SAAA,CAAWG,CAAAH,EAAKC,OAAA,CAAQE,CAAR,CAHgB,CAMlC,MAAO,KAAKP,CAAAA,KAAL,CAAW,IAAKrB,CAAAA,QAASwB,CAAAA,MAAd,CAAqBC,QAArB,CAAX,CAPQ,CAUjBI,GAAG,CAACJ,QAAD,CAAW,CACZ,MAAO1C,UAAA,CAAU,CAAV,CAAa,IAAKsB,CAAAA,MAAlB,CAA0B,CAAA,CAA1B,CAAiCwB,CAAAA,GAAjC,CAAqCvC,CAAA;AAAKmC,QAAA,CAAS,IAAA,CAAKnC,CAAL,CAAT,CAAkBA,CAAlB,CAAqB,IAArB,CAA1C,CADK,CAIdwC,IAAI,CAACL,QAAD,CAAW,CACb,IAAK,IAAInC,EAAI,CAAR,CAAWD,IAAM,IAAKgB,CAAAA,MAAtB,CAA8B0B,IAAM,CAANA,EAAW1C,GAA9C,CAAmD0C,GAAA,CAAMzC,CAAN,CAAUD,GAAV,CAAgBC,CAAhB,CAAoBD,GAAvE,CAA4E0C,GAAA,CAAMzC,CAAA,EAAN,CAAYA,CAAA,EAAxF,CACEmC,QAAA,CAAS,IAAA,CAAKnC,CAAL,CAAT,CAAkBA,CAAlB,CAAqB,IAArB,CAGF,OAAO,KALM,CAQf0B,GAAG,CAACP,IAAD,CAAOK,OAAP,CAAgBC,KAAhB,CAAuB,CAExB,MAAM,CACJb,UADI,CAAA,CAEF,IAAKJ,CAAAA,QAET,IAAI,IAAKQ,CAAAA,MAAT,CACE,MAAO,KAAK0B,CAAAA,IAAL,EAAYhB,CAAAA,GAAZ,CAAgBP,IAAhB,CAAsBK,OAAtB,CAA+BC,KAA/B,CAIT,OAAMkB,MAAQ,EAEd,KAAK,MAAMC,MAAX,GAAqB,KAAKlC,CAAAA,QAA1B,CAAoC,CAClC,MAAMmC,KAAOjC,UAAWkC,CAAAA,IAAX,CAAgB3B,IAAhB,CAAsBK,OAAtB,CAA+BC,KAA/B,CACbb,WAAWc,CAAAA,GAAX,CAAemB,IAAf,CAAqBD,MAArB,CACAD,MAAM1C,CAAAA,IAAN,CAAW4C,IAAX,CAHkC,CAOpC,MAAO,KAAKd,CAAAA,KAAL,CAAWY,KAAX,CApBiB,CAuB1BI,MAAM,CAACnB,QAAD,CAAW,CACf,GAAIA,QAAJ,CACE,MAAO,KAAKD,CAAAA,MAAL,CAAYC,QAAZ,CAAsBmB,CAAAA,MAAtB,EAGT,KAAK,MAAMH,MAAX,GAAqBxB,MAAMC,CAAAA,IAAN,CAAW,IAAKX,CAAAA,QAASsC,CAAAA,KAAd,EAAsBC,CAAAA,OAAtB,EAAX,CAArB,CACE,IAAKzC,CAAAA,QAASI,CAAAA,UAAWmC,CAAAA,MAAzB,CAAgCH,MAAhC,CAGF;MAAO,KAAKF,CAAAA,IAAL,EATQ,CAYjBlD,GAAG,CAACL,GAAD,CAAMe,KAAN,CAAa,CACd,IAAK,MAAM0C,MAAX,GAAqBxB,MAAMC,CAAAA,IAAN,CAAW,IAAKX,CAAAA,QAAhB,CAArB,CACE,IAAKF,CAAAA,QAASI,CAAAA,UAAWpB,CAAAA,GAAzB,CAA6BoD,MAA7B,CAAqCzD,GAArC,CAA0Ce,KAA1C,CAGF,OAAO,KALO,CAQhBgD,MAAM,CAAC/D,GAAD,CAAM,CACV,MAAOiC,MAAMC,CAAAA,IAAN,CAAW,IAAKX,CAAAA,QAAhB,CAA0B6B,CAAAA,GAA1B,CAA8BK,MAAA,EAAU,IAAKpC,CAAAA,QAASI,CAAAA,UAAW/B,CAAAA,GAAzB,CAA6B+D,MAA7B,CAAqCzD,GAArC,CAAxC,CADG,CAIZN,GAAG,CAACM,GAAD,CAAM,CACP,MAA2B,KAApB,EAAA,IAAKuB,CAAAA,QAAL,CAAc,CAAd,CAAA,CAA2B,IAAKA,CAAAA,QAAL,CAAc,CAAd,CAAiB7B,CAAAA,GAAjB,CAAqBM,GAArB,CAA3B,CAAuDgE,IAAAA,EADvD,CAITC,QAAQ,CAACjE,GAAD,CAAMkE,IAAN,CAAY,CAClB,MAA2B,KAApB,EAAA,IAAK3C,CAAAA,QAAL,CAAc,CAAd,CAAA,CAA2B,IAAKA,CAAAA,QAAL,CAAc,CAAd,CAAiB0C,CAAAA,QAAjB,CAA0BjE,GAA1B,CAA+BkE,IAA/B,CAA3B,CAAkEF,IAAAA,EADvD,CAIpBG,IAAI,CAACnE,GAAD,CAAMe,KAAN,CAAa,CACf,IAAK,MAAM0C,MAAX,GAAqBxB,MAAMC,CAAAA,IAAN,CAAW,IAAKX,CAAAA,QAAhB,CAArB,CACE,IAAKF,CAAAA,QAASI,CAAAA,UAAW0C,CAAAA,IAAzB,CAA8BV,MAA9B;AAAsCzD,GAAtC,CAA2Ce,KAA3C,CAGF,OAAO,KALQ,CAQjBqD,MAAM,CAACpE,GAAD,CAAM,CACV,IAAK,MAAMyD,MAAX,GAAqBxB,MAAMC,CAAAA,IAAN,CAAW,IAAKX,CAAAA,QAAhB,CAArB,CACE,IAAKF,CAAAA,QAASI,CAAAA,UAAW2C,CAAAA,MAAzB,CAAgCX,MAAhC,CAAwCzD,GAAxC,CAGF,OAAO,KALG,CAQZY,GAAG,EAAG,CACJ,MAA0C2C,CAAlC,IAAK1B,CAAAA,MAAL,CAAc,IAAK0B,CAAAA,IAAL,EAAd,CAA4B,IAAMA,EAAAA,IAAnC,EADH,CAINX,KAAK,CAACF,OAAD,CAAU,CACb,MAAO,KAAI1B,GAAJ,CAAQ,IAAKK,CAAAA,QAAb,CAAuB,IAAvB,CAA6BqB,OAA7B,CADM,CAIfa,IAAI,EAAG,CACL,MAAmB,KAAZ,EAAA,IAAKjC,CAAAA,GAAL,CAAmB,IAAKA,CAAAA,GAAxB,CAA8B,IADhC,CAIP+C,MAAM,EAAG,CACP,IAAI9D,IACJ,OAAmE,KAA5D,GAACA,IAAD,CAAoB,IAAZ,EAAA,IAAKe,CAAAA,GAAL,CAAmB,IAAKA,CAAAA,GAAIgD,CAAAA,KAAT,EAAnB,CAAsCN,IAAAA,EAA9C,EAAmEzD,IAAnE,CAA0E,IAF1E,CAOT6C,GAAG,CAACJ,QAAD,CAAW,CACZ,MAAO,KAAKzB,CAAAA,QAAS6B,CAAAA,GAAd,CAAkBJ,QAAlB,CADK,CAIduB,EAAE,EAAG,CACH,MAAMC,KAAOC,SAEb,KAAKlD,CAAAA,QAAS6B,CAAAA,GAAd,CAAkBD,CAAA,EAAKA,CAAEoB,CAAAA,EAAGG,CAAAA,KAAL,CAAWvB,CAAX,CAAcqB,IAAd,CAAvB,CAEA,OAAO,KALJ,CAQLG,GAAG,EAAG,CACJ,MAAMH;AAAOC,SAEb,KAAKlD,CAAAA,QAAS6B,CAAAA,GAAd,CAAkBD,CAAA,EAAKA,CAAEwB,CAAAA,GAAID,CAAAA,KAAN,CAAYvB,CAAZ,CAAeqB,IAAf,CAAvB,CAEA,OAAO,KALH,CAQNI,QAAQ,EAAG,CACT,MAAMC,KAAO,IAAKtD,CAAAA,QAAS6B,CAAAA,GAAd,CAAkBD,CAAA,EAAKA,CAAEyB,CAAAA,QAAF,EAAvB,CAEb,OAA2B,EAA3B,CAAI,IAAKrD,CAAAA,QAASK,CAAAA,MAAlB,CACS,IAAIiD,IAAKC,CAAAA,IAAL,CAAU,IAAV,CAAJ,GADT,CAGSD,IAAA,CAAK,CAAL,CANA,CAUXE,QAAQ,EAAG,CAGT,MAFa,KAAKxD,CAAAA,QAAS6B,CAAAA,GAAdyB,CAAkB1B,CAAA,EAAKA,CAAE4B,CAAAA,QAAF,EAAvBF,CAEDC,CAAAA,IAAL,CAAU,MAAV,CAHE,CAMXE,KAAK,EAAG,CACN/D,MAAO+D,CAAAA,KAAP,CAAa,IAAKzD,CAAAA,QAAS6B,CAAAA,GAAd,CAAkBD,CAAA,EAAKA,CAAE4B,CAAAA,QAAF,EAAvB,CAAqCD,CAAAA,IAArC,CAA0C,MAA1C,CAAb,CACA,OAAO,KAFD,CAKRG,KAAK,EAAG,CACN,IAAMC,KAAO,IAAKC,CAAAA,OAAL,EACbC,QAAQC,CAAAA,GAAR,CAAY,eAAZ,CAA6BH,IAAKI,CAAAA,WAAlC,CACAF,QAAQC,CAAAA,GAAR,CAAY,WAAZ,CAAyBH,IAAKK,CAAAA,OAA9B,CACAH,QAAQC,CAAAA,GAAR,CAAY,WAAZ,CAAyBH,IAAKM,CAAAA,OAA9B,CAIA,OAAMA,QAAU,EAEhB;IAAK,MAAMC,MAAX,GAAqBxD,MAAMC,CAAAA,IAAN,CAAWgD,IAAKM,CAAAA,OAAhB,CAArB,CACQE,IAIN,CAJqBD,MAAOE,CAAAA,KALCvE,CAAAA,WAAYwD,CAAAA,QAAlB,EAA6BgB,CAAAA,KAA7B,CAAmC,mBAAnC,CAAA,CAAwD,CAAxD,CASvB,CAHAJ,OAAQ1E,CAAAA,IAAR,CAAa,GAAG4E,IAAH,WAAb,CAGA,CAFAF,OAAQ1E,CAAAA,IAAR,CAAa2E,MAAOI,CAAAA,MAApB,CAEA,CADAL,OAAQ1E,CAAAA,IAAR,CAAa,GAAG4E,IAAH,aAAb,CACA,CAAAF,OAAQ1E,CAAAA,IAAR,CAAa2E,MAAOK,CAAAA,QAApB,CAGF,OAAO5E,YAAYiE,CAAAA,OAAZ,CAAoBK,OAApB,CAlBD,CAqBRL,OAAO,CAAC1C,QAAD,CAAWsD,KAAX,CAAkBf,KAAlB,CAAyB,CAC9B,IAAIgB,IAEiB,UAArB,GAAI,MAAOD,MAAX,GACEf,KACA,CADQe,KACR,CAAAA,KAAA,CAAQ,IAFV,CAKa,KAAb,EAAIf,KAAJ,GACEA,KADF,CACU,CAAA,CADV,CAOA,OAAMiB,QAAUD,IAAVC,CAAiBD,QAAS,CAACtC,IAAD,CAAOwC,IAAP,CAAa,CAC/B,IAAZ,EAAIA,IAAJ,GACEA,IADF,CACS,EADT,CAIKH,MAAL,EAAc,CAAArC,IAAKyC,CAAAA,MAAOC,CAAAA,IAAZ,CAAiBL,KAAjB,CAAd,EACEG,IAAKpF,CAAAA,IAAL,CARmF,IAAnE;CAAoB,IAAnB,EAQH4C,IARQjC,CAAAA,UAAL,CAQHiC,IARkCjC,CAAAA,UAAW4E,CAAAA,OAA1C,CAAoDrC,IAAAA,EAArD,EAA6F,IAAnB,EAQ5EN,IARiFjC,CAAAA,UAAL,CAQ5EiC,IAR2GjC,CAAAA,UAAW4E,CAAAA,OAA1C,CAAoDrC,IAAAA,EAA9H,CAA0I,EAQ1J,CAGF,IAAqB,IAArB,EAAIN,IAAK5B,CAAAA,QAAT,CACE,IAAK,MAAMwE,KAAX,GAAoBrE,MAAMC,CAAAA,IAAN,CAAWwB,IAAK5B,CAAAA,QAAhB,CAApB,CACEkE,IAAA,CAAKM,KAAL,CAAYJ,IAAZ,CAIJ,OAAOA,KAfoC,CAA7C,CAmBMK,QAAUA,QAAS,CAACL,IAAD,CAAO,CAC9BA,IAAA,CAAOA,IAAKM,CAAAA,MAAL,CAAY,CAACC,CAAD,CAAIC,CAAJ,CAAA,EAAUD,CAAEE,CAAAA,MAAF,CAASD,CAAT,CAAtB,CAAmC,EAAnC,CACP,OAAOR,KAAP,CAAcA,IAAKnD,CAAAA,MAAL,CAAY,CAACI,CAAD,CAAItC,CAAJ,CAAA,EAAe,IAAf,EAAUsC,CAAV,EAAuB+C,IAAKU,CAAAA,OAAL,CAAazD,CAAb,CAAvB,GAA2CtC,CAAvD,CAFgB,CAnBhC,CAmCMqE,KAAO,CACX1B,MAAO,IAAKjC,CAAAA,QAASsC,CAAAA,KAAd,EADI,CAEXyB,YAAa,EAFF,CAGXC,QAAS,EAHE,CAIXC,QAAS,EAJE,CAOb,KAAK,MAAM/B,MAAX,GAAqBxB,MAAMC,CAAAA,IAAN,CAAW,IAAKX,CAAAA,QAAhB,CAArB,CAAgD,CAC9C,IAAI+D,WAEAN,MAAJ,EACEvB,MAAOuB,CAAAA,KAAP,CAAavC,QAAb,CAAuB,MAAvB,CAGF;MAAMoE,MAAQ,CACZvB,YAAaA,WAAbA,CAA2BiB,OAAA,CAAQN,OAAA,CAAQxC,MAAR,CAAR,CADf,CAEZ8B,QAASgB,OAAA,CAAQjB,WAAYlC,CAAAA,GAAZ,CAAgBD,CAAA,EAAKA,CAAEoC,CAAAA,OAAvB,CAAR,CAFG,CAGZC,QAASe,OAAA,CAAQjB,WAAYlC,CAAAA,GAAZ,CAAgBD,CAAA,EAAkB,IAAb,EAAAA,CAAEoC,CAAAA,OAAF,CAAoBpC,CAAEoC,CAAAA,OAAQnC,CAAAA,GAAV,CAAc0D,CAAA,EAAK,CA1B/E,MAAMC,EAAI,EACVA,EAAEpB,CAAAA,KAAF,CAyBoFxC,CAxBpF4D,EAAEC,CAAAA,QAAF,CAwBuFF,CAxBnEE,CAAAA,QACpBD,EAAEE,CAAAA,QAAF,CAuBuFH,CAvBnEG,CAAAA,QACpBF,EAAElB,CAAAA,MAAF,CAsBuFiB,CAtBrEI,CAAAA,QAASC,CAAAA,WAC3BJ,EAAEjB,CAAAA,QAAF,CAqBuFgB,CArBnEI,CAAAA,QAASE,CAAAA,aAqBkD,OApBxEL,EAoBwE,CAAnB,CAApB,CAAqD/C,IAAAA,EAA1E,CAAR,CAHG,CAMd,KAAK,MAAMqD,CAAX,GAAgBR,MAAhB,CACE3B,IAAA,CAAKmC,CAAL,CAAA,CAAUnC,IAAA,CAAKmC,CAAL,CAAQV,CAAAA,MAAR,CAAeE,KAAA,CAAMQ,CAAN,CAAf,CAdkC,CAkBhD,MAAOnC,KA3EuB,CA7NlC,CA6SApG,OAAQkC,CAAAA,GAAR,CAAcA,GAzU8F;",
"sources":["node_modules/mathbox/build/esm/stage/api.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$stage$api\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.API = void 0;\n\nvar Pretty = _interopRequireWildcard(require(\"../util/pretty.js\"));\n\nvar ShaderGraph = _interopRequireWildcard(require(\"shadergraph\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS202: Simplify dynamic range loops\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass API {\n  v2() {\n    return this;\n  }\n\n  constructor(_context, _up, _targets) {\n    this._context = _context;\n    this._up = _up;\n    this._targets = _targets;\n\n    const root = this._context.controller.getRoot();\n\n    if (this._targets == null) {\n      this._targets = [root];\n    }\n\n    this.isRoot = this._targets.length === 1 && this._targets[0] === root;\n    this.isLeaf = this._targets.length === 1 && this._targets[0].children == null; // Look like an array\n\n    for (let i = 0; i < this._targets.length; i++) {\n      const t = this._targets[i];\n      this[i] = t;\n    }\n\n    this.length = this._targets.length; // Primitive factory. This is where all API methods are assigned.\n\n    for (const type of Array.from(this._context.controller.getTypes())) {\n      if (![\"root\"].includes(type)) {\n        this[type] = (options, binds) => this.add(type, options, binds);\n      }\n    }\n  }\n\n  select(selector) {\n    const targets = this._context.model.select(selector, !this.isRoot ? this._targets : null);\n\n    return this._push(targets);\n  }\n\n  eq(index) {\n    if (this._targets.length > index) {\n      return this._push([this._targets[index]]);\n    }\n\n    return this._push([]);\n  }\n\n  filter(callback) {\n    if (typeof callback === \"string\") {\n      const matcher = this._context.model._matcher(callback);\n\n      callback = x => matcher(x);\n    }\n\n    return this._push(this._targets.filter(callback));\n  }\n\n  map(callback) {\n    return __range__(0, this.length, false).map(i => callback(this[i], i, this));\n  }\n\n  each(callback) {\n    for (let i = 0, end = this.length, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n      callback(this[i], i, this);\n    }\n\n    return this;\n  }\n\n  add(type, options, binds) {\n    // Make node/primitive\n    const {\n      controller\n    } = this._context; // Auto-pop if targeting leaf\n\n    if (this.isLeaf) {\n      return this._pop().add(type, options, binds);\n    } // Add to target\n\n\n    const nodes = [];\n\n    for (const target of this._targets) {\n      const node = controller.make(type, options, binds);\n      controller.add(node, target);\n      nodes.push(node);\n    } // Return changed selection\n\n\n    return this._push(nodes);\n  }\n\n  remove(selector) {\n    if (selector) {\n      return this.select(selector).remove();\n    }\n\n    for (const target of Array.from(this._targets.slice().reverse())) {\n      this._context.controller.remove(target);\n    }\n\n    return this._pop();\n  }\n\n  set(key, value) {\n    for (const target of Array.from(this._targets)) {\n      this._context.controller.set(target, key, value);\n    }\n\n    return this;\n  }\n\n  getAll(key) {\n    return Array.from(this._targets).map(target => this._context.controller.get(target, key));\n  }\n\n  get(key) {\n    return this._targets[0] != null ? this._targets[0].get(key) : undefined;\n  }\n\n  evaluate(key, time) {\n    return this._targets[0] != null ? this._targets[0].evaluate(key, time) : undefined;\n  }\n\n  bind(key, value) {\n    for (const target of Array.from(this._targets)) {\n      this._context.controller.bind(target, key, value);\n    }\n\n    return this;\n  }\n\n  unbind(key) {\n    for (const target of Array.from(this._targets)) {\n      this._context.controller.unbind(target, key);\n    }\n\n    return this;\n  }\n\n  end() {\n    return (this.isLeaf ? this._pop() : this)._pop();\n  }\n\n  _push(targets) {\n    return new API(this._context, this, targets);\n  }\n\n  _pop() {\n    return this._up != null ? this._up : this;\n  }\n\n  _reset() {\n    let left;\n    return (left = this._up != null ? this._up.reset() : undefined) != null ? left : this;\n  } // TODO is this okay??\n  // eslint-disable-next-line no-dupe-class-members\n\n\n  map(callback) {\n    return this._targets.map(callback);\n  }\n\n  on() {\n    const args = arguments;\n\n    this._targets.map(x => x.on.apply(x, args));\n\n    return this;\n  }\n\n  off() {\n    const args = arguments;\n\n    this._targets.map(x => x.off.apply(x, args));\n\n    return this;\n  }\n\n  toString() {\n    const tags = this._targets.map(x => x.toString());\n\n    if (this._targets.length > 1) {\n      return `[${tags.join(\", \")}]`;\n    } else {\n      return tags[0];\n    }\n  }\n\n  toMarkup() {\n    const tags = this._targets.map(x => x.toMarkup());\n\n    return tags.join(\"\\n\\n\");\n  }\n\n  print() {\n    Pretty.print(this._targets.map(x => x.toMarkup()).join(\"\\n\\n\"));\n    return this;\n  }\n\n  debug() {\n    const info = this.inspect();\n    console.log(\"Renderables: \", info.renderables);\n    console.log(\"Renders: \", info.renders);\n    console.log(\"Shaders: \", info.shaders);\n\n    const getName = owner => owner.constructor.toString().match(\"function +([^(]*)\")[1];\n\n    const shaders = [];\n\n    for (const shader of Array.from(info.shaders)) {\n      const name = getName(shader.owner);\n      shaders.push(`${name} - Vertex`);\n      shaders.push(shader.vertex);\n      shaders.push(`${name} - Fragment`);\n      shaders.push(shader.fragment);\n    }\n\n    return ShaderGraph.inspect(shaders);\n  }\n\n  inspect(selector, trait, print) {\n    let self;\n\n    if (typeof trait === \"boolean\") {\n      print = trait;\n      trait = null;\n    }\n\n    if (print == null) {\n      print = true;\n    } // Recurse tree and extract all inserted renderables\n\n\n    const map = node => (node.controller != null ? node.controller.objects : undefined) != null ? node.controller != null ? node.controller.objects : undefined : [];\n\n    const recurse = self = function (node, list) {\n      if (list == null) {\n        list = [];\n      }\n\n      if (!trait || node.traits.hash[trait]) {\n        list.push(map(node));\n      }\n\n      if (node.children != null) {\n        for (const child of Array.from(node.children)) {\n          self(child, list);\n        }\n      }\n\n      return list;\n    }; // Flatten arrays\n\n\n    const flatten = function (list) {\n      list = list.reduce((a, b) => a.concat(b), []);\n      return list = list.filter((x, i) => x != null && list.indexOf(x) === i);\n    }; // Render descriptor\n\n\n    const make = function (renderable, render) {\n      const d = {};\n      d.owner = renderable;\n      d.geometry = render.geometry;\n      d.material = render.material;\n      d.vertex = render.userData.vertexGraph;\n      d.fragment = render.userData.fragmentGraph;\n      return d;\n    };\n\n    const info = {\n      nodes: this._targets.slice(),\n      renderables: [],\n      renders: [],\n      shaders: []\n    }; // Inspect all targets\n\n    for (const target of Array.from(this._targets)) {\n      let renderables;\n\n      if (print) {\n        target.print(selector, \"info\");\n      }\n\n      const _info = {\n        renderables: renderables = flatten(recurse(target)),\n        renders: flatten(renderables.map(x => x.renders)),\n        shaders: flatten(renderables.map(x => x.renders != null ? x.renders.map(r => make(x, r)) : undefined))\n      };\n\n      for (const k in _info) {\n        info[k] = info[k].concat(_info[k]);\n      }\n    }\n\n    return info;\n  }\n\n}\n\nexports.API = API;\n\nfunction __range__(left, right, inclusive) {\n  const range = [];\n  const ascending = left < right;\n  const end = !inclusive ? right : ascending ? right + 1 : right - 1;\n\n  for (let i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {\n    range.push(i);\n  }\n\n  return range;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","__range__","left","right","inclusive","range","ascending","end","i","push","value","API","Pretty","ShaderGraph","v2","constructor","_context","_up","_targets","root","controller","getRoot","isRoot","length","isLeaf","children","t","type","Array","from","getTypes","includes","options","binds","add","select","selector","targets","model","_push","eq","index","filter","callback","matcher","_matcher","x","map","each","asc","_pop","nodes","target","node","make","remove","slice","reverse","getAll","undefined","evaluate","time","bind","unbind","_reset","reset","on","args","arguments","apply","off","toString","tags","join","toMarkup","print","debug","info","inspect","console","log","renderables","renders","shaders","shader","name","owner","match","vertex","fragment","trait","self","recurse","list","traits","hash","objects","child","flatten","reduce","a","b","concat","indexOf","_info","r","d","geometry","material","userData","vertexGraph","fragmentGraph","k"]
}

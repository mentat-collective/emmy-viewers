{
"version":3,
"file":"module$node_modules$three$src$renderers$webgl$WebGLProgram.js",
"lineCount":39,
"mappings":"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",
"sources":["node_modules/three/src/renderers/webgl/WebGLProgram.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$src$renderers$webgl$WebGLProgram\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebGLProgram = WebGLProgram;\n\nvar _WebGLUniforms = require(\"./WebGLUniforms.js\");\n\nvar _WebGLShader = require(\"./WebGLShader.js\");\n\nvar _ShaderChunk = require(\"../shaders/ShaderChunk.js\");\n\nvar _constants = require(\"../../constants.js\");\n\nlet programIdCount = 0;\n\nfunction handleSource(string, errorLine) {\n  const lines = string.split('\\n');\n  const lines2 = [];\n  const from = Math.max(errorLine - 6, 0);\n  const to = Math.min(errorLine + 6, lines.length);\n\n  for (let i = from; i < to; i++) {\n    const line = i + 1;\n    lines2.push(`${line === errorLine ? '>' : ' '} ${line}: ${lines[i]}`);\n  }\n\n  return lines2.join('\\n');\n}\n\nfunction getEncodingComponents(encoding) {\n  switch (encoding) {\n    case _constants.LinearEncoding:\n      return ['Linear', '( value )'];\n\n    case _constants.sRGBEncoding:\n      return ['sRGB', '( value )'];\n\n    default:\n      console.warn('THREE.WebGLProgram: Unsupported encoding:', encoding);\n      return ['Linear', '( value )'];\n  }\n}\n\nfunction getShaderErrors(gl, shader, type) {\n  const status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n  const errors = gl.getShaderInfoLog(shader).trim();\n  if (status && errors === '') return '';\n  const errorMatches = /ERROR: 0:(\\d+)/.exec(errors);\n\n  if (errorMatches) {\n    // --enable-privileged-webgl-extension\n    // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n    const errorLine = parseInt(errorMatches[1]);\n    return type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + handleSource(gl.getShaderSource(shader), errorLine);\n  } else {\n    return errors;\n  }\n}\n\nfunction getTexelEncodingFunction(functionName, encoding) {\n  const components = getEncodingComponents(encoding);\n  return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n}\n\nfunction getToneMappingFunction(functionName, toneMapping) {\n  let toneMappingName;\n\n  switch (toneMapping) {\n    case _constants.LinearToneMapping:\n      toneMappingName = 'Linear';\n      break;\n\n    case _constants.ReinhardToneMapping:\n      toneMappingName = 'Reinhard';\n      break;\n\n    case _constants.CineonToneMapping:\n      toneMappingName = 'OptimizedCineon';\n      break;\n\n    case _constants.ACESFilmicToneMapping:\n      toneMappingName = 'ACESFilmic';\n      break;\n\n    case _constants.CustomToneMapping:\n      toneMappingName = 'Custom';\n      break;\n\n    default:\n      console.warn('THREE.WebGLProgram: Unsupported toneMapping:', toneMapping);\n      toneMappingName = 'Linear';\n  }\n\n  return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n}\n\nfunction generateExtensions(parameters) {\n  const chunks = [parameters.extensionDerivatives || !!parameters.envMapCubeUVHeight || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ? '#extension GL_OES_standard_derivatives : enable' : '', (parameters.extensionFragDepth || parameters.logarithmicDepthBuffer) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '', parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ? '#extension GL_EXT_draw_buffers : require' : '', (parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''];\n  return chunks.filter(filterEmptyLine).join('\\n');\n}\n\nfunction generateDefines(defines) {\n  const chunks = [];\n\n  for (const name in defines) {\n    const value = defines[name];\n    if (value === false) continue;\n    chunks.push('#define ' + name + ' ' + value);\n  }\n\n  return chunks.join('\\n');\n}\n\nfunction fetchAttributeLocations(gl, program) {\n  const attributes = {};\n  const n = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n  for (let i = 0; i < n; i++) {\n    const info = gl.getActiveAttrib(program, i);\n    const name = info.name;\n    let locationSize = 1;\n    if (info.type === gl.FLOAT_MAT2) locationSize = 2;\n    if (info.type === gl.FLOAT_MAT3) locationSize = 3;\n    if (info.type === gl.FLOAT_MAT4) locationSize = 4; // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n    attributes[name] = {\n      type: info.type,\n      location: gl.getAttribLocation(program, name),\n      locationSize: locationSize\n    };\n  }\n\n  return attributes;\n}\n\nfunction filterEmptyLine(string) {\n  return string !== '';\n}\n\nfunction replaceLightNums(string, parameters) {\n  const numSpotLightCoords = parameters.numSpotLightShadows + parameters.numSpotLightMaps - parameters.numSpotLightShadowsWithMaps;\n  return string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g, parameters.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g, numSpotLightCoords).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, parameters.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n}\n\nfunction replaceClippingPlaneNums(string, parameters) {\n  return string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, parameters.numClippingPlanes - parameters.numClipIntersection);\n} // Resolve Includes\n\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes(string) {\n  return string.replace(includePattern, includeReplacer);\n}\n\nfunction includeReplacer(match, include) {\n  const string = _ShaderChunk.ShaderChunk[include];\n\n  if (string === undefined) {\n    throw new Error('Can not resolve #include <' + include + '>');\n  }\n\n  return resolveIncludes(string);\n} // Unroll Loops\n\n\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops(string) {\n  return string.replace(unrollLoopPattern, loopReplacer);\n}\n\nfunction loopReplacer(match, start, end, snippet) {\n  let string = '';\n\n  for (let i = parseInt(start); i < parseInt(end); i++) {\n    string += snippet.replace(/\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]').replace(/UNROLLED_LOOP_INDEX/g, i);\n  }\n\n  return string;\n} //\n\n\nfunction generatePrecision(parameters) {\n  let precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n  if (parameters.precision === 'highp') {\n    precisionstring += '\\n#define HIGH_PRECISION';\n  } else if (parameters.precision === 'mediump') {\n    precisionstring += '\\n#define MEDIUM_PRECISION';\n  } else if (parameters.precision === 'lowp') {\n    precisionstring += '\\n#define LOW_PRECISION';\n  }\n\n  return precisionstring;\n}\n\nfunction generateShadowMapTypeDefine(parameters) {\n  let shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n  if (parameters.shadowMapType === _constants.PCFShadowMap) {\n    shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n  } else if (parameters.shadowMapType === _constants.PCFSoftShadowMap) {\n    shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n  } else if (parameters.shadowMapType === _constants.VSMShadowMap) {\n    shadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n  }\n\n  return shadowMapTypeDefine;\n}\n\nfunction generateEnvMapTypeDefine(parameters) {\n  let envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n  if (parameters.envMap) {\n    switch (parameters.envMapMode) {\n      case _constants.CubeReflectionMapping:\n      case _constants.CubeRefractionMapping:\n        envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n        break;\n\n      case _constants.CubeUVReflectionMapping:\n        envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n        break;\n    }\n  }\n\n  return envMapTypeDefine;\n}\n\nfunction generateEnvMapModeDefine(parameters) {\n  let envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n  if (parameters.envMap) {\n    switch (parameters.envMapMode) {\n      case _constants.CubeRefractionMapping:\n        envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n        break;\n    }\n  }\n\n  return envMapModeDefine;\n}\n\nfunction generateEnvMapBlendingDefine(parameters) {\n  let envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n  if (parameters.envMap) {\n    switch (parameters.combine) {\n      case _constants.MultiplyOperation:\n        envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n        break;\n\n      case _constants.MixOperation:\n        envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n        break;\n\n      case _constants.AddOperation:\n        envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n        break;\n    }\n  }\n\n  return envMapBlendingDefine;\n}\n\nfunction generateCubeUVSize(parameters) {\n  const imageHeight = parameters.envMapCubeUVHeight;\n  if (imageHeight === null) return null;\n  const maxMip = Math.log2(imageHeight) - 2;\n  const texelHeight = 1.0 / imageHeight;\n  const texelWidth = 1.0 / (3 * Math.max(Math.pow(2, maxMip), 7 * 16));\n  return {\n    texelWidth,\n    texelHeight,\n    maxMip\n  };\n}\n\nfunction WebGLProgram(renderer, cacheKey, parameters, bindingStates) {\n  // TODO Send this event to Three.js DevTools\n  // console.log( 'WebGLProgram', cacheKey );\n  const gl = renderer.getContext();\n  const defines = parameters.defines;\n  let vertexShader = parameters.vertexShader;\n  let fragmentShader = parameters.fragmentShader;\n  const shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n  const envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n  const envMapModeDefine = generateEnvMapModeDefine(parameters);\n  const envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n  const envMapCubeUVSize = generateCubeUVSize(parameters);\n  const customExtensions = parameters.isWebGL2 ? '' : generateExtensions(parameters);\n  const customDefines = generateDefines(defines);\n  const program = gl.createProgram();\n  let prefixVertex, prefixFragment;\n  let versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n  if (parameters.isRawShaderMaterial) {\n    prefixVertex = [customDefines].filter(filterEmptyLine).join('\\n');\n\n    if (prefixVertex.length > 0) {\n      prefixVertex += '\\n';\n    }\n\n    prefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\\n');\n\n    if (prefixFragment.length > 0) {\n      prefixFragment += '\\n';\n    }\n  } else {\n    prefixVertex = [generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.instancing ? '#define USE_INSTANCING' : '', parameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '', parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '', parameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '', parameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.transmission ? '#define USE_TRANSMISSION' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.thicknessMap ? '#define USE_THICKNESSMAP' : '', parameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '', parameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.morphColors && parameters.isWebGL2 ? '#define USE_MORPHCOLORS' : '', parameters.morphTargetsCount > 0 && parameters.isWebGL2 ? '#define MORPHTARGETS_TEXTURE' : '', parameters.morphTargetsCount > 0 && parameters.isWebGL2 ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + parameters.morphTextureStride : '', parameters.morphTargetsCount > 0 && parameters.isWebGL2 ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', '#ifdef USE_INSTANCING', '\tattribute mat4 instanceMatrix;', '#endif', '#ifdef USE_INSTANCING_COLOR', '\tattribute vec3 instanceColor;', '#endif', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_TANGENT', '\tattribute vec4 tangent;', '#endif', '#if defined( USE_COLOR_ALPHA )', '\tattribute vec4 color;', '#elif defined( USE_COLOR )', '\tattribute vec3 color;', '#endif', '#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )', '\tattribute vec3 morphTarget0;', '\tattribute vec3 morphTarget1;', '\tattribute vec3 morphTarget2;', '\tattribute vec3 morphTarget3;', '\t#ifdef USE_MORPHNORMALS', '\t\tattribute vec3 morphNormal0;', '\t\tattribute vec3 morphNormal1;', '\t\tattribute vec3 morphNormal2;', '\t\tattribute vec3 morphNormal3;', '\t#else', '\t\tattribute vec3 morphTarget4;', '\t\tattribute vec3 morphTarget5;', '\t\tattribute vec3 morphTarget6;', '\t\tattribute vec3 morphTarget7;', '\t#endif', '#endif', '#ifdef USE_SKINNING', '\tattribute vec4 skinIndex;', '\tattribute vec4 skinWeight;', '#endif', '\\n'].filter(filterEmptyLine).join('\\n');\n    prefixFragment = [customExtensions, generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.matcap ? '#define USE_MATCAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', envMapCubeUVSize ? '#define CUBEUV_TEXEL_WIDTH ' + envMapCubeUVSize.texelWidth : '', envMapCubeUVSize ? '#define CUBEUV_TEXEL_HEIGHT ' + envMapCubeUVSize.texelHeight : '', envMapCubeUVSize ? '#define CUBEUV_MAX_MIP ' + envMapCubeUVSize.maxMip + '.0' : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoat ? '#define USE_CLEARCOAT' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.iridescence ? '#define USE_IRIDESCENCE' : '', parameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '', parameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '', parameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.alphaTest ? '#define USE_ALPHATEST' : '', parameters.sheen ? '#define USE_SHEEN' : '', parameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '', parameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '', parameters.transmission ? '#define USE_TRANSMISSION' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.thicknessMap ? '#define USE_THICKNESSMAP' : '', parameters.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '', parameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', parameters.toneMapping !== _constants.NoToneMapping ? '#define TONE_MAPPING' : '', parameters.toneMapping !== _constants.NoToneMapping ? _ShaderChunk.ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n    parameters.toneMapping !== _constants.NoToneMapping ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', parameters.opaque ? '#define OPAQUE' : '', _ShaderChunk.ShaderChunk['encodings_pars_fragment'], // this code is required here because it is used by the various encoding/decoding function defined below\n    getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding), parameters.useDepthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '', '\\n'].filter(filterEmptyLine).join('\\n');\n  }\n\n  vertexShader = resolveIncludes(vertexShader);\n  vertexShader = replaceLightNums(vertexShader, parameters);\n  vertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n  fragmentShader = resolveIncludes(fragmentShader);\n  fragmentShader = replaceLightNums(fragmentShader, parameters);\n  fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n  vertexShader = unrollLoops(vertexShader);\n  fragmentShader = unrollLoops(fragmentShader);\n\n  if (parameters.isWebGL2 && parameters.isRawShaderMaterial !== true) {\n    // GLSL 3.0 conversion for built-in materials and ShaderMaterial\n    versionString = '#version 300 es\\n';\n    prefixVertex = ['precision mediump sampler2DArray;', '#define attribute in', '#define varying out', '#define texture2D texture'].join('\\n') + '\\n' + prefixVertex;\n    prefixFragment = ['#define varying in', parameters.glslVersion === _constants.GLSL3 ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;', parameters.glslVersion === _constants.GLSL3 ? '' : '#define gl_FragColor pc_fragColor', '#define gl_FragDepthEXT gl_FragDepth', '#define texture2D texture', '#define textureCube texture', '#define texture2DProj textureProj', '#define texture2DLodEXT textureLod', '#define texture2DProjLodEXT textureProjLod', '#define textureCubeLodEXT textureLod', '#define texture2DGradEXT textureGrad', '#define texture2DProjGradEXT textureProjGrad', '#define textureCubeGradEXT textureGrad'].join('\\n') + '\\n' + prefixFragment;\n  }\n\n  const vertexGlsl = versionString + prefixVertex + vertexShader;\n  const fragmentGlsl = versionString + prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );\n  // console.log( '*FRAGMENT*', fragmentGlsl );\n\n  const glVertexShader = (0, _WebGLShader.WebGLShader)(gl, gl.VERTEX_SHADER, vertexGlsl);\n  const glFragmentShader = (0, _WebGLShader.WebGLShader)(gl, gl.FRAGMENT_SHADER, fragmentGlsl);\n  gl.attachShader(program, glVertexShader);\n  gl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.\n\n  if (parameters.index0AttributeName !== undefined) {\n    gl.bindAttribLocation(program, 0, parameters.index0AttributeName);\n  } else if (parameters.morphTargets === true) {\n    // programs with morphTargets displace position out of attribute 0\n    gl.bindAttribLocation(program, 0, 'position');\n  }\n\n  gl.linkProgram(program); // check for link errors\n\n  if (renderer.debug.checkShaderErrors) {\n    const programLog = gl.getProgramInfoLog(program).trim();\n    const vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n    const fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n    let runnable = true;\n    let haveDiagnostics = true;\n\n    if (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n      runnable = false;\n      const vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n      const fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n      console.error('THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' + 'VALIDATE_STATUS ' + gl.getProgramParameter(program, gl.VALIDATE_STATUS) + '\\n\\n' + 'Program Info Log: ' + programLog + '\\n' + vertexErrors + '\\n' + fragmentErrors);\n    } else if (programLog !== '') {\n      console.warn('THREE.WebGLProgram: Program Info Log:', programLog);\n    } else if (vertexLog === '' || fragmentLog === '') {\n      haveDiagnostics = false;\n    }\n\n    if (haveDiagnostics) {\n      this.diagnostics = {\n        runnable: runnable,\n        programLog: programLog,\n        vertexShader: {\n          log: vertexLog,\n          prefix: prefixVertex\n        },\n        fragmentShader: {\n          log: fragmentLog,\n          prefix: prefixFragment\n        }\n      };\n    }\n  } // Clean up\n  // Crashes in iOS9 and iOS10. #18402\n  // gl.detachShader( program, glVertexShader );\n  // gl.detachShader( program, glFragmentShader );\n\n\n  gl.deleteShader(glVertexShader);\n  gl.deleteShader(glFragmentShader); // set up caching for uniform locations\n\n  let cachedUniforms;\n\n  this.getUniforms = function () {\n    if (cachedUniforms === undefined) {\n      cachedUniforms = new _WebGLUniforms.WebGLUniforms(gl, program);\n    }\n\n    return cachedUniforms;\n  }; // set up caching for attribute locations\n\n\n  let cachedAttributes;\n\n  this.getAttributes = function () {\n    if (cachedAttributes === undefined) {\n      cachedAttributes = fetchAttributeLocations(gl, program);\n    }\n\n    return cachedAttributes;\n  }; // free resource\n\n\n  this.destroy = function () {\n    bindingStates.releaseStatesOfProgram(this);\n    gl.deleteProgram(program);\n    this.program = undefined;\n  }; //\n\n\n  this.name = parameters.shaderName;\n  this.id = programIdCount++;\n  this.cacheKey = cacheKey;\n  this.usedTimes = 1;\n  this.program = program;\n  this.vertexShader = glVertexShader;\n  this.fragmentShader = glFragmentShader;\n  return this;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","getShaderErrors","gl","shader","type","status","getShaderParameter","COMPILE_STATUS","errors","getShaderInfoLog","trim","errorMatches","exec","errorLine","parseInt","toUpperCase","getShaderSource","lines","string","split","lines2","from","Math","max","to","min","length","i","line","push","join","getTexelEncodingFunction","functionName","encoding","_constants","LinearEncoding","sRGBEncoding","console","warn","components","getToneMappingFunction","toneMapping","LinearToneMapping","toneMappingName","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","generateDefines","defines","chunks","name","value","filterEmptyLine","replaceLightNums","parameters","numSpotLightCoords","numSpotLightShadows","numSpotLightMaps","numSpotLightShadowsWithMaps","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includeReplacer","match","include","_ShaderChunk","ShaderChunk","undefined","Error","includePattern","loopReplacer","start","end","snippet","generatePrecision","precisionstring","precision","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","generateEnvMapTypeDefine","envMapTypeDefine","envMap","envMapMode","CubeReflectionMapping","CubeRefractionMapping","CubeUVReflectionMapping","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","combine","MultiplyOperation","MixOperation","AddOperation","generateCubeUVSize","imageHeight","envMapCubeUVHeight","maxMip","log2","texelWidth","pow","texelHeight","Object","defineProperty","WebGLProgram","renderer","cacheKey","bindingStates","getContext","vertexShader","fragmentShader","envMapCubeUVSize","customExtensions","isWebGL2","extensionDerivatives","bumpMap","tangentSpaceNormalMap","clearcoatNormalMap","flatShading","shaderID","extensionFragDepth","logarithmicDepthBuffer","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","transmission","rendererExtensionShaderTextureLod","filter","customDefines","program","createProgram","versionString","glslVersion","isRawShaderMaterial","prefixVertex","prefixFragment","shaderName","instancing","instancingColor","supportsVertexTextures","useFog","fog","fogExp2","map","lightMap","aoMap","emissiveMap","normalMap","objectSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","iridescenceMap","iridescenceThicknessMap","displacementMap","specularMap","specularIntensityMap","specularColorMap","roughnessMap","metalnessMap","alphaMap","transmissionMap","thicknessMap","sheenColorMap","sheenRoughnessMap","vertexTangents","vertexColors","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","morphTargets","morphNormals","morphColors","morphTargetsCount","morphTextureStride","doubleSided","flipSided","shadowMapEnabled","sizeAttenuation","matcap","clearcoat","iridescence","alphaTest","sheen","decodeVideoTexture","gradientMap","premultipliedAlpha","physicallyCorrectLights","NoToneMapping","dithering","opaque","outputEncoding","useDepthPacking","depthPacking","unrollLoopPattern","GLSL3","fragmentGlsl","glVertexShader","_WebGLShader","WebGLShader","VERTEX_SHADER","glFragmentShader","FRAGMENT_SHADER","attachShader","index0AttributeName","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","haveDiagnostics","runnable","getProgramParameter","LINK_STATUS","vertexErrors","fragmentErrors","error","getError","VALIDATE_STATUS","diagnostics","log","prefix","deleteShader","cachedUniforms","getUniforms","this.getUniforms","_WebGLUniforms","WebGLUniforms","cachedAttributes","getAttributes","this.getAttributes","attributes","n","ACTIVE_ATTRIBUTES","info","getActiveAttrib","locationSize","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","location","getAttribLocation","destroy","this.destroy","releaseStatesOfProgram","deleteProgram","id","programIdCount","usedTimes"]
}

shadow$provide.module$node_modules$markdown_it$lib$rules_block$table=function(global,require,module,exports){function getLine(state,line){var pos=state.bMarks[line]+state.tShift[line];return state.src.substr(pos,state.eMarks[line]-pos)}function escapedSplit(str){var result=[],pos=0,max=str.length,ch,isEscaped=!1,lastPos=0,current="";for(ch=str.charCodeAt(pos);pos<max;)124===ch&&(isEscaped?(current+=str.substring(lastPos,pos-1),lastPos=pos):(result.push(current+str.substring(lastPos,pos)),current=
"",lastPos=pos+1)),isEscaped=92===ch,pos++,ch=str.charCodeAt(pos);result.push(current+str.substring(lastPos));return result}var isSpace=require("module$node_modules$markdown_it$lib$common$utils").isSpace;module.exports=function(state,startLine,endLine,silent){var tbodyLines;if(startLine+2>endLine)return!1;var nextLine=startLine+1;if(state.sCount[nextLine]<state.blkIndent||4<=state.sCount[nextLine]-state.blkIndent)return!1;var pos=state.bMarks[nextLine]+state.tShift[nextLine];if(pos>=state.eMarks[nextLine])return!1;
var ch=state.src.charCodeAt(pos++);if(124!==ch&&45!==ch&&58!==ch||pos>=state.eMarks[nextLine])return!1;var columnCount=state.src.charCodeAt(pos++);if(124!==columnCount&&45!==columnCount&&58!==columnCount&&!isSpace(columnCount)||45===ch&&isSpace(columnCount))return!1;for(;pos<state.eMarks[nextLine];){ch=state.src.charCodeAt(pos);if(124!==ch&&45!==ch&&58!==ch&&!isSpace(ch))return!1;pos++}ch=getLine(state,startLine+1);var l=ch.split("|");pos=[];for(ch=0;ch<l.length;ch++){nextLine=l[ch].trim();if(!nextLine)if(0===
ch||ch===l.length-1)continue;else return!1;if(!/^:?-+:?$/.test(nextLine))return!1;58===nextLine.charCodeAt(nextLine.length-1)?pos.push(58===nextLine.charCodeAt(0)?"center":"right"):58===nextLine.charCodeAt(0)?pos.push("left"):pos.push("")}ch=getLine(state,startLine).trim();if(-1===ch.indexOf("|")||4<=state.sCount[startLine]-state.blkIndent)return!1;l=escapedSplit(ch);l.length&&""===l[0]&&l.shift();l.length&&""===l[l.length-1]&&l.pop();columnCount=l.length;if(0===columnCount||columnCount!==pos.length)return!1;
if(silent)return!0;var oldParentType=state.parentType;state.parentType="table";var terminatorRules=state.md.block.ruler.getRules("blockquote");var token=state.push("table_open","table",1);token.map=silent=[startLine,0];token=state.push("thead_open","thead",1);token.map=[startLine,startLine+1];token=state.push("tr_open","tr",1);token.map=[startLine,startLine+1];for(ch=0;ch<l.length;ch++)token=state.push("th_open","th",1),pos[ch]&&(token.attrs=[["style","text-align:"+pos[ch]]]),token=state.push("inline",
"",0),token.content=l[ch].trim(),token.children=[],state.push("th_close","th",-1);state.push("tr_close","tr",-1);state.push("thead_close","thead",-1);for(nextLine=startLine+2;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++){token=!1;ch=0;for(l=terminatorRules.length;ch<l;ch++)if(terminatorRules[ch](state,nextLine,endLine,!0)){token=!0;break}if(token)break;ch=getLine(state,nextLine).trim();if(!ch)break;if(4<=state.sCount[nextLine]-state.blkIndent)break;l=escapedSplit(ch);l.length&&
""===l[0]&&l.shift();l.length&&""===l[l.length-1]&&l.pop();nextLine===startLine+2&&(token=state.push("tbody_open","tbody",1),token.map=tbodyLines=[startLine+2,0]);token=state.push("tr_open","tr",1);token.map=[nextLine,nextLine+1];for(ch=0;ch<columnCount;ch++)token=state.push("td_open","td",1),pos[ch]&&(token.attrs=[["style","text-align:"+pos[ch]]]),token=state.push("inline","",0),token.content=l[ch]?l[ch].trim():"",token.children=[],state.push("td_close","td",-1);state.push("tr_close","tr",-1)}tbodyLines&&
(state.push("tbody_close","tbody",-1),tbodyLines[1]=nextLine);state.push("table_close","table",-1);silent[1]=nextLine;state.parentType=oldParentType;state.line=nextLine;return!0}}
//# sourceMappingURL=module$node_modules$markdown_it$lib$rules_block$table.js.map

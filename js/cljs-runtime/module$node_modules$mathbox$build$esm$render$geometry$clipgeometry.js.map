{
"version":3,
"file":"module$node_modules$mathbox$build$esm$render$geometry$clipgeometry.js",
"lineCount":3,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/render/geometry/clipgeometry.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$render$geometry$clipgeometry\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClipGeometry = void 0;\n\nvar _geometry = require(\"./geometry.js\");\n\nvar _Vector = require(\"three/src/math/Vector4.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n// Instanced geometry that is clippable along 4 dimensions\nclass ClipGeometry extends _geometry.Geometry {\n  _clipUniforms() {\n    this.geometryClip = new _Vector.Vector4(1e10, 1e10, 1e10, 1e10);\n    this.geometryResolution = new _Vector.Vector4();\n    this.mapSize = new _Vector.Vector4();\n\n    if (this.uniforms == null) {\n      this.uniforms = {};\n    }\n\n    this.uniforms.geometryClip = {\n      type: \"v4\",\n      value: this.geometryClip\n    };\n    this.uniforms.geometryResolution = {\n      type: \"v4\",\n      value: this.geometryResolution\n    };\n    return this.uniforms.mapSize = {\n      type: \"v4\",\n      value: this.mapSize\n    };\n  }\n\n  _clipGeometry(width, height, depth, items) {\n    const c = x => Math.max(0, x - 1);\n\n    const r = x => 1 / Math.max(1, x - 1);\n\n    this.geometryClip.set(c(width), c(height), c(depth), c(items));\n    return this.geometryResolution.set(r(width), r(height), r(depth), r(items));\n  }\n\n  _clipMap(mapWidth, mapHeight, mapDepth, mapItems) {\n    return this.mapSize.set(mapWidth, mapHeight, mapDepth, mapItems);\n  }\n\n  _clipOffsets(factor, width, height, depth, items, _width, _height, _depth, _items) {\n    const dims = [depth, height, width, items];\n    const maxs = [_depth, _height, _width, _items];\n\n    const elements = this._reduce(dims, maxs);\n\n    return this._offsets([{\n      start: 0,\n      count: elements * factor,\n      materialIndex: 0\n    }]);\n  }\n\n}\n\nexports.ClipGeometry = ClipGeometry;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","ClipGeometry","_geometry","_Vector","Geometry","_clipUniforms","geometryClip","Vector4","geometryResolution","mapSize","uniforms","type","_clipGeometry","width","height","depth","items","set","Math","max","_clipMap","mapWidth","mapHeight","mapDepth","mapItems","_clipOffsets","factor","_width","_height","_depth","_items","elements","_reduce","dims","maxs","_offsets","start","count","materialIndex"]
}

{
"version":3,
"file":"module$node_modules$threestrap$src$core$size.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/threestrap/src/core/size.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$threestrap$src$core$size\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _bootstrap = require(\"../bootstrap\");\n\n_bootstrap.Bootstrap.registerPlugin(\"size\", {\n  defaults: {\n    width: null,\n    height: null,\n    aspect: null,\n    scale: 1,\n    maxRenderWidth: Infinity,\n    maxRenderHeight: Infinity,\n    devicePixelRatio: true\n  },\n  listen: [\"window.resize:queue\", \"element.resize:queue\", \"this.change:queue\", \"ready:resize\", \"pre:pre\"],\n  install: function (three) {\n    three.Size = this.api({\n      renderWidth: 0,\n      renderHeight: 0,\n      viewWidth: 0,\n      viewHeight: 0\n    });\n    this.resized = false;\n  },\n  uninstall: function (three) {\n    delete three.Size;\n  },\n  queue: function (_event, _three) {\n    this.resized = true;\n  },\n  pre: function (event, three) {\n    if (!this.resized) return;\n    this.resized = false;\n    this.resize(event, three);\n  },\n  resize: function (event, three) {\n    const options = this.options;\n    const element = three.element;\n    const renderer = three.renderer;\n    let w,\n        h,\n        ew,\n        eh,\n        rw,\n        rh,\n        aspect,\n        ratio,\n        ml = 0,\n        mt = 0; // Measure element\n\n    w = ew = options.width === undefined || options.width == null ? element.offsetWidth || element.innerWidth || 0 : options.width;\n    h = eh = options.height === undefined || options.height == null ? element.offsetHeight || element.innerHeight || 0 : options.height; // Force aspect ratio\n\n    aspect = w / h;\n\n    if (options.aspect) {\n      if (options.aspect > aspect) {\n        h = Math.round(w / options.aspect);\n        mt = Math.floor((eh - h) / 2);\n      } else {\n        w = Math.round(h * options.aspect);\n        ml = Math.floor((ew - w) / 2);\n      }\n\n      aspect = w / h;\n    } // Get device pixel ratio\n\n\n    ratio = 1;\n\n    if (options.devicePixelRatio && typeof window != \"undefined\") {\n      ratio = window.devicePixelRatio || 1;\n    } // Apply scale and resolution max\n\n\n    rw = Math.round(Math.min(w * ratio * options.scale, options.maxRenderWidth));\n    rh = Math.round(Math.min(h * ratio * options.scale, options.maxRenderHeight)); // Retain aspect ratio\n\n    const raspect = rw / rh;\n\n    if (raspect > aspect) {\n      rw = Math.round(rh * aspect);\n    } else {\n      rh = Math.round(rw / aspect);\n    } // Measure final pixel ratio\n\n\n    ratio = rh / h; // Resize and position renderer element\n\n    const style = renderer.domElement.style;\n    style.width = w + \"px\";\n    style.height = h + \"px\";\n    style.marginLeft = ml + \"px\";\n    style.marginTop = mt + \"px\"; // Notify\n\n    Object.assign(three.Size, {\n      renderWidth: rw,\n      renderHeight: rh,\n      viewWidth: w,\n      viewHeight: h,\n      aspect: aspect,\n      pixelRatio: ratio\n    });\n    three.trigger({\n      type: \"resize\",\n      renderWidth: rw,\n      renderHeight: rh,\n      viewWidth: w,\n      viewHeight: h,\n      aspect: aspect,\n      pixelRatio: ratio\n    });\n  }\n});\n};"],
"names":["shadow$provide","global","require","module","exports","_bootstrap","Bootstrap","registerPlugin","defaults","width","height","aspect","scale","maxRenderWidth","Infinity","maxRenderHeight","devicePixelRatio","listen","install","three","Size","api","renderWidth","renderHeight","viewWidth","viewHeight","resized","uninstall","queue","_event","_three","pre","event","resize","options","element","renderer","ew","eh","ml","mt","w","undefined","offsetWidth","innerWidth","h","offsetHeight","innerHeight","Math","round","floor","ratio","window","rw","min","rh","style","domElement","marginLeft","marginTop","Object","assign","pixelRatio","trigger","type"]
}

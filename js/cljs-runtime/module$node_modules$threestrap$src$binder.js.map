{
"version":3,
"file":"module$node_modules$threestrap$src$binder.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/threestrap/src/binder.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$threestrap$src$binder\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Binder = void 0;\n\nvar _EventDispatcher = require(\"three/src/core/EventDispatcher.js\");\n\nclass Binder {\n  static bind(context, globals) {\n    return function (key, object) {\n      // Prepare object\n      if (!object.__binds) {\n        object.__binds = [];\n      } // Set base target\n\n\n      var fallback = context;\n\n      if (Array.isArray(key)) {\n        fallback = key[0];\n        key = key[1];\n      } // Match key\n\n\n      var match = /^([^.:]*(?:\\.[^.:]+)*)?(?::(.*))?$/.exec(key);\n      var path = match[1].split(/\\./g);\n      var name = path.pop();\n      var dest = match[2] || name; // Whitelisted objects\n\n      var selector = path.shift();\n      var target = {\n        this: object\n      }[selector] || globals[selector] || context[selector] || fallback; // Look up keys\n\n      while (target && (key = path.shift())) {\n        target = target[key];\n      } // Attach event handler at last level\n\n\n      if (target && (target.on || target.addEventListener)) {\n        var callback = function (event) {\n          object[dest] && object[dest](event, context);\n        }; // Polyfill for both styles of event listener adders\n\n\n        Binder._polyfill(target, [\"addEventListener\", \"on\"], function (method) {\n          target[method](name, callback);\n        }); // Store bind for removal later\n\n\n        var bind = {\n          target: target,\n          name: name,\n          callback: callback\n        };\n\n        object.__binds.push(bind); // Return callback\n\n\n        return callback;\n      } else {\n        throw \"Cannot bind '\" + key + \"' in \" + this.__name;\n      }\n    };\n  }\n\n  static unbind() {\n    return function (object) {\n      // Remove all binds belonging to object\n      if (object.__binds) {\n        object.__binds.forEach(function (bind) {\n          // Polyfill for both styles of event listener removers\n          Binder._polyfill(bind.target, [\"removeEventListener\", \"off\"], function (method) {\n            bind.target[method](bind.name, bind.callback);\n          });\n        }.bind(this));\n\n        object.__binds = [];\n      }\n    };\n  }\n\n  static apply(object) {\n    object.trigger = Binder._trigger;\n    object.triggerOnce = Binder._triggerOnce;\n    object.hasEventListener = _EventDispatcher.EventDispatcher.prototype.hasEventListener;\n    object.addEventListener = _EventDispatcher.EventDispatcher.prototype.addEventListener;\n    object.removeEventListener = _EventDispatcher.EventDispatcher.prototype.removeEventListener;\n    object.on = object.addEventListener;\n    object.off = object.removeEventListener;\n    object.dispatchEvent = object.trigger;\n  }\n\n  static _triggerOnce(event) {\n    this.trigger(event);\n\n    if (this._listeners) {\n      delete this._listeners[event.type];\n    }\n  }\n\n  static _trigger(event) {\n    if (this._listeners === undefined) return;\n    var type = event.type;\n    var listeners = this._listeners[type];\n\n    if (listeners !== undefined) {\n      listeners = listeners.slice();\n      var length = listeners.length;\n      event.target = this;\n\n      for (var i = 0; i < length; i++) {\n        // add original target as parameter for convenience\n        listeners[i].call(this, event, this);\n      }\n    }\n  }\n\n  static _polyfill(object, methods, callback) {\n    methods.map(function (_method) {\n      return object.method;\n    });\n    if (methods.length) callback(methods[0]);\n  }\n\n}\n\nexports.Binder = Binder;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Binder","_EventDispatcher","bind","context","globals","key","object","__binds","fallback","Array","isArray","match","exec","path","split","name","pop","dest","selector","shift","target","this","on","addEventListener","callback","event","_polyfill","method","push","__name","unbind","forEach","apply","trigger","_trigger","triggerOnce","_triggerOnce","hasEventListener","EventDispatcher","prototype","removeEventListener","off","dispatchEvent","_listeners","type","undefined","listeners","slice","length","i","call","methods","map","_method"]
}

{"version":3,"sources":["sicmutils/mechanics/routhian.cljc"],"mappings":"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","names":["sicmutils.mechanics.routhian/Lagrangian->Routhian","Lagrangian","p__82778","vec__82779","cljs.core.nth","vec__82782","t","q","vx","py","vy","G__82786","sicmutils.structure.up","fexpr__82787","sicmutils.mechanics.hamilton/Legendre-transform-procedure","L","sicmutils.mechanics.routhian/Routh-equations","Routhian","x","y","p__82799","vec__82800","p__82804","vec__82805","tau","v","G__82803","p","G__82808","fexpr__82809","sicmutils.calculus.derivative/D","fexpr__82811","fexpr__82812","sicmutils.mechanics.lagrange.Lagrange_equations","fexpr__82813","sicmutils.mechanics.hamilton/Hamilton-equations","H","var_args","G__82815","sicmutils.mechanics.routhian/Routhian->acceleration","js/Error","R","p__82816","vec__82817","vec__82820","_","s","minus-P","fexpr__82823","sicmutils.calculus.derivative.partial","minus-F","fexpr__82825","fexpr__82826","fexpr__82828","fexpr__82829","pyd","fexpr__82831","sicmutils.generic._STAR_","fexpr__82832","sicmutils.matrix.s_COLON_inverse","fexpr__82834","fexpr__82835","sicmutils.generic._","sicmutils.generic._PLUS_","fexpr__82837","fexpr__82838","fexpr__82840","fexpr__82841","fexpr__82843","fexpr__82844","fexpr__82846","fexpr__82847","dissipation-fn","p__82848","vec__82849","vec__82852","fexpr__82855","fexpr__82857","fexpr__82858","fexpr__82860","fexpr__82861","L-state","minus-F0","fexpr__82863","fexpr__82864","minus-F1","fexpr__82866","fexpr__82867","fexpr__82869","fexpr__82870","fexpr__82872","fexpr__82873","fexpr__82875","fexpr__82876","fexpr__82878","fexpr__82879","fexpr__82881","fexpr__82882","fexpr__82884","fexpr__82885","G__82887","sicmutils.mechanics.routhian/Routhian->state-derivative","p__82888","vec__82889","vec__82892","fexpr__82895","fexpr__82897","fexpr__82898","fexpr__82900","fexpr__82901","fexpr__82903","fexpr__82904","fexpr__82906","fexpr__82907","fexpr__82909","fexpr__82910","fexpr__82912","fexpr__82913","fexpr__82915","fexpr__82916","fexpr__82918","fexpr__82919","p__82920","vec__82921","vec__82924","fexpr__82927","fexpr__82929","fexpr__82930","fexpr__82932","fexpr__82933","fexpr__82935","fexpr__82936","fexpr__82938","fexpr__82939","fexpr__82941","fexpr__82942","fexpr__82944","fexpr__82945","fexpr__82947","fexpr__82948","fexpr__82950","fexpr__82951","fexpr__82953","fexpr__82954","fexpr__82956","fexpr__82957","sicmutils.mechanics.routhian/Lagrangian-state->Routhian-state","p__82958","vec__82959","vec__82962","fexpr__82966","fexpr__82967","sicmutils.mechanics.routhian/Routhian-state->Lagrangian-state","p__82968","vec__82969","vec__82972","fexpr__82976","fexpr__82977"],"sourcesContent":["#_\"SPDX-License-Identifier: GPL-3.0\"\n\n(ns sicmutils.mechanics.routhian\n  (:refer-clojure :exclude [+ - * / partial])\n  (:require [sicmutils.calculus.derivative :refer [D partial]]\n            [sicmutils.generic :as g :refer [+ - *]]\n            [sicmutils.matrix :as m]\n            [sicmutils.mechanics.hamilton :as h]\n            [sicmutils.mechanics.lagrange :as l]\n            [sicmutils.structure :refer [up]]))\n\n;; ## Routhian equations of motion\n\n;; From the 2nd edition of SICM, p.233.\n\n;; Assume a Lagrangian of the form L(t; x, y; vx, vy), where x and y may have\n;; substructure.\n;;\n;; We perform a Legendre transform on vy to get the Routhian.\n;;\n;; The equations of motion are Hamilton's equations for the py, y and Lagrange's\n;; equations for vx, x.\n\n(defn Lagrangian->Routhian [Lagrangian]\n  (fn [[t q [vx py]]]\n    (letfn [(L [vy]\n              (Lagrangian (up t q (up vx vy))))]\n      ((h/Legendre-transform-procedure L) py))))\n\n(defn Routh-equations [Routhian]\n  (fn [x y py]\n    (fn [t]\n      (letfn [(L [[tau q v]]\n                (Routhian\n                 (up tau (up q (y tau)) (up v (py tau)))))\n              (H [[tau q p]]\n                (Routhian\n                 (up tau (up (x tau) q) (up ((D x) tau) p))))]\n        (up\n         (((l/Lagrange-equations L) x) t)\n         (((h/Hamilton-equations H) y py) t))))))\n\n(defn Routhian->acceleration\n  ([R]\n   (fn [[_ _ [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy      (((partial 2 1) R) s)\n           pyd     ((* -1 ((partial 1 1) R)) s)]\n       (* (m/s:inverse vx\n                       (((partial 2 0) minus-P) s)\n                       vx)\n          (- minus-F\n             (+ (((partial 0) minus-P) s)\n                (* (((partial 1 0) minus-P) s) vx)\n                (* (((partial 1 1) minus-P) s) vy)\n                (* (((partial 2 1) minus-P) s) pyd)))))))\n  ([R dissipation-fn]\n   (fn [[t q [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy      (((partial 2 1) R) s)\n           L-state (up t q (up vx vy))\n           minus-F0 (((partial 2 0) dissipation-fn) L-state)\n           minus-F1 (((partial 2 1) dissipation-fn) L-state)\n           pyd (- ((* -1 ((partial 1 1) R)) s)\n                  minus-F1)]\n       (* (m/s:inverse vx\n                       (((partial 2 0) minus-P) s)\n                       vx)\n          (+ (- minus-F\n                (+ (((partial 0) minus-P) s)\n                   (* (((partial 1 0) minus-P) s) vx)\n                   (* (((partial 1 1) minus-P) s) vy)\n                   (* (((partial 2 1) minus-P) s) pyd)))\n             minus-F0))))))\n\n\n(defn Routhian->state-derivative\n  ([R]\n   (fn [[_ _ [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy      (((partial 2 1) R) s)\n           pyd     (- (((partial 1 1) R) s))]\n       (up 1\n           (up vx vy)\n           (up\n            (* (m/s:inverse vx (((partial 2 0) minus-P) s) vx)\n               (- minus-F\n                  (+ (((partial 0) minus-P) s)\n                     (* (((partial 1 0) minus-P) s) vx)\n                     (* (((partial 1 1) minus-P) s) vy)\n                     (* (((partial 2 1) minus-P) s) pyd)\n                     )))\n            pyd)))))\n  ([R dissipation-fn]\n   (fn [[t q [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy (((partial 2 1) R) s)\n           L-state (up t q (up vx vy))\n           minus-F0 (((partial 2 0) dissipation-fn) L-state)\n           minus-F1 (((partial 2 1) dissipation-fn) L-state)\n           pyd (- ((* -1 ((partial 1 1) R)) s) minus-F1)]\n       (up 1\n           (up vx vy)\n           (up\n            (* (m/s:inverse vx (((partial 2 0) minus-P) s) vx)\n               (+ (- minus-F\n                     (+ (((partial 0) minus-P) s)\n                        (* (((partial 1 0) minus-P) s) vx)\n                        (* (((partial 1 1) minus-P) s) vy)\n                        (* (((partial 2 1) minus-P) s) pyd)\n                        ))\n                  minus-F0))\n            pyd))))))\n\n(defn Lagrangian-state->Routhian-state [L]\n  (fn [[t q [vx] :as s]]\n    (let [py (-> (((partial 2) L) s)\n                 (nth 1))]\n      (up t q (up vx py)))))\n\n(defn Routhian-state->Lagrangian-state [R]\n  (fn [[t q [vx] :as s]]\n    (let [vy (-> (((partial 2) R) s)\n                 (nth 1))]\n      (up t q (up vx vy)))))\n"]}
{"version":3,"sources":["sicmutils/mechanics/routhian.cljc"],"mappings":"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","names":["sicmutils.mechanics.routhian/Lagrangian->Routhian","Lagrangian","p__103492","vec__103493","cljs.core.nth","vec__103496","t","q","vx","py","vy","G__103500","sicmutils.structure.up","fexpr__103503","sicmutils.mechanics.hamilton/Legendre-transform-procedure","L","sicmutils.mechanics.routhian/Routh-equations","Routhian","x","y","p__103523","vec__103525","p__103532","vec__103533","tau","v","G__103528","p","G__103536","fexpr__103540","sicmutils.calculus.derivative/D","fexpr__103542","fexpr__103543","sicmutils.mechanics.lagrange.Lagrange_equations","fexpr__103544","sicmutils.mechanics.hamilton/Hamilton-equations","H","var_args","G__103546","sicmutils.mechanics.routhian/Routhian->acceleration","js/Error","R","p__103550","vec__103551","vec__103554","_","s","minus-P","fexpr__103557","sicmutils.calculus.derivative.partial","minus-F","fexpr__103559","fexpr__103560","fexpr__103562","fexpr__103563","pyd","fexpr__103568","sicmutils.generic._STAR_","fexpr__103569","sicmutils.matrix.s_COLON_inverse","fexpr__103571","fexpr__103572","sicmutils.generic._","sicmutils.generic._PLUS_","fexpr__103574","fexpr__103575","fexpr__103577","fexpr__103578","fexpr__103580","fexpr__103581","fexpr__103586","fexpr__103587","dissipation-fn","p__103591","vec__103592","vec__103595","fexpr__103598","fexpr__103603","fexpr__103604","fexpr__103609","fexpr__103610","L-state","minus-F0","fexpr__103612","fexpr__103613","minus-F1","fexpr__103615","fexpr__103616","fexpr__103621","fexpr__103622","fexpr__103627","fexpr__103628","fexpr__103634","fexpr__103635","fexpr__103645","fexpr__103646","fexpr__103651","fexpr__103652","fexpr__103658","fexpr__103659","G__103666","sicmutils.mechanics.routhian/Routhian->state-derivative","p__103671","vec__103676","vec__103679","fexpr__103683","fexpr__103686","fexpr__103687","fexpr__103689","fexpr__103690","fexpr__103693","fexpr__103694","fexpr__103704","fexpr__103705","fexpr__103711","fexpr__103712","fexpr__103715","fexpr__103719","fexpr__103721","fexpr__103723","fexpr__103728","fexpr__103729","p__103734","vec__103735","vec__103738","fexpr__103766","fexpr__103768","fexpr__103769","fexpr__103771","fexpr__103772","fexpr__103774","fexpr__103775","fexpr__103777","fexpr__103778","fexpr__103780","fexpr__103781","fexpr__103783","fexpr__103784","fexpr__103786","fexpr__103787","fexpr__103789","fexpr__103790","fexpr__103792","fexpr__103793","fexpr__103796","fexpr__103802","sicmutils.mechanics.routhian/Lagrangian-state->Routhian-state","p__103823","vec__103824","vec__103827","fexpr__103843","fexpr__103844","sicmutils.mechanics.routhian/Routhian-state->Lagrangian-state","p__103848","vec__103849","vec__103852","fexpr__103856","fexpr__103857"],"sourcesContent":["#_\"SPDX-License-Identifier: GPL-3.0\"\n\n(ns sicmutils.mechanics.routhian\n  (:refer-clojure :exclude [+ - * / partial])\n  (:require [sicmutils.calculus.derivative :refer [D partial]]\n            [sicmutils.generic :as g :refer [+ - *]]\n            [sicmutils.matrix :as m]\n            [sicmutils.mechanics.hamilton :as h]\n            [sicmutils.mechanics.lagrange :as l]\n            [sicmutils.structure :refer [up]]))\n\n;; ## Routhian equations of motion\n\n;; From the 2nd edition of SICM, p.233.\n\n;; Assume a Lagrangian of the form L(t; x, y; vx, vy), where x and y may have\n;; substructure.\n;;\n;; We perform a Legendre transform on vy to get the Routhian.\n;;\n;; The equations of motion are Hamilton's equations for the py, y and Lagrange's\n;; equations for vx, x.\n\n(defn Lagrangian->Routhian [Lagrangian]\n  (fn [[t q [vx py]]]\n    (letfn [(L [vy]\n              (Lagrangian (up t q (up vx vy))))]\n      ((h/Legendre-transform-procedure L) py))))\n\n(defn Routh-equations [Routhian]\n  (fn [x y py]\n    (fn [t]\n      (letfn [(L [[tau q v]]\n                (Routhian\n                 (up tau (up q (y tau)) (up v (py tau)))))\n              (H [[tau q p]]\n                (Routhian\n                 (up tau (up (x tau) q) (up ((D x) tau) p))))]\n        (up\n         (((l/Lagrange-equations L) x) t)\n         (((h/Hamilton-equations H) y py) t))))))\n\n(defn Routhian->acceleration\n  ([R]\n   (fn [[_ _ [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy      (((partial 2 1) R) s)\n           pyd     ((* -1 ((partial 1 1) R)) s)]\n       (* (m/s:inverse vx\n                       (((partial 2 0) minus-P) s)\n                       vx)\n          (- minus-F\n             (+ (((partial 0) minus-P) s)\n                (* (((partial 1 0) minus-P) s) vx)\n                (* (((partial 1 1) minus-P) s) vy)\n                (* (((partial 2 1) minus-P) s) pyd)))))))\n  ([R dissipation-fn]\n   (fn [[t q [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy      (((partial 2 1) R) s)\n           L-state (up t q (up vx vy))\n           minus-F0 (((partial 2 0) dissipation-fn) L-state)\n           minus-F1 (((partial 2 1) dissipation-fn) L-state)\n           pyd (- ((* -1 ((partial 1 1) R)) s)\n                  minus-F1)]\n       (* (m/s:inverse vx\n                       (((partial 2 0) minus-P) s)\n                       vx)\n          (+ (- minus-F\n                (+ (((partial 0) minus-P) s)\n                   (* (((partial 1 0) minus-P) s) vx)\n                   (* (((partial 1 1) minus-P) s) vy)\n                   (* (((partial 2 1) minus-P) s) pyd)))\n             minus-F0))))))\n\n\n(defn Routhian->state-derivative\n  ([R]\n   (fn [[_ _ [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy      (((partial 2 1) R) s)\n           pyd     (- (((partial 1 1) R) s))]\n       (up 1\n           (up vx vy)\n           (up\n            (* (m/s:inverse vx (((partial 2 0) minus-P) s) vx)\n               (- minus-F\n                  (+ (((partial 0) minus-P) s)\n                     (* (((partial 1 0) minus-P) s) vx)\n                     (* (((partial 1 1) minus-P) s) vy)\n                     (* (((partial 2 1) minus-P) s) pyd)\n                     )))\n            pyd)))))\n  ([R dissipation-fn]\n   (fn [[t q [vx] :as s]]\n     (let [minus-P ((partial 2 0) R)\n           minus-F (((partial 1 0) R) s)\n           vy (((partial 2 1) R) s)\n           L-state (up t q (up vx vy))\n           minus-F0 (((partial 2 0) dissipation-fn) L-state)\n           minus-F1 (((partial 2 1) dissipation-fn) L-state)\n           pyd (- ((* -1 ((partial 1 1) R)) s) minus-F1)]\n       (up 1\n           (up vx vy)\n           (up\n            (* (m/s:inverse vx (((partial 2 0) minus-P) s) vx)\n               (+ (- minus-F\n                     (+ (((partial 0) minus-P) s)\n                        (* (((partial 1 0) minus-P) s) vx)\n                        (* (((partial 1 1) minus-P) s) vy)\n                        (* (((partial 2 1) minus-P) s) pyd)\n                        ))\n                  minus-F0))\n            pyd))))))\n\n(defn Lagrangian-state->Routhian-state [L]\n  (fn [[t q [vx] :as s]]\n    (let [py (-> (((partial 2) L) s)\n                 (nth 1))]\n      (up t q (up vx py)))))\n\n(defn Routhian-state->Lagrangian-state [R]\n  (fn [[t q [vx] :as s]]\n    (let [vy (-> (((partial 2) R) s)\n                 (nth 1))]\n      (up t q (up vx vy)))))\n"]}
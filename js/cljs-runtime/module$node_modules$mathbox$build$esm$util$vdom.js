shadow$provide.module$node_modules$mathbox$build$esm$util$vdom=function(global,require,module,exports){function __range__(left,right,inclusive){const range=[],ascending=left<right;for(right=inclusive?ascending?right+1:right-1:right;ascending?left<right:left>right;ascending?left++:left--)range.push(left);return range}Object.defineProperty(exports,"__esModule",{value:!0});exports.createClass=exports.apply=exports.recycle=exports.element=exports.hint=exports.Types=void 0;const HEAP=[];let id=0;const Types=
{};exports.Types=Types;const descriptor=()=>({id:id++,type:null,props:null,children:null,rendered:null,instance:null});exports.hint=function(n){n=Math.max(0,HEAP.length-2*n);return __range__(0,n,!1).map(_i=>HEAP.push(descriptor()))};const element=function(type,props,children){const el=HEAP.length?HEAP.pop():descriptor();el.type=null!=type?type:"div";el.props=null!=props?props:null;el.children=null!=children?children:null;return el};exports.element=element;const recycle=function(el){if(el.type){var {children}=
el;el.type=el.props=el.children=el.instance=null;HEAP.push(el);if(null!=children)for(const child of Array.from(children))recycle(child)}};exports.recycle=recycle;const apply=function(el,last,node,parent,index){if(null!=el){if(null==last)return mount(el,parent,index);var same;if(el instanceof Node){if(same=el===last)return}else same=typeof el===typeof last&&null!==last&&null!==el&&el.type===last.type;if(same){el.instance=last.instance;const type=null!=el.type&&el.type.isComponentClass?el.type:Types[el.type],
props=null!=last?last.props:void 0,nextProps=el.props;same=null!=(null!=last?last.children:void 0)?null!=last?last.children:void 0:null;var nextChildren=el.children;null!=nextProps&&(nextProps.children=nextChildren);if(null!=type){var ref=node._COMPONENT_DIRTY;null!=props!==(null!=nextProps)&&(ref=!0);same!==nextChildren&&(ref=!0);if(null!=props&&null!=nextProps){if(!ref)for(key in props)Object.prototype.hasOwnProperty.call(nextProps,key)||(ref=!0);if(!ref)for(key in nextProps){var value=nextProps[key];
props[key]!==value&&(ref=!0)}}if(ref){var left;same=last.instance;null==el.props&&(el.props={});for(const k in same.defaultProps)nextChildren=same.defaultProps[k],null==el.props[k]&&(el.props[k]=nextChildren);el.props.children=el.children;"function"===typeof same.willReceiveProps&&same.willReceiveProps(el.props);if(nextChildren=node._COMPONENT_FORCE||(null!=(left="function"===typeof same.shouldUpdate?same.shouldUpdate(el.props):void 0)?left:!0)){var key=same.getNextState();"function"===typeof same.willUpdate&&
same.willUpdate(el.props,key)}key=same.props;left=same.applyNextState();same.props=el.props;same.children=el.children;nextChildren&&(el=el.rendered="function"===typeof same.render?same.render(element,el.props,el.children):void 0,apply(el,last.rendered,node,parent,index),"function"===typeof same.didUpdate&&same.didUpdate(key,left))}}else{if(null!=props)for(key in props)if(!Object.prototype.hasOwnProperty.call(nextProps,key))if(el=node,last=key,parent=props[key],"style"===last)for(value in parent)el.style[null!=
map[value]?map[value]:value]="";else null!=el[last]&&(el[last]=void 0),el instanceof Node&&el.removeAttribute(last);if(null!=nextProps)for(key in nextProps)value=nextProps[key],(ref=props[key])!==value&&"children"!==key&&set(node,key,value,ref);if(null!=nextChildren)if(["string","number"].includes(typeof nextChildren))nextChildren!==same&&(node.textContent=nextChildren);else if(null!=nextChildren.type)apply(nextChildren,same,node.childNodes[0],node,0);else if({childNodes:parent}=node,null!=same)for(last=
0;last<nextChildren.length;last++)el=nextChildren[last],apply(el,same[last],parent[last],node,last);else for(last=0;last<nextChildren.length;last++)el=nextChildren[last],apply(el,null,parent[last],node,last);else null!=same&&(unmount(null,node),node.innerHTML="")}return}unmount(last.instance,node);node.remove();return mount(el,parent,index)}if(null!=last)return unmount(last.instance,node),last.node.remove()};exports.apply=apply;const mount=function(el,parent,index){null==index&&(index=0);var type=
null!=el.type&&el.type.isComponentClass?el.type:Types[el.type];if(el instanceof Node)var node=el;else{if(null!=type){var comp=null!=el.type&&el.type.isComponentClass?el.type:Types[el.type];if(!comp)return el=el.rendered=element("noscript"),node=mount(el,parent,index);el.instance=comp=new comp(parent);null==el.props&&(el.props={});for(node in comp.defaultProps)type=comp.defaultProps[node],null==el.props[node]&&(el.props[node]=type);el.props.children=el.children;comp.props=el.props;comp.children=el.children;
comp.setState("function"===typeof comp.getInitialState?comp.getInitialState():void 0);"function"===typeof comp.willMount&&comp.willMount();el=el.rendered="function"===typeof comp.render?comp.render(element,el.props,el.children):void 0;node=mount(el,parent,index);"function"===typeof comp.didMount&&comp.didMount(el);node._COMPONENT=comp;return node}if(["string","number"].includes(typeof el))node=document.createTextNode(el);else for(comp in node=document.createElement(el.type),el.props)set(node,comp,
el.props[comp]);({children:el}=el);if(null!=el)if(["string","number"].includes(typeof el))node.textContent=el;else if(null!=el.type)mount(el,node,0);else for(comp=0;comp<el.length;comp++)mount(el[comp],node,comp)}parent.insertBefore(node,parent.childNodes[index]);return node},unmount=function(comp,node){if(comp){"function"===typeof comp.willUnmount&&comp.willUnmount();for(const k in comp)delete comp[k]}comp=[];for(const child of Array.from(node.childNodes))unmount(child._COMPONENT,child),comp.push(delete child._COMPONENT);
return comp};global=function(key){if("undefined"===typeof document)return!0;if(null!=document.documentElement.style[key])return key;key=key[0].toUpperCase()+key.slice(1);const prefixes=["webkit","moz","ms","o"];for(const prefix of Array.from(prefixes))if(null!=document.documentElement.style[prefix+key])return prefix+key};const map={};for(const key of["transform"])map[key]=global(key);const set=function(node,key,value,orig){if("style"===key)for(const k in value)key=value[k],(null!=orig?orig[k]:void 0)!==
key&&(node.style[null!=map[k]?map[k]:k]=key);else if(null!=node[key])try{node[key]=value}catch(e1){console.log("failed setting "+key)}else node instanceof Node&&node.setAttribute(key,value)};exports.createClass=function(prototype){let left;const aliases={willMount:"componentWillMount",didMount:"componentDidMount",willReceiveProps:"componentWillReceiveProps",shouldUpdate:"shouldComponentUpdate",willUpdate:"componentWillUpdate",didUpdate:"componentDidUpdate",willUnmount:"componentWillUnmount"};for(const a in aliases){const b=
aliases[a];null==prototype[a]&&(prototype[a]=prototype[b])}class Component{constructor(node,props,state$jscomp$0=null,children=null){let k,v;null==props&&(props={});this.props=props;this.state=state$jscomp$0;this.children=children;props=function(f,self){return"function"===typeof f?f.bind(self):f};for(k in prototype)v=prototype[k],this[k]=props(v,this);let nextState=null;this.setState=function(state){null==nextState&&(nextState=state?null!=nextState?nextState:{}:null);for(k in state)v=state[k],nextState[k]=
v;node._COMPONENT_DIRTY=!0};this.forceUpdate=function(){node._COMPONENT_FORCE=node._COMPONENT_DIRTY=!0;let el=node;const result=[];for(;el=el.parentNode;)el._COMPONENT?result.push(el._COMPONENT_FORCE=!0):result.push(void 0);return result};this.getNextState=()=>nextState;this.applyNextState=function(){node._COMPONENT_FORCE=node._COMPONENT_DIRTY=!1;const prevState=this.state;[nextState,this.state]=Array.from([null,nextState]);return prevState}}}Component.isComponentClass=!0;Component.prototype.defaultProps=
null!=(left="function"===typeof prototype.getDefaultProps?prototype.getDefaultProps():void 0)?left:{};return Component}}
//# sourceMappingURL=module$node_modules$mathbox$build$esm$util$vdom.js.map

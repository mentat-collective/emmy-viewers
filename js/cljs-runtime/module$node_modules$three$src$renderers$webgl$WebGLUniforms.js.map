{
"version":3,
"file":"module$node_modules$three$src$renderers$webgl$WebGLUniforms.js",
"lineCount":22,
"mappings":"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",
"sources":["node_modules/three/src/renderers/webgl/WebGLUniforms.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$src$renderers$webgl$WebGLUniforms\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebGLUniforms = WebGLUniforms;\n\nvar _CubeTexture = require(\"../../textures/CubeTexture.js\");\n\nvar _Texture = require(\"../../textures/Texture.js\");\n\nvar _DataTexture2DArray = require(\"../../textures/DataTexture2DArray.js\");\n\nvar _DataTexture3D = require(\"../../textures/DataTexture3D.js\");\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\nconst emptyTexture = new _Texture.Texture();\nconst emptyTexture2dArray = new _DataTexture2DArray.DataTexture2DArray();\nconst emptyTexture3d = new _DataTexture3D.DataTexture3D();\nconst emptyCubeTexture = new _CubeTexture.CubeTexture(); // --- Utilities ---\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = []; // Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array(16);\nconst mat3array = new Float32Array(9);\nconst mat2array = new Float32Array(4); // Flattening for arrays of vectors and matrices\n\nfunction flatten(array, nBlocks, blockSize) {\n  const firstElem = array[0];\n  if (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )\n  // see http://jacksondunstan.com/articles/983\n\n  const n = nBlocks * blockSize;\n  let r = arrayCacheF32[n];\n\n  if (r === undefined) {\n    r = new Float32Array(n);\n    arrayCacheF32[n] = r;\n  }\n\n  if (nBlocks !== 0) {\n    firstElem.toArray(r, 0);\n\n    for (let i = 1, offset = 0; i !== nBlocks; ++i) {\n      offset += blockSize;\n      array[i].toArray(r, offset);\n    }\n  }\n\n  return r;\n}\n\nfunction arraysEqual(a, b) {\n  if (a.length !== b.length) return false;\n\n  for (let i = 0, l = a.length; i < l; i++) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n\nfunction copyArray(a, b) {\n  for (let i = 0, l = b.length; i < l; i++) {\n    a[i] = b[i];\n  }\n} // Texture unit allocation\n\n\nfunction allocTexUnits(textures, n) {\n  let r = arrayCacheI32[n];\n\n  if (r === undefined) {\n    r = new Int32Array(n);\n    arrayCacheI32[n] = r;\n  }\n\n  for (let i = 0; i !== n; ++i) {\n    r[i] = textures.allocateTextureUnit();\n  }\n\n  return r;\n} // --- Setters ---\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n// Single scalar\n\n\nfunction setValueV1f(gl, v) {\n  const cache = this.cache;\n  if (cache[0] === v) return;\n  gl.uniform1f(this.addr, v);\n  cache[0] = v;\n} // Single float vector (from flat array or THREE.VectorN)\n\n\nfunction setValueV2f(gl, v) {\n  const cache = this.cache;\n\n  if (v.x !== undefined) {\n    if (cache[0] !== v.x || cache[1] !== v.y) {\n      gl.uniform2f(this.addr, v.x, v.y);\n      cache[0] = v.x;\n      cache[1] = v.y;\n    }\n  } else {\n    if (arraysEqual(cache, v)) return;\n    gl.uniform2fv(this.addr, v);\n    copyArray(cache, v);\n  }\n}\n\nfunction setValueV3f(gl, v) {\n  const cache = this.cache;\n\n  if (v.x !== undefined) {\n    if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n      gl.uniform3f(this.addr, v.x, v.y, v.z);\n      cache[0] = v.x;\n      cache[1] = v.y;\n      cache[2] = v.z;\n    }\n  } else if (v.r !== undefined) {\n    if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n      gl.uniform3f(this.addr, v.r, v.g, v.b);\n      cache[0] = v.r;\n      cache[1] = v.g;\n      cache[2] = v.b;\n    }\n  } else {\n    if (arraysEqual(cache, v)) return;\n    gl.uniform3fv(this.addr, v);\n    copyArray(cache, v);\n  }\n}\n\nfunction setValueV4f(gl, v) {\n  const cache = this.cache;\n\n  if (v.x !== undefined) {\n    if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n      gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n      cache[0] = v.x;\n      cache[1] = v.y;\n      cache[2] = v.z;\n      cache[3] = v.w;\n    }\n  } else {\n    if (arraysEqual(cache, v)) return;\n    gl.uniform4fv(this.addr, v);\n    copyArray(cache, v);\n  }\n} // Single matrix (from flat array or THREE.MatrixN)\n\n\nfunction setValueM2(gl, v) {\n  const cache = this.cache;\n  const elements = v.elements;\n\n  if (elements === undefined) {\n    if (arraysEqual(cache, v)) return;\n    gl.uniformMatrix2fv(this.addr, false, v);\n    copyArray(cache, v);\n  } else {\n    if (arraysEqual(cache, elements)) return;\n    mat2array.set(elements);\n    gl.uniformMatrix2fv(this.addr, false, mat2array);\n    copyArray(cache, elements);\n  }\n}\n\nfunction setValueM3(gl, v) {\n  const cache = this.cache;\n  const elements = v.elements;\n\n  if (elements === undefined) {\n    if (arraysEqual(cache, v)) return;\n    gl.uniformMatrix3fv(this.addr, false, v);\n    copyArray(cache, v);\n  } else {\n    if (arraysEqual(cache, elements)) return;\n    mat3array.set(elements);\n    gl.uniformMatrix3fv(this.addr, false, mat3array);\n    copyArray(cache, elements);\n  }\n}\n\nfunction setValueM4(gl, v) {\n  const cache = this.cache;\n  const elements = v.elements;\n\n  if (elements === undefined) {\n    if (arraysEqual(cache, v)) return;\n    gl.uniformMatrix4fv(this.addr, false, v);\n    copyArray(cache, v);\n  } else {\n    if (arraysEqual(cache, elements)) return;\n    mat4array.set(elements);\n    gl.uniformMatrix4fv(this.addr, false, mat4array);\n    copyArray(cache, elements);\n  }\n} // Single integer / boolean\n\n\nfunction setValueV1i(gl, v) {\n  const cache = this.cache;\n  if (cache[0] === v) return;\n  gl.uniform1i(this.addr, v);\n  cache[0] = v;\n} // Single integer / boolean vector (from flat array)\n\n\nfunction setValueV2i(gl, v) {\n  const cache = this.cache;\n  if (arraysEqual(cache, v)) return;\n  gl.uniform2iv(this.addr, v);\n  copyArray(cache, v);\n}\n\nfunction setValueV3i(gl, v) {\n  const cache = this.cache;\n  if (arraysEqual(cache, v)) return;\n  gl.uniform3iv(this.addr, v);\n  copyArray(cache, v);\n}\n\nfunction setValueV4i(gl, v) {\n  const cache = this.cache;\n  if (arraysEqual(cache, v)) return;\n  gl.uniform4iv(this.addr, v);\n  copyArray(cache, v);\n} // Single unsigned integer\n\n\nfunction setValueV1ui(gl, v) {\n  const cache = this.cache;\n  if (cache[0] === v) return;\n  gl.uniform1ui(this.addr, v);\n  cache[0] = v;\n} // Single unsigned integer vector (from flat array)\n\n\nfunction setValueV2ui(gl, v) {\n  const cache = this.cache;\n  if (arraysEqual(cache, v)) return;\n  gl.uniform2uiv(this.addr, v);\n  copyArray(cache, v);\n}\n\nfunction setValueV3ui(gl, v) {\n  const cache = this.cache;\n  if (arraysEqual(cache, v)) return;\n  gl.uniform3uiv(this.addr, v);\n  copyArray(cache, v);\n}\n\nfunction setValueV4ui(gl, v) {\n  const cache = this.cache;\n  if (arraysEqual(cache, v)) return;\n  gl.uniform4uiv(this.addr, v);\n  copyArray(cache, v);\n} // Single texture (2D / Cube)\n\n\nfunction setValueT1(gl, v, textures) {\n  const cache = this.cache;\n  const unit = textures.allocateTextureUnit();\n\n  if (cache[0] !== unit) {\n    gl.uniform1i(this.addr, unit);\n    cache[0] = unit;\n  }\n\n  textures.safeSetTexture2D(v || emptyTexture, unit);\n}\n\nfunction setValueT3D1(gl, v, textures) {\n  const cache = this.cache;\n  const unit = textures.allocateTextureUnit();\n\n  if (cache[0] !== unit) {\n    gl.uniform1i(this.addr, unit);\n    cache[0] = unit;\n  }\n\n  textures.setTexture3D(v || emptyTexture3d, unit);\n}\n\nfunction setValueT6(gl, v, textures) {\n  const cache = this.cache;\n  const unit = textures.allocateTextureUnit();\n\n  if (cache[0] !== unit) {\n    gl.uniform1i(this.addr, unit);\n    cache[0] = unit;\n  }\n\n  textures.safeSetTextureCube(v || emptyCubeTexture, unit);\n}\n\nfunction setValueT2DArray1(gl, v, textures) {\n  const cache = this.cache;\n  const unit = textures.allocateTextureUnit();\n\n  if (cache[0] !== unit) {\n    gl.uniform1i(this.addr, unit);\n    cache[0] = unit;\n  }\n\n  textures.setTexture2DArray(v || emptyTexture2dArray, unit);\n} // Helper to pick the right setter for the singular case\n\n\nfunction getSingularSetter(type) {\n  switch (type) {\n    case 0x1406:\n      return setValueV1f;\n    // FLOAT\n\n    case 0x8b50:\n      return setValueV2f;\n    // _VEC2\n\n    case 0x8b51:\n      return setValueV3f;\n    // _VEC3\n\n    case 0x8b52:\n      return setValueV4f;\n    // _VEC4\n\n    case 0x8b5a:\n      return setValueM2;\n    // _MAT2\n\n    case 0x8b5b:\n      return setValueM3;\n    // _MAT3\n\n    case 0x8b5c:\n      return setValueM4;\n    // _MAT4\n\n    case 0x1404:\n    case 0x8b56:\n      return setValueV1i;\n    // INT, BOOL\n\n    case 0x8b53:\n    case 0x8b57:\n      return setValueV2i;\n    // _VEC2\n\n    case 0x8b54:\n    case 0x8b58:\n      return setValueV3i;\n    // _VEC3\n\n    case 0x8b55:\n    case 0x8b59:\n      return setValueV4i;\n    // _VEC4\n\n    case 0x1405:\n      return setValueV1ui;\n    // UINT\n\n    case 0x8dc6:\n      return setValueV2ui;\n    // _VEC2\n\n    case 0x8dc7:\n      return setValueV3ui;\n    // _VEC3\n\n    case 0x8dc8:\n      return setValueV4ui;\n    // _VEC4\n\n    case 0x8b5e: // SAMPLER_2D\n\n    case 0x8d66: // SAMPLER_EXTERNAL_OES\n\n    case 0x8dca: // INT_SAMPLER_2D\n\n    case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n    case 0x8b62:\n      // SAMPLER_2D_SHADOW\n      return setValueT1;\n\n    case 0x8b5f: // SAMPLER_3D\n\n    case 0x8dcb: // INT_SAMPLER_3D\n\n    case 0x8dd3:\n      // UNSIGNED_INT_SAMPLER_3D\n      return setValueT3D1;\n\n    case 0x8b60: // SAMPLER_CUBE\n\n    case 0x8dcc: // INT_SAMPLER_CUBE\n\n    case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n    case 0x8dc5:\n      // SAMPLER_CUBE_SHADOW\n      return setValueT6;\n\n    case 0x8dc1: // SAMPLER_2D_ARRAY\n\n    case 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n    case 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n    case 0x8dc4:\n      // SAMPLER_2D_ARRAY_SHADOW\n      return setValueT2DArray1;\n  }\n} // Array of scalars\n\n\nfunction setValueV1fArray(gl, v) {\n  gl.uniform1fv(this.addr, v);\n} // Array of vectors (from flat array or array of THREE.VectorN)\n\n\nfunction setValueV2fArray(gl, v) {\n  const data = flatten(v, this.size, 2);\n  gl.uniform2fv(this.addr, data);\n}\n\nfunction setValueV3fArray(gl, v) {\n  const data = flatten(v, this.size, 3);\n  gl.uniform3fv(this.addr, data);\n}\n\nfunction setValueV4fArray(gl, v) {\n  const data = flatten(v, this.size, 4);\n  gl.uniform4fv(this.addr, data);\n} // Array of matrices (from flat array or array of THREE.MatrixN)\n\n\nfunction setValueM2Array(gl, v) {\n  const data = flatten(v, this.size, 4);\n  gl.uniformMatrix2fv(this.addr, false, data);\n}\n\nfunction setValueM3Array(gl, v) {\n  const data = flatten(v, this.size, 9);\n  gl.uniformMatrix3fv(this.addr, false, data);\n}\n\nfunction setValueM4Array(gl, v) {\n  const data = flatten(v, this.size, 16);\n  gl.uniformMatrix4fv(this.addr, false, data);\n} // Array of integer / boolean\n\n\nfunction setValueV1iArray(gl, v) {\n  gl.uniform1iv(this.addr, v);\n} // Array of integer / boolean vectors (from flat array)\n\n\nfunction setValueV2iArray(gl, v) {\n  gl.uniform2iv(this.addr, v);\n}\n\nfunction setValueV3iArray(gl, v) {\n  gl.uniform3iv(this.addr, v);\n}\n\nfunction setValueV4iArray(gl, v) {\n  gl.uniform4iv(this.addr, v);\n} // Array of unsigned integer\n\n\nfunction setValueV1uiArray(gl, v) {\n  gl.uniform1uiv(this.addr, v);\n} // Array of unsigned integer vectors (from flat array)\n\n\nfunction setValueV2uiArray(gl, v) {\n  gl.uniform2uiv(this.addr, v);\n}\n\nfunction setValueV3uiArray(gl, v) {\n  gl.uniform3uiv(this.addr, v);\n}\n\nfunction setValueV4uiArray(gl, v) {\n  gl.uniform4uiv(this.addr, v);\n} // Array of textures (2D / 3D / Cube / 2DArray)\n\n\nfunction setValueT1Array(gl, v, textures) {\n  const n = v.length;\n  const units = allocTexUnits(textures, n);\n  gl.uniform1iv(this.addr, units);\n\n  for (let i = 0; i !== n; ++i) {\n    textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n  }\n}\n\nfunction setValueT3DArray(gl, v, textures) {\n  const n = v.length;\n  const units = allocTexUnits(textures, n);\n  gl.uniform1iv(this.addr, units);\n\n  for (let i = 0; i !== n; ++i) {\n    textures.setTexture3D(v[i] || emptyTexture3d, units[i]);\n  }\n}\n\nfunction setValueT6Array(gl, v, textures) {\n  const n = v.length;\n  const units = allocTexUnits(textures, n);\n  gl.uniform1iv(this.addr, units);\n\n  for (let i = 0; i !== n; ++i) {\n    textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n  }\n}\n\nfunction setValueT2DArrayArray(gl, v, textures) {\n  const n = v.length;\n  const units = allocTexUnits(textures, n);\n  gl.uniform1iv(this.addr, units);\n\n  for (let i = 0; i !== n; ++i) {\n    textures.setTexture2DArray(v[i] || emptyTexture2dArray, units[i]);\n  }\n} // Helper to pick the right setter for a pure (bottom-level) array\n\n\nfunction getPureArraySetter(type) {\n  switch (type) {\n    case 0x1406:\n      return setValueV1fArray;\n    // FLOAT\n\n    case 0x8b50:\n      return setValueV2fArray;\n    // _VEC2\n\n    case 0x8b51:\n      return setValueV3fArray;\n    // _VEC3\n\n    case 0x8b52:\n      return setValueV4fArray;\n    // _VEC4\n\n    case 0x8b5a:\n      return setValueM2Array;\n    // _MAT2\n\n    case 0x8b5b:\n      return setValueM3Array;\n    // _MAT3\n\n    case 0x8b5c:\n      return setValueM4Array;\n    // _MAT4\n\n    case 0x1404:\n    case 0x8b56:\n      return setValueV1iArray;\n    // INT, BOOL\n\n    case 0x8b53:\n    case 0x8b57:\n      return setValueV2iArray;\n    // _VEC2\n\n    case 0x8b54:\n    case 0x8b58:\n      return setValueV3iArray;\n    // _VEC3\n\n    case 0x8b55:\n    case 0x8b59:\n      return setValueV4iArray;\n    // _VEC4\n\n    case 0x1405:\n      return setValueV1uiArray;\n    // UINT\n\n    case 0x8dc6:\n      return setValueV2uiArray;\n    // _VEC2\n\n    case 0x8dc7:\n      return setValueV3uiArray;\n    // _VEC3\n\n    case 0x8dc8:\n      return setValueV4uiArray;\n    // _VEC4\n\n    case 0x8b5e: // SAMPLER_2D\n\n    case 0x8d66: // SAMPLER_EXTERNAL_OES\n\n    case 0x8dca: // INT_SAMPLER_2D\n\n    case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n    case 0x8b62:\n      // SAMPLER_2D_SHADOW\n      return setValueT1Array;\n\n    case 0x8b5f: // SAMPLER_3D\n\n    case 0x8dcb: // INT_SAMPLER_3D\n\n    case 0x8dd3:\n      // UNSIGNED_INT_SAMPLER_3D\n      return setValueT3DArray;\n\n    case 0x8b60: // SAMPLER_CUBE\n\n    case 0x8dcc: // INT_SAMPLER_CUBE\n\n    case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n    case 0x8dc5:\n      // SAMPLER_CUBE_SHADOW\n      return setValueT6Array;\n\n    case 0x8dc1: // SAMPLER_2D_ARRAY\n\n    case 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n    case 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n    case 0x8dc4:\n      // SAMPLER_2D_ARRAY_SHADOW\n      return setValueT2DArrayArray;\n  }\n} // --- Uniform Classes ---\n\n\nfunction SingleUniform(id, activeInfo, addr) {\n  this.id = id;\n  this.addr = addr;\n  this.cache = [];\n  this.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n}\n\nfunction PureArrayUniform(id, activeInfo, addr) {\n  this.id = id;\n  this.addr = addr;\n  this.cache = [];\n  this.size = activeInfo.size;\n  this.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n}\n\nPureArrayUniform.prototype.updateCache = function (data) {\n  const cache = this.cache;\n\n  if (data instanceof Float32Array && cache.length !== data.length) {\n    this.cache = new Float32Array(data.length);\n  }\n\n  copyArray(cache, data);\n};\n\nfunction StructuredUniform(id) {\n  this.id = id;\n  this.seq = [];\n  this.map = {};\n}\n\nStructuredUniform.prototype.setValue = function (gl, value, textures) {\n  const seq = this.seq;\n\n  for (let i = 0, n = seq.length; i !== n; ++i) {\n    const u = seq[i];\n    u.setValue(gl, value[u.id], textures);\n  }\n}; // --- Top-level ---\n// Parser - builds up the property tree from the path strings\n\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g; // extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform(container, uniformObject) {\n  container.seq.push(uniformObject);\n  container.map[uniformObject.id] = uniformObject;\n}\n\nfunction parseUniform(activeInfo, addr, container) {\n  const path = activeInfo.name,\n        pathLength = path.length; // reset RegExp object, because of the early exit of a previous run\n\n  RePathPart.lastIndex = 0;\n\n  while (true) {\n    const match = RePathPart.exec(path),\n          matchEnd = RePathPart.lastIndex;\n    let id = match[1];\n    const idIsIndex = match[2] === ']',\n          subscript = match[3];\n    if (idIsIndex) id = id | 0; // convert to integer\n\n    if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n      // bare name or \"pure\" bottom-level array \"[0]\" suffix\n      addUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));\n      break;\n    } else {\n      // step into inner node / create it in case it doesn't exist\n      const map = container.map;\n      let next = map[id];\n\n      if (next === undefined) {\n        next = new StructuredUniform(id);\n        addUniform(container, next);\n      }\n\n      container = next;\n    }\n  }\n} // Root Container\n\n\nfunction WebGLUniforms(gl, program) {\n  this.seq = [];\n  this.map = {};\n  const n = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n  for (let i = 0; i < n; ++i) {\n    const info = gl.getActiveUniform(program, i),\n          addr = gl.getUniformLocation(program, info.name);\n    parseUniform(info, addr, this);\n  }\n}\n\nWebGLUniforms.prototype.setValue = function (gl, name, value, textures) {\n  const u = this.map[name];\n  if (u !== undefined) u.setValue(gl, value, textures);\n};\n\nWebGLUniforms.prototype.setOptional = function (gl, object, name) {\n  const v = object[name];\n  if (v !== undefined) this.setValue(gl, name, v);\n}; // Static interface\n\n\nWebGLUniforms.upload = function (gl, seq, values, textures) {\n  for (let i = 0, n = seq.length; i !== n; ++i) {\n    const u = seq[i],\n          v = values[u.id];\n\n    if (v.needsUpdate !== false) {\n      // note: always updating when .needsUpdate is undefined\n      u.setValue(gl, v.value, textures);\n    }\n  }\n};\n\nWebGLUniforms.seqWithValue = function (seq, values) {\n  const r = [];\n\n  for (let i = 0, n = seq.length; i !== n; ++i) {\n    const u = seq[i];\n    if (u.id in values) r.push(u);\n  }\n\n  return r;\n};\n};"],
"names":["shadow$provide","global","require","module","exports","flatten","array","nBlocks","blockSize","firstElem","n","r","arrayCacheF32","undefined","Float32Array","toArray","i","offset","arraysEqual","a","b","length","l","copyArray","allocTexUnits","textures","arrayCacheI32","Int32Array","allocateTextureUnit","setValueV1f","gl","v","cache","uniform1f","addr","setValueV2f","x","y","uniform2f","uniform2fv","setValueV3f","z","uniform3f","g","uniform3fv","setValueV4f","w","uniform4f","uniform4fv","setValueM2","elements","uniformMatrix2fv","mat2array","set","setValueM3","uniformMatrix3fv","mat3array","setValueM4","uniformMatrix4fv","mat4array","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","emptyTexture","setValueT3D1","setTexture3D","emptyTexture3d","setValueT6","safeSetTextureCube","emptyCubeTexture","setValueT2DArray1","setTexture2DArray","emptyTexture2dArray","getSingularSetter","type","setValueV1fArray","uniform1fv","setValueV2fArray","data","size","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT3DArray","setValueT6Array","setValueT2DArrayArray","getPureArraySetter","SingleUniform","id","activeInfo","setValue","PureArrayUniform","StructuredUniform","seq","map","WebGLUniforms","program","getProgramParameter","ACTIVE_UNIFORMS","info","getActiveUniform","getUniformLocation","name","path","pathLength","RePathPart","lastIndex","match","exec","matchEnd","subscript","container","push","uniformObject","next","Object","defineProperty","value","_CubeTexture","_Texture","_DataTexture2DArray","_DataTexture3D","Texture","DataTexture2DArray","DataTexture3D","CubeTexture","prototype","updateCache","PureArrayUniform.prototype.updateCache","StructuredUniform.prototype.setValue","u","WebGLUniforms.prototype.setValue","setOptional","WebGLUniforms.prototype.setOptional","object","upload","WebGLUniforms.upload","values","needsUpdate","seqWithValue","WebGLUniforms.seqWithValue"]
}

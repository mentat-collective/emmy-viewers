{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$operator$reverse.js",
"lineCount":3,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/operator/reverse.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$operator$reverse\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Reverse = void 0;\n\nvar _operator = require(\"./operator.js\");\n\nclass Reverse extends _operator.Operator {\n  static initClass() {\n    this.traits = [\"node\", \"bind\", \"operator\", \"source\", \"index\", \"reverse\"];\n  }\n\n  getDimensions() {\n    return this.bind.source.getDimensions();\n  }\n\n  getActiveDimensions() {\n    return this.bind.source.getActiveDimensions();\n  }\n\n  getFutureDimensions() {\n    return this.bind.source.getFutureDimensions();\n  }\n\n  getIndexDimensions() {\n    return this.bind.source.getIndexDimensions();\n  }\n\n  sourceShader(shader) {\n    shader.pipe(\"reverse.position\", this.uniforms);\n    return this.bind.source.sourceShader(shader);\n  }\n\n  _resolveScale(key, _dims) {\n    const range = this.props[key];\n    return range ? -1 : 1;\n  }\n\n  _resolveOffset(key, dims) {\n    const range = this.props[key];\n    const dim = dims[key];\n\n    if (range) {\n      return dim - 1;\n    } else {\n      return 0;\n    }\n  }\n\n  make() {\n    super.make();\n\n    if (this.bind.source == null) {\n      return;\n    }\n\n    return this.uniforms = {\n      reverseScale: this._attributes.make(this._types.vec4()),\n      reverseOffset: this._attributes.make(this._types.vec4())\n    };\n  }\n\n  unmake() {\n    return super.unmake();\n  }\n\n  resize() {\n    if (this.bind.source == null) {\n      return;\n    }\n\n    const dims = this.bind.source.getActiveDimensions();\n    this.uniforms.reverseScale.value.set(this._resolveScale(\"width\", dims), this._resolveScale(\"height\", dims), this._resolveScale(\"depth\", dims), this._resolveScale(\"items\", dims));\n    this.uniforms.reverseOffset.value.set(this._resolveOffset(\"width\", dims), this._resolveOffset(\"height\", dims), this._resolveOffset(\"depth\", dims), this._resolveOffset(\"items\", dims));\n    return super.resize();\n  }\n\n  change(_changed, touched, _init) {\n    if (touched[\"operator\"]) {\n      return this.rebuild();\n    }\n\n    if (touched[\"reverse\"]) {\n      return this.resize();\n    }\n  }\n\n}\n\nexports.Reverse = Reverse;\nReverse.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Reverse","_operator","Operator","initClass","traits","getDimensions","bind","source","getActiveDimensions","getFutureDimensions","getIndexDimensions","sourceShader","shader","pipe","uniforms","_resolveScale","key","_dims","props","range","_resolveOffset","dims","dim","make","reverseScale","_attributes","_types","vec4","reverseOffset","unmake","resize","set","change","_changed","touched","_init","rebuild"]
}

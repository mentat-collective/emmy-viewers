{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$data$latch.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,iEAAA,CAAsF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAc9HC,QAASA,uBAAsB,CAACC,GAAD,CAAM,CAAE,MAAOA,IAAA,EAAOA,GAAIC,CAAAA,UAAX,CAAwBD,GAAxB,CAA8B,CAAEE,QAASF,GAAX,CAAvC,CAXrCG,MAAOC,CAAAA,cAAP,CAAsBN,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CO,MAAO,CAAA,CADoC,CAA7C,CAGAP,QAAQQ,CAAAA,KAAR,CAAgB,IAAK,EAEjBC,OAAAA,CAAUX,OAAA,CAAQ,oEAAR,CAEd,KAAIY,WAAaT,sBAAA,CAAuBH,OAAA,CAAQ,sCAAR,CAAvB,CAAjB,CAEIa,SAAWV,sBAAA,CAAuBH,OAAA,CAAQ,oCAAR,CAAvB,CAIf;KAAMU,MAAN,QAAoBC,OAAQG,CAAAA,MAA5B,CACSC,gBAAS,EAAG,CACjB,IAAKC,CAAAA,MAAL,CAAc,CAAC,MAAD,CAAS,QAAT,CAAmB,QAAnB,CAA6B,OAA7B,CADG,CAInBC,IAAI,EAAG,CACL,IAAKC,CAAAA,IAAL,CAAYC,IAAAA,EACZ,KAAKC,CAAAA,OAAL,CAAe,CAAA,CAFV,CAKPC,IAAI,EAAG,CACL,IAAKC,CAAAA,QAASC,CAAAA,MAAOF,CAAAA,IAArB,EAEA,KAAKG,CAAAA,OAAL,CAAa,MAAb,CAAqB,aAArB,CAAoC,QAAS,EAAG,CAC1C,IAAKC,CAAAA,QAAT,EACE,IAAKC,CAAAA,MAAL,EAF4C,CAAhD,CAHK,CAUPC,MAAM,EAAG,CACP,IAAKL,CAAAA,QAASC,CAAAA,MAAOI,CAAAA,MAArB,EAEA,KAAKT,CAAAA,IAAL,CAAYC,IAAAA,EAHL,CAMTS,IAAI,EAAG,CACL,MAAM,CACJC,IADI,CAEJX,IAFI,CAAA,CAGF,IAAKY,CAAAA,KAGT,EAFcD,IAAAE,CAAQ,GAAIlB,QAASP,CAAAA,OAAb,EAAsBY,IAAtB,CAA4B,IAAKA,CAAAA,IAAjC,CAARa,CAAiDb,IAAjDa,EAAyD,IAAKb,CAAAA,IAE5E,IACE,IAAKA,CAAAA,IADP,CACcW,IAAA,CAAO,GAAIjB,UAAWN,CAAAA,OAAf,EAAwBY,IAAxB,CAAP,CAAuCA,IADrD,CAPK,CAYPQ,MAAM,EAAG,CACP,IAAKN,CAAAA,OAAL,CAAe,IAAKQ,CAAAA,IAAL,EADR,CAtCX,CA4CA1B,OAAQQ,CAAAA,KAAR;AAAgBA,KAChBA,MAAMK,CAAAA,SAAN,EA7D8H;",
"sources":["node_modules/mathbox/build/esm/primitives/types/data/latch.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$data$latch\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Latch = void 0;\n\nvar _parent = require(\"../base/parent.js\");\n\nvar _cloneDeep = _interopRequireDefault(require(\"lodash/cloneDeep\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass Latch extends _parent.Parent {\n  static initClass() {\n    this.traits = [\"node\", \"entity\", \"active\", \"latch\"];\n  }\n\n  init() {\n    this.data = undefined;\n    this.isDirty = true;\n  }\n\n  make() {\n    this._helpers.active.make();\n\n    this._listen(\"root\", \"root.update\", function () {\n      if (this.isActive) {\n        this.update();\n      }\n    });\n  }\n\n  unmake() {\n    this._helpers.active.unmake();\n\n    this.data = undefined;\n  }\n\n  swap() {\n    const {\n      deep,\n      data\n    } = this.props;\n    const dirty = deep ? !(0, _isEqual.default)(data, this.data) : data != this.data;\n\n    if (dirty) {\n      this.data = deep ? (0, _cloneDeep.default)(data) : data;\n    }\n  }\n\n  update() {\n    this.isDirty = this.swap();\n  }\n\n}\n\nexports.Latch = Latch;\nLatch.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","Latch","_parent","_cloneDeep","_isEqual","Parent","initClass","traits","init","data","undefined","isDirty","make","_helpers","active","_listen","isActive","update","unmake","swap","deep","props","dirty"]
}

shadow$provide.module$node_modules$markdown_it$lib$ruler=function(global,require,module,exports){function Ruler(){this.__rules__=[];this.__cache__=null}Ruler.prototype.__find__=function(name){for(var i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===name)return i;return-1};Ruler.prototype.__compile__=function(){var self=this,chains=[""];self.__rules__.forEach(function(rule){rule.enabled&&rule.alt.forEach(function(altName){0>chains.indexOf(altName)&&chains.push(altName)})});self.__cache__=
{};chains.forEach(function(chain){self.__cache__[chain]=[];self.__rules__.forEach(function(rule){rule.enabled&&(chain&&0>rule.alt.indexOf(chain)||self.__cache__[chain].push(rule.fn))})})};Ruler.prototype.at=function(name,fn,options){var index=this.__find__(name);options=options||{};if(-1===index)throw Error("Parser rule not found: "+name);this.__rules__[index].fn=fn;this.__rules__[index].alt=options.alt||[];this.__cache__=null};Ruler.prototype.before=function(beforeName,ruleName,fn,options){var index=
this.__find__(beforeName);options=options||{};if(-1===index)throw Error("Parser rule not found: "+beforeName);this.__rules__.splice(index,0,{name:ruleName,enabled:!0,fn,alt:options.alt||[]});this.__cache__=null};Ruler.prototype.after=function(afterName,ruleName,fn,options){var index=this.__find__(afterName);options=options||{};if(-1===index)throw Error("Parser rule not found: "+afterName);this.__rules__.splice(index+1,0,{name:ruleName,enabled:!0,fn,alt:options.alt||[]});this.__cache__=null};Ruler.prototype.push=
function(ruleName,fn,options){this.__rules__.push({name:ruleName,enabled:!0,fn,alt:(options||{}).alt||[]});this.__cache__=null};Ruler.prototype.enable=function(list,ignoreInvalid){Array.isArray(list)||(list=[list]);var result=[];list.forEach(function(name){var idx=this.__find__(name);if(0>idx){if(ignoreInvalid)return;throw Error("Rules manager: invalid rule name "+name);}this.__rules__[idx].enabled=!0;result.push(name)},this);this.__cache__=null;return result};Ruler.prototype.enableOnly=function(list,
ignoreInvalid){Array.isArray(list)||(list=[list]);this.__rules__.forEach(function(rule){rule.enabled=!1});this.enable(list,ignoreInvalid)};Ruler.prototype.disable=function(list,ignoreInvalid){Array.isArray(list)||(list=[list]);var result=[];list.forEach(function(name){var idx=this.__find__(name);if(0>idx){if(ignoreInvalid)return;throw Error("Rules manager: invalid rule name "+name);}this.__rules__[idx].enabled=!1;result.push(name)},this);this.__cache__=null;return result};Ruler.prototype.getRules=
function(chainName){null===this.__cache__&&this.__compile__();return this.__cache__[chainName]||[]};module.exports=Ruler}
//# sourceMappingURL=module$node_modules$markdown_it$lib$ruler.js.map

shadow$provide.module$node_modules$threestrap$src$binder=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.Binder=void 0;var _EventDispatcher=require("module$node_modules$three$src$core$EventDispatcher");class Binder{static bind(context,globals){return function(key,object){object.__binds||(object.__binds=[]);var fallback=context;Array.isArray(key)&&(fallback=key[0],key=key[1]);var match=/^([^.:]*(?:\.[^.:]+)*)?(?::(.*))?$/.exec(key),path=match[1].split(/\./g),
name=path.pop(),dest=match[2]||name;match=path.shift();for(var target={this:object}[match]||globals[match]||context[match]||fallback;target&&(key=path.shift());)target=target[key];if(target&&(target.on||target.addEventListener)){var callback=function(event){object[dest]&&object[dest](event,context)};Binder._polyfill(target,["addEventListener","on"],function(method){target[method](name,callback)});object.__binds.push({target,name,callback});return callback}throw"Cannot bind '"+key+"' in "+this.__name;
}}static unbind(){return function(object){object.__binds&&(object.__binds.forEach(function(bind){Binder._polyfill(bind.target,["removeEventListener","off"],function(method){bind.target[method](bind.name,bind.callback)})}.bind(this)),object.__binds=[])}}static apply(object){object.trigger=Binder._trigger;object.triggerOnce=Binder._triggerOnce;object.hasEventListener=_EventDispatcher.EventDispatcher.prototype.hasEventListener;object.addEventListener=_EventDispatcher.EventDispatcher.prototype.addEventListener;
object.removeEventListener=_EventDispatcher.EventDispatcher.prototype.removeEventListener;object.on=object.addEventListener;object.off=object.removeEventListener;object.dispatchEvent=object.trigger}static _triggerOnce(event){this.trigger(event);this._listeners&&delete this._listeners[event.type]}static _trigger(event){if(void 0!==this._listeners){var listeners=this._listeners[event.type];if(void 0!==listeners){listeners=listeners.slice();var length=listeners.length;event.target=this;for(var i=0;i<
length;i++)listeners[i].call(this,event,this)}}}static _polyfill(object,methods,callback){methods.map(function(_method){return object.method});methods.length&&callback(methods[0])}}exports.Binder=Binder}
//# sourceMappingURL=module$node_modules$threestrap$src$binder.js.map

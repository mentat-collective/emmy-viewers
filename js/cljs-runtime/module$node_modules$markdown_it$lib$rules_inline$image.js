shadow$provide.module$node_modules$markdown_it$lib$rules_inline$image=function(global,require,module,exports){var normalizeReference=require("module$node_modules$markdown_it$lib$common$utils").normalizeReference,isSpace=require("module$node_modules$markdown_it$lib$common$utils").isSpace;module.exports=function(state,silent){var ref;var attrs="";var oldPos=state.pos,max=state.posMax;if(33!==state.src.charCodeAt(state.pos)||91!==state.src.charCodeAt(state.pos+1))return!1;var labelStart=state.pos+2;
var labelEnd=state.md.helpers.parseLinkLabel(state,state.pos+1,!1);if(0>labelEnd)return!1;var pos=labelEnd+1;if(pos<max&&40===state.src.charCodeAt(pos)){for(pos++;pos<max;pos++){var code=state.src.charCodeAt(pos);if(!isSpace(code)&&10!==code)break}if(pos>=max)return!1;code=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax);code.ok&&(attrs=state.md.normalizeLink(code.str),state.md.validateLink(attrs)?pos=code.pos:attrs="");for(ref=pos;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||
10===code);pos++);code=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax);if(pos<max&&ref!==pos&&code.ok)for(ref=code.str,pos=code.pos;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);else ref="";if(pos>=max||41!==state.src.charCodeAt(pos))return state.pos=oldPos,!1;pos++}else{if("undefined"===typeof state.env.references)return!1;pos<max&&91===state.src.charCodeAt(pos)?(ref=pos+1,pos=state.md.helpers.parseLinkLabel(state,pos),0<=pos?code=state.src.slice(ref,pos++):
pos=labelEnd+1):pos=labelEnd+1;code||(code=state.src.slice(labelStart,labelEnd));ref=state.env.references[normalizeReference(code)];if(!ref)return state.pos=oldPos,!1;attrs=ref.href;ref=ref.title}silent||(silent=state.src.slice(labelStart,labelEnd),state.md.inline.parse(silent,state.md,state.env,labelStart=[]),labelEnd=state.push("image","img",0),labelEnd.attrs=attrs=[["src",attrs],["alt",""]],labelEnd.children=labelStart,labelEnd.content=silent,ref&&attrs.push(["title",ref]));state.pos=pos;state.posMax=
max;return!0}}
//# sourceMappingURL=module$node_modules$markdown_it$lib$rules_inline$image.js.map

{
"version":3,
"file":"module$node_modules$mathbox$build$esm$model$node.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/model/node.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$model$node\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Node = void 0;\n\nvar Pretty = _interopRequireWildcard(require(\"../util/pretty.js\"));\n\nvar _binder = require(\"threestrap/src/binder.js\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS104: Avoid inline assignments\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nlet nodeIndex = 0;\n\nclass Node {\n  constructor(type, defaults, options, binds, config, attributes) {\n    this.type = type;\n    this._id = (++nodeIndex).toString();\n    this.configure(config, attributes);\n    this.parent = this.root = this.path = this.index = null;\n    this.set(defaults, true, true);\n    this.set(options, false, true);\n    this.bind(binds, false);\n  }\n\n  configure(config, attributes) {\n    let {\n      traits,\n      props,\n      finals,\n      freeform\n    } = config;\n\n    if (traits == null) {\n      traits = (this._config != null ? this._config.traits : undefined) != null ? this._config != null ? this._config.traits : undefined : [];\n    }\n\n    if (props == null) {\n      props = (this._config != null ? this._config.props : undefined) != null ? this._config != null ? this._config.props : undefined : {};\n    }\n\n    if (finals == null) {\n      finals = (this._config != null ? this._config.finals : undefined) != null ? this._config != null ? this._config.finals : undefined : {};\n    }\n\n    if (freeform == null) {\n      freeform = (this._config != null ? this._config.freeform : undefined) != null ? this._config != null ? this._config.freeform : undefined : false;\n    }\n\n    this._config = {\n      traits,\n      props,\n      finals,\n      freeform\n    };\n    return this.attributes = attributes.apply(this, this._config);\n  }\n\n  dispose() {\n    this.attributes.dispose();\n    return this.attributes = null;\n  } // Add/removal callback\n\n\n  _added(parent) {\n    this.parent = parent;\n    this.root = parent.root; // Notify root listeners of child addition\n\n    const event = {\n      type: \"add\",\n      node: this,\n      parent: this.parent\n    };\n\n    if (this.root) {\n      this.root.trigger(event);\n    } // Notify self listeners of own addition\n\n\n    event.type = \"added\";\n    return this.trigger(event);\n  }\n\n  _removed() {\n    // Notify root listeners of child removal\n    const event = {\n      type: \"remove\",\n      node: this\n    };\n\n    if (this.root) {\n      this.root.trigger(event);\n    } // Notify self listeners of own removal\n\n\n    event.type = \"removed\";\n    this.trigger(event);\n    return this.root = this.parent = null;\n  } // Assign unique indices to nodes to make paths\n\n\n  _index(index, parent) {\n    let path;\n\n    if (parent == null) {\n      ({\n        parent\n      } = this);\n    }\n\n    this.index = index;\n    this.path = path = index != null ? ((parent != null ? parent.path : undefined) != null ? parent != null ? parent.path : undefined : []).concat([index]) : null;\n    this.order = path != null ? this._encode(path) : Infinity;\n\n    if (this.root != null) {\n      return this.trigger({\n        type: \"reindex\"\n      });\n    }\n  } // Asymptotic arithmetic encoding\n  // Computes invariant node order from path of indices\n  // Goes from 1 at the root [0] of the tree, to 0 at [\u221e] (best for FP precision).\n  // Divides the interval into countably infinite many intervals, nested recursively.\n  //\n  // (loses precision eventually, it's used cos three.js needs a single numerical order)\n\n\n  _encode(path) {\n    // Tune precision between deep and narrow (1) vs shallow and wide (n)\n    const k = 3;\n\n    const map = x => k / (x + k);\n\n    const lerp = t => b + (a - b) * t;\n\n    let a = 1 + 1 / k;\n    let b = 0;\n\n    for (const index of Array.from(path)) {\n      const f = map(index + 1);\n      const g = map(index + 2);\n      [a, b] = Array.from([lerp(f), lerp(g)]);\n    }\n\n    return a;\n  }\n\n  toString() {\n    const _id = this.id != null ? this.id : this._id;\n\n    const tag = this.type != null ? this.type : \"node\";\n    let id = tag;\n    id += `#${_id}`;\n\n    if (this.classes != null ? this.classes.length : undefined) {\n      id += `.${this.classes.join(\".\")}`;\n    }\n\n    if (this.children != null) {\n      let count;\n\n      if (count = this.children.length) {\n        return `<${id}>\u2026(${count})\u2026</${tag}>`;\n      } else {\n        return `<${id}></${tag}>`;\n      }\n    } else {\n      return `<${id} />`;\n    }\n  }\n\n  toMarkup(selector = null, indent) {\n    let k, v;\n\n    if (indent == null) {\n      indent = \"\";\n    }\n\n    if (selector && typeof selector !== \"function\") {\n      let left;\n      selector = (left = this.root != null ? this.root.model._matcher(selector) : undefined) != null ? left : () => true;\n    }\n\n    const tag = this.type != null ? this.type : \"node\";\n    let {\n      expr\n    } = this; // Ensure generated ID goes first\n\n    const orig = {\n      id: this._id\n    };\n    const object = typeof this.orig === \"function\" ? this.orig() : undefined;\n\n    for (k in object) {\n      v = object[k];\n      orig[k] = v;\n    }\n\n    const props = (() => {\n      const result = [];\n\n      for (k in orig) {\n        v = orig[k];\n\n        if (!this.expr[k]) {\n          result.push(Pretty.JSX.prop(k, v));\n        }\n      }\n\n      return result;\n    })();\n\n    expr = (() => {\n      const result1 = [];\n\n      for (k in expr) {\n        v = expr[k];\n        result1.push(Pretty.JSX.bind(k, v));\n      }\n\n      return result1;\n    })();\n\n    let attr = [\"\"];\n\n    if (props.length) {\n      attr = attr.concat(props);\n    }\n\n    if (expr.length) {\n      attr = attr.concat(expr);\n    }\n\n    attr = attr.join(\" \");\n    let child = indent;\n\n    const recurse = () => {\n      if (!(this.children != null ? this.children.length : undefined)) {\n        return \"\";\n      }\n\n      return this.children.map(x => x.toMarkup(selector, child)).filter(x => x != null && x.length).join(\"\\n\");\n    };\n\n    if (selector && !selector(this)) {\n      return recurse();\n    }\n\n    if (this.children != null) {\n      const open = `<${tag}${attr}>`;\n      const close = `</${tag}>`;\n      child = indent + \"  \";\n      let children = recurse();\n\n      if (children.length) {\n        children = \"\\n\" + children + \"\\n\" + indent;\n      }\n\n      if (children == null) {\n        children = \"\";\n      }\n\n      return indent + open + children + close;\n    } else {\n      return `${indent}<${tag}${attr} />`;\n    }\n  }\n\n  print(selector, level) {\n    return Pretty.print(this.toMarkup(selector), level);\n  }\n\n}\n\nexports.Node = Node;\n\n_binder.Binder.apply(Node.prototype);\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","Object","defineProperty","value","Node","Pretty","_interopRequireWildcard","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_binder","nodeIndex","constructor","type","defaults","options","binds","config","attributes","_id","toString","configure","parent","root","path","index","bind","traits","props","finals","freeform","_config","undefined","apply","dispose","_added","event","node","trigger","_removed","_index","concat","order","_encode","Infinity","a","k","b","Array","from","tag","id","classes","length","join","children","count","toMarkup","selector","indent","v","left","model","_matcher","expr","orig","object","result","push","JSX","prop","result1","attr","child","recurse","map","x","filter","open","close","print","level","Binder"]
}

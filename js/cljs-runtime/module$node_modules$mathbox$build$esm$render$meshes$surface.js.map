{
"version":3,
"file":"module$node_modules$mathbox$build$esm$render$meshes$surface.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,CAAA,2DAAA,CAAgF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGxHC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CG,MAAO,CAAA,CADoC,CAA7C,CAGAH,QAAQI,CAAAA,OAAR,CAAkB,IAAK,EAEnBC,OAAAA,CAAQP,OAAA,CAAQ,0DAAR,CAEZ,KAAIQ,WAAaR,OAAA,CAAQ,yCAAR,CAAjB,CAEIS,MAAQT,OAAA,CAAQ,4CAAR,CAFZ,CAIIU,iBAAmBV,OAAA,CAAQ,uEAAR,CAWvB,MAAMM,QAAN,QAAsBC,OAAMI,CAAAA,IAA5B,CACEC,WAAW,CAACC,QAAD;AAAWC,OAAX,CAAoBC,OAApB,CAA6B,CAEtC,KAAA,CAAMF,QAAN,CAAgBC,OAAhB,CAAyBC,OAAzB,CACA,KAAI,CACFC,QADE,CAEFC,QAFE,CAAA,CAGAF,OACJ,OAAM,CACJG,QADI,CAEJC,KAFI,CAGJC,MAHI,CAIJC,IAJI,CAKJC,GALI,CAMJC,OANI,CAOJC,MAPI,CAQJC,IARI,CASJC,KATI,CAAA,CAUFX,OAEY,KAAhB,EAAIC,QAAJ,GACEA,QADF,CACa,EADb,CAIgB,KAAhB,EAAIC,QAAJ,GACEA,QADF,CACa,CAAA,CADb,CAIMU,SAAAA,CAAkC,IAAlCA,EAAWX,QAASY,CAAAA,UAC1B,KAAKC,CAAAA,QAAL,CAAgB,IAAInB,gBAAiBoB,CAAAA,eAArB,CAAqC,CACnDC,MAAOhB,OAAQgB,CAAAA,KADoC,CAEnDC,OAAQjB,OAAQiB,CAAAA,MAFmC,CAGnDC,SAAUlB,OAAQkB,CAAAA,QAHiC,CAInDC,OAAQnB,OAAQmB,CAAAA,MAJmC,CAKnDC,QAASpB,OAAQoB,CAAAA,OALkC,CAMnDC,QAASrB,OAAQqB,CAAAA,OANkC,CAArC,CAShB,KAAKC,CAAAA,MAAL,CAAYrB,QAAZ,CAEA,KAAKqB,CAAAA,MAAL,CAAY,IAAKR,CAAAA,QAASb,CAAAA,QAA1B,CAEA,KAAMsB;AAAO,EAETvB,QAAQoB,CAAAA,OAAZ,GACEG,IAAKC,CAAAA,gBADP,CAC0B,EAD1B,CAIIxB,QAAQqB,CAAAA,OAAZ,GACEE,IAAKE,CAAAA,gBADP,CAC0B,EAD1B,CAIId,MAAJ,GACEY,IAAKG,CAAAA,eADP,CACyB,EADzB,CAIMC,QAAAA,CAAU5B,OAAQG,CAAAA,QAAR,EACV0B,QAAAA,CAAID,OAAQE,CAAAA,MAClBD,QAAEE,CAAAA,IAAF,CAAO,IAAKC,CAAAA,YAAL,CAAkB3B,KAAlB,CAAyBE,IAAzB,CAAP,CAEAsB,QAAE3C,CAAAA,OAAF,CAAU,IAAK+C,CAAAA,eAAL,CAAqB7B,QAArB,CAA+BD,QAA/B,CAAyCK,GAAzC,CAA8C,CAA9C,CAAiDG,IAAjD,CAAV,CAEIL,OAAJ,EACEuB,OAAE3C,CAAAA,OAAF,CAAUoB,MAAV,CAEA,CAAAuB,OAAEE,CAAAA,IAAF,CAAO,yBAAP,CAAkC,IAAK7B,CAAAA,QAAvC,CAAiDsB,IAAjD,CAHF,GAKOrB,QAIL,EAHE0B,OAAEE,CAAAA,IAAF,CAAO,kBAAP,CAA2B,IAAK7B,CAAAA,QAAhC,CAA0CsB,IAA1C,CAGF,CAAIrB,QAAJ,EACE0B,OAAEE,CAAAA,IAAF,CAAO,yBAAP,CAAkC,IAAK7B,CAAAA,QAAvC;AAAiDsB,IAAjD,CAVJ,CAcAK,QAAEE,CAAAA,IAAF,CAAO,kBAAP,CAA2B,IAAK7B,CAAAA,QAAhC,CACA0B,QAAQM,CAAAA,QAAR,CAAmBC,QAAnB,CAAuB,IAAKC,CAAAA,cAAL,CAAoBvB,QAApB,CAA8BV,QAA9B,CAAwCE,KAAxC,CAA+CE,IAA/C,CAAqDC,GAArD,CAA0D,CAA1D,CAA6DG,IAA7D,CAAmEF,OAAnE,CAA4EC,MAA5E,CACvByB,SAAEJ,CAAAA,IAAF,CAAO,gBAAP,CAAyB,IAAK7B,CAAAA,QAA9B,CACMmC,SAAAA,CAAOT,OAAQU,CAAAA,IAAR,CAAa,CACxBC,KAAM7C,UAAW8C,CAAAA,UADO,CAAb,CAGb,KAAKrC,CAAAA,QAAL,CAAgB,IAAKsC,CAAAA,SAAL,CAAeJ,QAAf,CACVK,KAAAA,CAAS,IAAI/C,KAAMgD,CAAAA,IAAV,CAAe,IAAK5B,CAAAA,QAApB,CAA8B,IAAKZ,CAAAA,QAAnC,CACfuC,KAAOE,CAAAA,QAAP,CAAkBP,QAElB,KAAKQ,CAAAA,IAAL,CAAUH,IAAV,CAEA,KAAKI,CAAAA,OAAL,CAAe,CAACJ,IAAD,CAvFuB,CA0FxCK,OAAO,EAAG,CACR,IAAKhC,CAAAA,QAASgC,CAAAA,OAAd,EACA,KAAK5C,CAAAA,QAAS4C,CAAAA,OAAd,EACA,KAAKD,CAAAA,OAAL,CAAe,IAAK/B,CAAAA,QAApB,CAA+B,IAAKZ,CAAAA,QAApC,CAA+C,IAC/C;MAAO,MAAM4C,CAAAA,OAAN,EAJC,CA3FZ,CAoGA3D,OAAQI,CAAAA,OAAR,CAAkBA,OA7HsG;",
"sources":["node_modules/mathbox/build/esm/render/meshes/surface.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$render$meshes$surface\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Surface = void 0;\n\nvar _base = require(\"./base.js\");\n\nvar _constants = require(\"three/src/constants.js\");\n\nvar _Mesh = require(\"three/src/objects/Mesh.js\");\n\nvar _surfacegeometry = require(\"../geometry/surfacegeometry.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Surface extends _base.Base {\n  constructor(renderer, shaders, options) {\n    let f;\n    super(renderer, shaders, options);\n    let {\n      uniforms,\n      material\n    } = options;\n    const {\n      position,\n      color,\n      normal,\n      mask,\n      map,\n      combine,\n      linear,\n      stpq,\n      intUV\n    } = options;\n\n    if (uniforms == null) {\n      uniforms = {};\n    }\n\n    if (material == null) {\n      material = true;\n    }\n\n    const hasStyle = uniforms.styleColor != null;\n    this.geometry = new _surfacegeometry.SurfaceGeometry({\n      width: options.width,\n      height: options.height,\n      surfaces: options.surfaces,\n      layers: options.layers,\n      closedX: options.closedX,\n      closedY: options.closedY\n    });\n\n    this._adopt(uniforms);\n\n    this._adopt(this.geometry.uniforms);\n\n    const defs = {};\n\n    if (options.closedX) {\n      defs.SURFACE_CLOSED_X = \"\";\n    }\n\n    if (options.closedY) {\n      defs.SURFACE_CLOSED_Y = \"\";\n    }\n\n    if (intUV) {\n      defs.POSITION_UV_INT = \"\";\n    }\n\n    const factory = shaders.material();\n    const v = factory.vertex;\n    v.pipe(this._vertexColor(color, mask));\n\n    v.require(this._vertexPosition(position, material, map, 2, stpq));\n\n    if (normal) {\n      v.require(normal);\n\n      v.pipe(\"surface.position.normal\", this.uniforms, defs);\n    } else {\n      if (!material) {\n        v.pipe(\"surface.position\", this.uniforms, defs);\n      }\n\n      if (material) {\n        v.pipe(\"surface.position.shaded\", this.uniforms, defs);\n      }\n    }\n\n    v.pipe(\"project.position\", this.uniforms);\n    factory.fragment = f = this._fragmentColor(hasStyle, material, color, mask, map, 2, stpq, combine, linear);\n    f.pipe(\"fragment.color\", this.uniforms);\n    const opts = factory.link({\n      side: _constants.DoubleSide\n    });\n    this.material = this._material(opts);\n    const object = new _Mesh.Mesh(this.geometry, this.material);\n    object.userData = opts;\n\n    this._raw(object);\n\n    this.renders = [object];\n  }\n\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n    this.renders = this.geometry = this.material = null;\n    return super.dispose();\n  }\n\n}\n\nexports.Surface = Surface;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Surface","_base","_constants","_Mesh","_surfacegeometry","Base","constructor","renderer","shaders","options","uniforms","material","position","color","normal","mask","map","combine","linear","stpq","intUV","hasStyle","styleColor","geometry","SurfaceGeometry","width","height","surfaces","layers","closedX","closedY","_adopt","defs","SURFACE_CLOSED_X","SURFACE_CLOSED_Y","POSITION_UV_INT","factory","v","vertex","pipe","_vertexColor","_vertexPosition","fragment","f","_fragmentColor","opts","link","side","DoubleSide","_material","object","Mesh","userData","_raw","renders","dispose"]
}

{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$base$root.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/base/root.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$base$root\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Root = void 0;\n\nvar _parent = require(\"./parent.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS103: Rewrite code to no longer use __guard__, or convert again using --optional-chaining\n * DS104: Avoid inline assignments\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Root extends _parent.Parent {\n  static initClass() {\n    this.traits = [\"node\", \"root\", \"clock\", \"scene\", \"vertex\", \"unit\"];\n  }\n\n  init() {\n    this.size = null;\n    this.cameraEvent = {\n      type: \"root.camera\"\n    };\n    this.preEvent = {\n      type: \"root.pre\"\n    };\n    this.updateEvent = {\n      type: \"root.update\"\n    };\n    this.renderEvent = {\n      type: \"root.render\"\n    };\n    this.postEvent = {\n      type: \"root.post\"\n    };\n    this.clockEvent = {\n      type: \"clock.tick\"\n    };\n    return this.camera = null;\n  }\n\n  make() {\n    return this._helpers.unit.make();\n  }\n\n  unmake() {\n    return this._helpers.unit.unmake();\n  }\n\n  change(changed, touched, init) {\n    if (changed[\"root.camera\"] || init) {\n      this._unattach();\n\n      this._attach(this.props.camera, \"camera\", this.setCamera, this, this, true);\n\n      return this.setCamera();\n    }\n  }\n\n  adopt(renderable) {\n    return Array.from(renderable.renders).map(object => this._context.scene.add(object));\n  }\n\n  unadopt(renderable) {\n    return Array.from(renderable.renders).map(object => this._context.scene.remove(object));\n  }\n\n  select(selector) {\n    return this.node.model.select(selector);\n  }\n\n  watch(selector, handler) {\n    return this.node.model.watch(selector, handler);\n  }\n\n  unwatch(handler) {\n    return this.node.model.unwatch(handler);\n  }\n\n  resize(size) {\n    this.size = size;\n    return this.trigger({\n      type: \"root.resize\",\n      size\n    });\n  }\n\n  getSize() {\n    return this.size;\n  }\n\n  getSpeed() {\n    return this.props.speed;\n  }\n\n  getUnit() {\n    return this._helpers.unit.get();\n  }\n\n  getUnitUniforms() {\n    return this._helpers.unit.uniforms();\n  }\n\n  pre() {\n    this.getCamera().updateProjectionMatrix();\n    this.trigger(this.clockEvent);\n    return this.trigger(this.preEvent);\n  }\n\n  update() {\n    return this.trigger(this.updateEvent);\n  }\n\n  render() {\n    return this.trigger(this.renderEvent);\n  }\n\n  post() {\n    return this.trigger(this.postEvent);\n  }\n\n  setCamera() {\n    const camera = __guard__(this.select(this.props.camera)[0], x => x.controller);\n\n    if (this.camera !== camera) {\n      this.camera = camera;\n      return this.trigger({\n        type: \"root.camera\"\n      });\n    }\n  }\n\n  getCamera() {\n    let left;\n    return (left = this.camera != null ? this.camera.getCamera() : undefined) != null ? left : this._context.defaultCamera;\n  }\n\n  getTime() {\n    return this._context.time;\n  } // End transform chain here\n\n\n  vertex(shader, pass) {\n    if (pass === 2) {\n      return shader.pipe(\"view.position\");\n    }\n\n    if (pass === 3) {\n      return shader.pipe(\"root.position\");\n    }\n\n    return shader;\n  }\n\n}\n\nexports.Root = Root;\nRoot.initClass();\n\nfunction __guard__(value, transform) {\n  return typeof value !== \"undefined\" && value !== null ? transform(value) : undefined;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","__guard__","value","transform","undefined","Object","defineProperty","Root","_parent","Parent","initClass","traits","init","size","cameraEvent","type","preEvent","updateEvent","renderEvent","postEvent","clockEvent","camera","make","_helpers","unit","unmake","change","changed","touched","_unattach","_attach","props","setCamera","adopt","renderable","Array","from","renders","map","object","_context","scene","add","unadopt","remove","select","selector","node","model","watch","handler","unwatch","resize","trigger","getSize","getSpeed","speed","getUnit","get","getUnitUniforms","uniforms","pre","getCamera","updateProjectionMatrix","update","render","post","x","controller","left","defaultCamera","getTime","time","vertex","shader","pass","pipe"]
}

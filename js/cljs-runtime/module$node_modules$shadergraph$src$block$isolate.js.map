{
"version":3,
"file":"module$node_modules$shadergraph$src$block$isolate.js",
"lineCount":3,
"mappings":"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",
"sources":["node_modules/shadergraph/src/block/isolate.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$shadergraph$src$block$isolate\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Isolate = void 0;\n\nvar _graph = require(\"../graph\");\n\nvar _block = require(\"./block\");\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n\n/*\n  Isolate a subgraph as a single node\n*/\nclass Isolate extends _block.Block {\n  constructor(graph) {\n    super(true);\n    this.graph = graph;\n    this.construct();\n  }\n\n  refresh() {\n    super.refresh();\n    return delete this.subroutine;\n  }\n\n  clone() {\n    return new Isolate(this.graph);\n  }\n\n  makeOutlets() {\n    this.make();\n    const outlets = [];\n    const seen = {};\n    const done = {};\n\n    for (const set of [\"inputs\", \"outputs\"]) {\n      for (const outlet of Array.from(this.graph[set]())) {\n        // Preserve name of 'return' and 'callback' outlets\n        let name = undefined;\n\n        if ([\"return\", \"callback\"].includes(outlet.hint) && outlet.inout === _graph.Graph.OUT) {\n          name = outlet.hint;\n        } // Unless it already exists\n\n\n        if (seen[name] != null) {\n          name = undefined;\n        } // Dupe outlet and remember link to original\n\n\n        const dupe = outlet.dupe(name);\n\n        if (dupe.meta.child == null) {\n          dupe.meta.child = outlet;\n        }\n\n        outlet.meta.parent = dupe;\n\n        if (name != null) {\n          seen[name] = true;\n        }\n\n        done[outlet.name] = dupe;\n        outlets.push(dupe);\n      }\n    }\n\n    return outlets;\n  }\n\n  make() {\n    return this.subroutine = this.graph.compile(this.namespace);\n  }\n\n  call(program, depth) {\n    this._call(this.subroutine, program, depth);\n\n    return this._inputs(this.subroutine, program, depth);\n  }\n\n  export(layout, depth) {\n    if (!layout.visit(this.namespace, depth)) {\n      return;\n    } // Link up with normal inputs\n\n\n    this._link(this.subroutine, layout, depth);\n\n    this._trace(this.subroutine, layout, depth); // Export callbacks needed to call the subroutine\n\n\n    return this.graph.export(layout, depth);\n  }\n\n  callback(layout, depth, name, external, outlet) {\n    outlet = outlet.meta.child;\n    return outlet.node.owner.callback(layout, depth, name, external, outlet);\n  }\n\n}\n\nexports.Isolate = Isolate;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Isolate","_graph","_block","Block","constructor","graph","construct","refresh","subroutine","clone","makeOutlets","make","outlets","seen","set","outlet","Array","from","name","undefined","includes","hint","inout","Graph","OUT","dupe","meta","child","parent","push","compile","namespace","call","program","depth","_call","_inputs","export","layout","visit","_link","_trace","callback","external","node","owner"]
}

shadow$provide.module$node_modules$$motionone$dom$dist$animate$animate_style_cjs=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var data=require("module$node_modules$$motionone$dom$dist$animate$data_cjs"),cssVar=require("module$node_modules$$motionone$dom$dist$animate$utils$css_var_cjs"),animation=require("module$node_modules$$motionone$animation$dist$index_cjs"),utils=require("module$node_modules$$motionone$utils$dist$index_cjs"),transforms=require("module$node_modules$$motionone$dom$dist$animate$utils$transforms_cjs"),
easing=require("module$node_modules$$motionone$dom$dist$animate$utils$easing_cjs"),featureDetection=require("module$node_modules$$motionone$dom$dist$animate$utils$feature_detection_cjs"),keyframes=require("module$node_modules$$motionone$dom$dist$animate$utils$keyframes_cjs"),style=require("module$node_modules$$motionone$dom$dist$animate$style_cjs"),getStyleName=require("module$node_modules$$motionone$dom$dist$animate$utils$get_style_name_cjs"),stopAnimation=require("module$node_modules$$motionone$dom$dist$animate$utils$stop_animation_cjs");
exports.animateStyle=function(element,key,keyframesDefinition,options={}){const record=window.__MOTION_DEV_TOOLS_RECORD,isRecording=!1!==options.record&&record;let animation$1,{duration=utils.defaults.duration,delay=utils.defaults.delay,endDelay=utils.defaults.endDelay,repeat=utils.defaults.repeat,easing:easing$1=utils.defaults.easing,direction,offset,allowWebkitAcceleration=!1}=options;const data$1=data.getAnimationData(element);let canAnimateNatively=featureDetection.supports.waapi();const valueIsTransform=
transforms.isTransform(key);valueIsTransform&&transforms.addTransformToElement(element,key);const name=getStyleName.getStyleName(key),motionValue=data.getMotionValue(data$1.values,name),definition=transforms.transformDefinitions.get(name);stopAnimation.stopAnimation(motionValue.animation,!(utils.isEasingGenerator(easing$1)&&motionValue.generator)&&!1!==options.record);return()=>{var readInitialValue=()=>{var _a,_b;return null!==(_b=null!==(_a=style.style.get(element,name))&&void 0!==_a?_a:null===
definition||void 0===definition?void 0:definition.initialValue)&&void 0!==_b?_b:0};let keyframes$1=keyframes.hydrateKeyframes(keyframes.keyframesList(keyframesDefinition),readInitialValue);if(utils.isEasingGenerator(easing$1)){const custom=easing$1.createAnimation(keyframes$1,readInitialValue,valueIsTransform,name,motionValue);easing$1=custom.easing;void 0!==custom.keyframes&&(keyframes$1=custom.keyframes);void 0!==custom.duration&&(duration=custom.duration)}cssVar.isCssVar(name)&&(featureDetection.supports.cssRegisterProperty()?
cssVar.registerCssVariable(name):canAnimateNatively=!1);if(canAnimateNatively){definition&&(keyframes$1=keyframes$1.map(value=>utils.isNumber(value)?definition.toDefaultUnit(value):value));1!==keyframes$1.length||featureDetection.supports.partialKeyframes()&&!isRecording||keyframes$1.unshift(readInitialValue());readInitialValue={delay:utils.time.ms(delay),duration:utils.time.ms(duration),endDelay:utils.time.ms(endDelay),easing:utils.isEasingList(easing$1)?void 0:easing.convertEasing(easing$1),direction,
iterations:repeat+1,fill:"both"};animation$1=element.animate({[name]:keyframes$1,offset,easing:utils.isEasingList(easing$1)?easing$1.map(easing.convertEasing):void 0},readInitialValue);animation$1.finished||(animation$1.finished=new Promise((resolve,reject)=>{animation$1.onfinish=resolve;animation$1.oncancel=reject}));const target=keyframes$1[keyframes$1.length-1];animation$1.finished.then(()=>{style.style.set(element,name,target);animation$1.cancel()}).catch(utils.noop);allowWebkitAcceleration||
(animation$1.playbackRate=1.000001)}else valueIsTransform?(keyframes$1=keyframes$1.map(value=>"string"===typeof value?parseFloat(value):value),1===keyframes$1.length&&keyframes$1.unshift(parseFloat(readInitialValue())),animation$1=new animation.Animation(latest=>{definition&&(latest=definition.toDefaultUnit(latest));style.style.set(element,name,latest)},keyframes$1,Object.assign(Object.assign({},options),{duration,easing:easing$1}))):(readInitialValue=keyframes$1[keyframes$1.length-1],style.style.set(element,
name,definition&&utils.isNumber(readInitialValue)?definition.toDefaultUnit(readInitialValue):readInitialValue));isRecording&&record(element,key,keyframes$1,{duration,delay,easing:easing$1,repeat,offset},"motion-one");motionValue.setAnimation(animation$1);return animation$1}}}
//# sourceMappingURL=module$node_modules$$motionone$dom$dist$animate$animate_style_cjs.js.map

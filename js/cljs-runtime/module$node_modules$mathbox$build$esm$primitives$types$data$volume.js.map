{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$data$volume.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,CAAA,kEAAA,CAAuF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAG/HC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CG,MAAO,CAAA,CADoC,CAA7C,CAGAH,QAAQI,CAAAA,MAAR,CAAiB,IAAK,EAElBC,OAAAA,CAASP,OAAA,CAAQ,mEAAR,CAWb,MAAMM,OAAN,QAAqBC,OAAOC,CAAAA,KAA5B,CACSC,gBAAS,EAAG,CACjB,IAAKC,CAAAA,MAAL,CAAc,kHAAA,CAAA,KAAA,CAAA,GAAA,CADG,CAInBC,UAAU,EAAG,CAAA,IAELC;AAAa,IAAKC,CAAAA,KAAMC,CAAAA,IAC9B,EAAI,CACF,MAAAC,QADE,CAAJ,CAEI,IAAKF,CAAAA,KAFT,CAGA,EAAI,CACF,OAAAG,QADE,CAAJ,CAEI,IAAKH,CAAAA,KAFT,CAGA,EAAI,CACF,MAAAI,QADE,CAAJ,CAEI,IAAKJ,CAAAA,KAFT,CAGA,OAAM,CACJK,SADI,CAAA,CAEF,IAAKL,CAAAA,KAFT,CAGM,CACJM,SADI,CAAA,CAEF,IAAKN,CAAAA,KALT,CAMM,CACJO,SADI,CAAA,CAEF,IAAKP,CAAAA,KART,CASMQ,KAAO,IAAKR,CAAAA,KAAMS,CAAAA,QATxB,CAUMC,KAAO,IAAKV,CAAAA,KAAMW,CAAAA,QAVxB,CAWMC,KAAO,IAAKZ,CAAAA,KAAMa,CAAAA,QAExB,KAAMC,OAAS,IAAKC,CAAAA,QAASC,CAAAA,IAAKC,CAAAA,GAAnB,CAAuB,IAAvB,CAA6BlB,UAAA,CAAW,CAAX,CAA7B,CAAf,CAEMmB,OAAS,IAAKH,CAAAA,QAASC,CAAAA,IAAKC,CAAAA,GAAnB,CAAuB,IAAvB,CAA6BlB,UAAA,CAAW,CAAX,CAA7B,CAEToB,WAAAA,CAAS,IAAKJ,CAAAA,QAASC,CAAAA,IAAKC,CAAAA,GAAnB,CAAuB,IAAvB,CAA6BlB,UAAA,CAAW,CAAX,CAA7B,CAEf,KAAKqB,CAAAA,EAAL,CAAUN,MAAOO,CAAAA,CACjB,KAAKC,CAAAA,EAAL,CAAUJ,MAAOG,CAAAA,CACjB,KAAKE,CAAAA,EAAL,CAAUJ,UAAOE,CAAAA,CACXG,OAAAA,CAAQV,MAAOW,CAAAA,CAAfD,CAAmBV,MAAOO,CAAAA,CAC1BK,OAAAA;AAAQR,MAAOO,CAAAA,CAAfC,CAAmBR,MAAOG,CAAAA,CAC1BM,WAAAA,CAAQR,UAAOM,CAAAA,CAAfE,CAAmBR,UAAOE,CAAAA,CAChCnB,SAAA,EAAgB,CAAhB,CAASM,IACTL,SAAA,EAAiB,CAAjB,CAAUO,IACVN,SAAA,EAAgB,CAAhB,CAASQ,IAET,IAAIP,SAAJ,CAAe,CACb,IAAAuB,SAAW,CAAXA,CAAeC,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY5B,QAAZ,CACf,KAAKkB,CAAAA,EAAL,EAAWI,MAAX,CAAmBI,QAAnB,CAA8B,CAFjB,CAAf,IAIEA,SAAA,CAAW,CAAX,CAAeC,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY5B,QAAZ,CAAoB,CAApB,CAGjB,IAAII,SAAJ,CAAe,CACb,IAAAyB,SAAW,CAAXA,CAAeF,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY3B,QAAZ,CACf,KAAKmB,CAAAA,EAAL,EAAWI,MAAX,CAAmBK,QAAnB,CAA8B,CAFjB,CAAf,IAIEA,SAAA,CAAW,CAAX,CAAeF,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY3B,QAAZ,CAAqB,CAArB,CAGjB,IAAII,SAAJ,CAAe,CACb,IAAAyB,SAAW,CAAXA,CAAeH,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY1B,QAAZ,CACf,KAAKmB,CAAAA,EAAL,EAAWI,UAAX,CAAmBK,QAAnB,CAA8B,CAFjB,CAAf,IAIEA,SAAA,CAAW,CAAX,CAAeH,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAY1B,QAAZ,CAAoB,CAApB,CAGjB,KAAK6B,CAAAA,EAAL,CAAUT,MAAV,CAAkBI,QAClB,KAAKM,CAAAA,EAAL,CAAUR,MAAV,CAAkBK,QAClB;IAAKI,CAAAA,EAAL,CAAUR,UAAV,CAAkBK,QAClB,KAAKZ,CAAAA,EAAL,EAAW,IAAKa,CAAAA,EAAhB,CAAqBzB,IACrB,KAAKc,CAAAA,EAAL,EAAW,IAAKY,CAAAA,EAAhB,CAAqBxB,IACrB,OAAO,KAAKa,CAAAA,EAAZ,EAAkB,IAAKY,CAAAA,EAAvB,CAA4BzB,IAnEjB,CAsEb0B,QAAQ,CAACA,QAAD,CAAW,CACjB,IAAKtC,CAAAA,UAAL,EAEA,IAAI,IAAKuC,CAAAA,IAAT,GAAkBD,QAAlB,CACE,MAAO,KAAKE,CAAAA,SAGd,KAAKD,CAAAA,IAAL,CAAYD,QAEZ,OAAuB,EAAvB,EAAIA,QAASG,CAAAA,MAAb,CACS,IAAKD,CAAAA,SADd,CAC0B,CAACE,IAAD,CAAOC,CAAP,CAAUC,CAAV,CAAaC,CAAb,CAAAC,EAIfR,QAAA,CAASI,IAAT,CAHG,IAAKpB,CAAAA,EAGR,CAHa,IAAKa,CAAAA,EAGlB,CAHuBQ,CAGvB,CAFG,IAAKnB,CAAAA,EAER,CAFa,IAAKY,CAAAA,EAElB,CAFuBQ,CAEvB,CADG,IAAKnB,CAAAA,EACR,CADa,IAAKY,CAAAA,EAClB,CADuBQ,CACvB,CAAwBF,CAAxB,CAA2BC,CAA3B,CAA8BC,CAA9B,CALX,CAQS,IAAKL,CAAAA,SARd,CAQ0B,CAACE,IAAD,CAAOC,CAAP,CAAUC,CAAV,CAAaC,CAAb,CAAAC,EAIfR,QAAA,CAASI,IAAT,CAHG,IAAKpB,CAAAA,EAGR,CAHa,IAAKa,CAAAA,EAGlB,CAHuBQ,CAGvB,CAFG,IAAKnB,CAAAA,EAER,CAFa,IAAKY,CAAAA,EAElB,CAFuBQ,CAEvB,CADG,IAAKnB,CAAAA,EACR,CADa,IAAKY,CAAAA,EAClB,CADuBQ,CACvB,CAAwBF,CAAxB,CAA2BC,CAA3B,CAA8BC,CAA9B,CAAiC,IAAKE,CAAAA,WAAtC,CAAmD,IAAKC,CAAAA,UAAxD,CArBM,CA0BnBC,IAAI,EAAG,CACL,KAAMA,CAAAA,IAAN,EAEA,KAAKhC,CAAAA,QAASC,CAAAA,IAAK+B,CAAAA,IAAnB,EAEA;MAAO,KAAKC,CAAAA,OAAL,CAAa,IAAb,CAAmB,YAAnB,CAAiC,IAAKlD,CAAAA,UAAtC,CALF,CAQPmD,MAAM,EAAG,CACP,KAAMA,CAAAA,MAAN,EACA,OAAO,KAAKlC,CAAAA,QAASC,CAAAA,IAAKiC,CAAAA,MAAnB,EAFA,CAKTC,MAAM,CAACC,OAAD,CAAUC,OAAV,CAAmBC,IAAnB,CAAyB,CAC7B,KAAMH,CAAAA,MAAN,CAAaC,OAAb,CAAsBC,OAAtB,CAA+BC,IAA/B,CAEA,EAAID,OAAA,CAAA,CAAJ,EAAoBA,OAAA,CAAA,CAApB,EAAoCA,OAAA,CAAA,CAApC,GACE,IAAKtD,CAAAA,UAAL,EAJ2B,CAlHjC,CA4HAT,OAAQI,CAAAA,MAAR,CAAiBA,MACjBA,OAAOG,CAAAA,SAAP,EAhJ+H;",
"sources":["node_modules/mathbox/build/esm/primitives/types/data/volume.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$data$volume\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Volume = void 0;\n\nvar _voxel = require(\"./voxel.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS206: Consider reworking classes to avoid initClass\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Volume extends _voxel.Voxel {\n  static initClass() {\n    this.traits = [\"node\", \"buffer\", \"active\", \"data\", \"source\", \"index\", \"texture\", \"voxel\", \"span:x\", \"span:y\", \"span:z\", \"volume\", \"sampler:x\", \"sampler:y\", \"sampler:z\", \"raw\"];\n  }\n\n  updateSpan() {\n    let inverseX, inverseY, inverseZ;\n    const dimensions = this.props.axes;\n    let {\n      width\n    } = this.props;\n    let {\n      height\n    } = this.props;\n    let {\n      depth\n    } = this.props;\n    const {\n      centeredX\n    } = this.props;\n    const {\n      centeredY\n    } = this.props;\n    const {\n      centeredZ\n    } = this.props;\n    const padX = this.props.paddingX;\n    const padY = this.props.paddingY;\n    const padZ = this.props.paddingZ;\n\n    const rangeX = this._helpers.span.get(\"x.\", dimensions[0]);\n\n    const rangeY = this._helpers.span.get(\"y.\", dimensions[1]);\n\n    const rangeZ = this._helpers.span.get(\"z.\", dimensions[2]);\n\n    this.aX = rangeX.x;\n    this.aY = rangeY.x;\n    this.aZ = rangeZ.x;\n    const spanX = rangeX.y - rangeX.x;\n    const spanY = rangeY.y - rangeY.x;\n    const spanZ = rangeZ.y - rangeZ.x;\n    width += padX * 2;\n    height += padY * 2;\n    depth += padZ * 2;\n\n    if (centeredX) {\n      inverseX = 1 / Math.max(1, width);\n      this.aX += spanX * inverseX / 2;\n    } else {\n      inverseX = 1 / Math.max(1, width - 1);\n    }\n\n    if (centeredY) {\n      inverseY = 1 / Math.max(1, height);\n      this.aY += spanY * inverseY / 2;\n    } else {\n      inverseY = 1 / Math.max(1, height - 1);\n    }\n\n    if (centeredZ) {\n      inverseZ = 1 / Math.max(1, depth);\n      this.aZ += spanZ * inverseZ / 2;\n    } else {\n      inverseZ = 1 / Math.max(1, depth - 1);\n    }\n\n    this.bX = spanX * inverseX;\n    this.bY = spanY * inverseY;\n    this.bZ = spanZ * inverseZ;\n    this.aX += this.bX * padX;\n    this.aY += this.bY * padY;\n    return this.aZ += this.bZ * padY;\n  }\n\n  callback(callback) {\n    this.updateSpan();\n\n    if (this.last === callback) {\n      return this._callback;\n    }\n\n    this.last = callback;\n\n    if (callback.length <= 7) {\n      return this._callback = (emit, i, j, k) => {\n        const x = this.aX + this.bX * i;\n        const y = this.aY + this.bY * j;\n        const z = this.aZ + this.bZ * k;\n        return callback(emit, x, y, z, i, j, k);\n      };\n    } else {\n      return this._callback = (emit, i, j, k) => {\n        const x = this.aX + this.bX * i;\n        const y = this.aY + this.bY * j;\n        const z = this.aZ + this.bZ * k;\n        return callback(emit, x, y, z, i, j, k, this.bufferClock, this.bufferStep);\n      };\n    }\n  }\n\n  make() {\n    super.make();\n\n    this._helpers.span.make();\n\n    return this._listen(this, \"span.range\", this.updateSpan);\n  }\n\n  unmake() {\n    super.unmake();\n    return this._helpers.span.unmake();\n  }\n\n  change(changed, touched, init) {\n    super.change(changed, touched, init);\n\n    if (touched[\"x\"] || touched[\"y\"] || touched[\"z\"]) {\n      this.updateSpan();\n    }\n  }\n\n}\n\nexports.Volume = Volume;\nVolume.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Volume","_voxel","Voxel","initClass","traits","updateSpan","dimensions","props","axes","width","height","depth","centeredX","centeredY","centeredZ","padX","paddingX","padY","paddingY","padZ","paddingZ","rangeX","_helpers","span","get","rangeY","rangeZ","aX","x","aY","aZ","spanX","y","spanY","spanZ","inverseX","Math","max","inverseY","inverseZ","bX","bY","bZ","callback","last","_callback","length","emit","i","j","k","this._callback","bufferClock","bufferStep","make","_listen","unmake","change","changed","touched","init"]
}

{
"version":3,
"file":"module$node_modules$shadergraph$src$glsl$decl.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/shadergraph/src/glsl/decl.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$shadergraph$src$glsl$decl\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decl = void 0;\n\nvar _Vector = require(\"three/src/math/Vector2.js\");\n\nvar _Vector2 = require(\"three/src/math/Vector3.js\");\n\nvar _Vector3 = require(\"three/src/math/Vector4.js\");\n\nvar _Matrix = require(\"three/src/math/Matrix3.js\");\n\nvar _Matrix2 = require(\"three/src/math/Matrix4.js\");\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\n// AST node parsers\nconst decl = {};\nexports.decl = decl;\ndecl.in = 0;\ndecl.out = 1;\ndecl.inout = 2;\n\nconst get = n => n.token.data;\n\ndecl.node = function (node) {\n  if ((node.children[5] != null ? node.children[5].type : undefined) === \"function\") {\n    return decl.function(node);\n  } else if ((node.token != null ? node.token.type : undefined) === \"keyword\") {\n    return decl.external(node);\n  }\n};\n\ndecl.external = function (node) {\n  //    console.log 'external', node\n  let c = node.children;\n  let storage = get(c[1]);\n  const type = get(c[4]);\n  const list = c[5];\n\n  if (![\"attribute\", \"uniform\", \"varying\"].includes(storage)) {\n    storage = \"global\";\n  }\n\n  const out = [];\n\n  for (let i = 0; i < list.children.length; i++) {\n    c = list.children[i];\n\n    if (c.type === \"ident\") {\n      const ident = get(c);\n      const next = list.children[i + 1];\n      const quant = (next != null ? next.type : undefined) === \"quantifier\";\n      out.push({\n        decl: \"external\",\n        storage,\n        type,\n        ident,\n        quant: !!quant,\n        count: quant\n      });\n    }\n  }\n\n  return out;\n};\n\ndecl.function = function (node) {\n  const c = node.children; //    console.log 'function', node\n\n  const storage = get(c[1]);\n  const type = get(c[4]);\n  const func = c[5];\n  const ident = get(func.children[0]);\n  const args = func.children[1];\n  const body = func.children[2];\n  const decls = Array.from(args.children).map(child => decl.argument(child));\n  return [{\n    decl: \"function\",\n    storage,\n    type,\n    ident,\n    body: !!body,\n    args: decls\n  }];\n};\n\ndecl.argument = function (node) {\n  const c = node.children; //    console.log 'argument', node\n\n  const storage = get(c[1]);\n  const inout = get(c[2]);\n  const type = get(c[4]);\n  const list = c[5];\n  const ident = get(list.children[0]);\n  const quant = list.children[1];\n  const count = quant ? quant.children[0].token.data : undefined;\n  return {\n    decl: \"argument\",\n    storage,\n    inout,\n    type,\n    ident,\n    quant: !!quant,\n    count\n  };\n};\n\ndecl.param = function (dir, storage, spec, quant, count) {\n  let prefix = [];\n\n  if (storage != null) {\n    prefix.push(storage);\n  }\n\n  if (spec != null) {\n    prefix.push(spec);\n  }\n\n  prefix.push(\"\");\n  prefix = prefix.join(\" \");\n  const suffix = quant ? \"[\" + count + \"]\" : \"\";\n\n  if (dir !== \"\") {\n    dir += \" \";\n  }\n\n  const f = (name, long) => (long ? dir : \"\") + `${prefix}${name}${suffix}`;\n\n  f.split = dir => decl.param(dir, storage, spec, quant, count);\n\n  return f;\n}; // Three.js sugar\n\n\nconst win = typeof window !== \"undefined\";\nconst threejs = win && !!window.THREE;\nconst defaults = {\n  int: 0,\n  float: 0,\n  vec2: threejs ? _Vector.Vector2 : null,\n  vec3: threejs ? _Vector2.Vector3 : null,\n  vec4: threejs ? _Vector3.Vector4 : null,\n  mat2: null,\n  mat3: threejs ? _Matrix.Matrix3 : null,\n  mat4: threejs ? _Matrix2.Matrix4 : null,\n  sampler2D: 0,\n  samplerCube: 0\n};\nconst three = {\n  int: \"i\",\n  float: \"f\",\n  vec2: \"v2\",\n  vec3: \"v3\",\n  vec4: \"v4\",\n  mat2: \"m2\",\n  mat3: \"m3\",\n  mat4: \"m4\",\n  sampler2D: \"t\",\n  samplerCube: \"t\"\n};\n\ndecl.type = function (name, spec, quant, count, dir, storage) {\n  const dirs = {\n    in: decl.in,\n    out: decl.out,\n    inout: decl.inout\n  };\n  const storages = {\n    const: \"const\"\n  };\n  let type = three[spec];\n\n  if (quant) {\n    type += \"v\";\n  }\n\n  let value = defaults[spec];\n\n  if (value != null ? value.call : undefined) {\n    value = new value();\n  }\n\n  if (quant) {\n    value = [value];\n  }\n\n  const inout = dirs[dir] != null ? dirs[dir] : dirs.in;\n  storage = storages[storage];\n  const param = decl.param(dir, storage, spec, quant, count);\n  return new Definition(name, type, spec, param, value, inout);\n};\n\nclass Definition {\n  constructor(name, type, spec, param, value, inout, meta) {\n    this.name = name;\n    this.type = type;\n    this.spec = spec;\n    this.param = param;\n    this.value = value;\n    this.inout = inout;\n    this.meta = meta;\n  }\n\n  split() {\n    // Split inouts\n    const isIn = this.meta.shadowed != null;\n    const dir = isIn ? \"in\" : \"out\";\n    const inout = isIn ? decl.in : decl.out;\n    const param = this.param.split(dir);\n    return new Definition(this.name, this.type, this.spec, param, this.value, inout);\n  }\n\n  copy(name, meta) {\n    return new Definition(name != null ? name : this.name, this.type, this.spec, this.param, this.value, this.inout, meta);\n  }\n\n}\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","decl","_Vector","_Vector2","_Vector3","_Matrix","_Matrix2","in","out","inout","node","decl.node","children","type","undefined","function","token","external","decl.external","c","storage","n","data","list","includes","i","length","next","quant","push","ident","count","decl.function","func","body","decls","Array","from","args","map","child","argument","decl.argument","param","decl.param","dir","spec","prefix","join","suffix","f","name","long","split","f.split","threejs","window","THREE","defaults","int","float","vec2","Vector2","vec3","Vector3","vec4","Vector4","mat2","mat3","Matrix3","mat4","Matrix4","sampler2D","samplerCube","three","decl.type","dirs","call","storages","const","Definition","constructor","meta","isIn","shadowed","copy"]
}

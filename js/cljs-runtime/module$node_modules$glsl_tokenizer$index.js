shadow$provide.module$node_modules$glsl_tokenizer$index=function(global,require,module,exports){module.exports=function(opt){function token(data){data.length&&tokens.push({type:map[mode],data,position:start,line,column:col})}function normal(){content=content.length?[]:content;if("/"===last&&"*"===c)return start=total+i-1,mode=BLOCK_COMMENT,last=c,i+1;if("/"===last&&"/"===c)return start=total+i-1,mode=LINE_COMMENT,last=c,i+1;if("#"===c)return mode=PREPROCESSOR,start=total+i,i;if(/\s/.test(c))return mode=
WHITESPACE,start=total+i,i;isnum=/\d/.test(c);isoperator=/[^\w_]/.test(c);start=total+i;mode=isnum?INTEGER:isoperator?OPERATOR:TOKEN;return i}function preprocessor(){if(("\r"===c||"\n"===c)&&"\\"!==last)return token(content.join("")),mode=NORMAL,i;content.push(c);last=c;return i+1}function operator(){if("."===last&&/\d/.test(c))return mode=FLOAT,i;if("/"===last&&"*"===c)return mode=BLOCK_COMMENT,i;if("/"===last&&"/"===c)return mode=LINE_COMMENT,i;if("."===c&&content.length){for(;determine_operator(content););
mode=FLOAT;return i}if(";"===c||")"===c||"("===c){if(content.length)for(;determine_operator(content););token(c);mode=NORMAL;return i+1}var is_composite_operator=2===content.length&&"\x3d"!==c;if(/[\w_\d\s]/.test(c)||is_composite_operator){for(;determine_operator(content););mode=NORMAL;return i}content.push(c);last=c;return i+1}function determine_operator(buf){var j=0;do{var idx=operators.indexOf(buf.slice(0,buf.length+j).join(""));var res=operators[idx];if(-1===idx){if(0<j--+buf.length)continue;res=
buf.slice(0,1).join("")}token(res);start+=res.length;content=content.slice(res.length);return content.length}while(1)}function integer(){if("."===c||/[eE]/.test(c))return content.push(c),mode=FLOAT,last=c,i+1;if("x"===c&&1===content.length&&"0"===content[0])return mode=HEX,content.push(c),last=c,i+1;if(/[^\d]/.test(c))return token(content.join("")),mode=NORMAL,i;content.push(c);last=c;return i+1}function decimal(){"f"===c&&(content.push(c),last=c,i+=1);if(/[eE]/.test(c)||("-"===c||"+"===c)&&/[eE]/.test(last))return content.push(c),
last=c,i+1;if(/[^\d]/.test(c))return token(content.join("")),mode=NORMAL,i;content.push(c);last=c;return i+1}var i=0,total=0,mode=NORMAL,c,last,content=[],tokens=[],line=1,col=0,start=0,isnum=!1,isoperator=!1,input="",len;opt=opt||{};var allBuiltins=builtins100,allLiterals=literals100;"300 es"===opt.version&&(allBuiltins=builtins300es,allLiterals=literals300es);var builtinsDict={},literalsDict={};for(i=0;i<allBuiltins.length;i++)builtinsDict[allBuiltins[i]]=!0;for(i=0;i<allLiterals.length;i++)literalsDict[allLiterals[i]]=
!0;return function(data){tokens=[];if(null!==data){i=0;data.toString&&(data=data.toString());input+=data.replace(/\r\n/g,"\n");for(len=input.length;c=input[i],i<len;){data=i;switch(mode){case BLOCK_COMMENT:"/"===c&&"*"===last?(content.push(c),token(content.join("")),mode=NORMAL):(content.push(c),last=c);i+=1;break;case LINE_COMMENT:i=preprocessor();break;case PREPROCESSOR:i=preprocessor();break;case OPERATOR:i=operator();break;case INTEGER:i=integer();break;case HEX:/[^a-fA-F0-9]/.test(c)?(token(content.join("")),
mode=NORMAL):(content.push(c),last=c,i+=1);break;case FLOAT:i=decimal();break;case TOKEN:if(/[^\d\w_]/.test(c)){var contentstr=content.join("");mode=literalsDict[contentstr]?KEYWORD:builtinsDict[contentstr]?BUILTIN:IDENT;token(content.join(""));mode=NORMAL}else content.push(c),last=c,i+=1;break;case WHITESPACE:/[^\s]/g.test(c)?(token(content.join("")),mode=NORMAL):(content.push(c),last=c,i+=1);break;case NORMAL:i=normal()}if(data!==i)switch(input[data]){case "\n":col=0;++line;break;default:++col}}total+=
i;input=input.slice(i);return tokens}content.length&&token(content.join(""));mode=EOF;token("(eof)");return tokens}};var literals100=require("module$node_modules$glsl_tokenizer$lib$literals"),operators=require("module$node_modules$glsl_tokenizer$lib$operators"),builtins100=require("module$node_modules$glsl_tokenizer$lib$builtins"),literals300es=require("module$node_modules$glsl_tokenizer$lib$literals_300es"),builtins300es=require("module$node_modules$glsl_tokenizer$lib$builtins_300es"),NORMAL=999,
TOKEN=9999,BLOCK_COMMENT=0,LINE_COMMENT=1,PREPROCESSOR=2,OPERATOR=3,INTEGER=4,FLOAT=5,IDENT=6,BUILTIN=7,KEYWORD=8,WHITESPACE=9,EOF=10,HEX=11,map="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ")}
//# sourceMappingURL=module$node_modules$glsl_tokenizer$index.js.map

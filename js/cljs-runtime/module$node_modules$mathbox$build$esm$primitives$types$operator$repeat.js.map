{
"version":3,
"file":"module$node_modules$mathbox$build$esm$primitives$types$operator$repeat.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/mathbox/build/esm/primitives/types/operator/repeat.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mathbox$build$esm$primitives$types$operator$repeat\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Repeat = void 0;\n\nvar _operator = require(\"./operator.js\");\n\n// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n\n/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS206: Consider reworking classes to avoid initClass\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nclass Repeat extends _operator.Operator {\n  static initClass() {\n    this.traits = [\"node\", \"bind\", \"operator\", \"source\", \"index\", \"repeat\"];\n  }\n\n  indexShader(shader) {\n    shader.pipe(this.operator);\n    return super.indexShader(shader);\n  }\n\n  sourceShader(shader) {\n    shader.pipe(this.operator);\n    return super.sourceShader(shader);\n  }\n\n  getDimensions() {\n    return this._resample(this.bind.source.getDimensions());\n  }\n\n  getActiveDimensions() {\n    return this._resample(this.bind.source.getActiveDimensions());\n  }\n\n  getFutureDimensions() {\n    return this._resample(this.bind.source.getFutureDimensions());\n  }\n\n  getIndexDimensions() {\n    return this._resample(this.bind.source.getIndexDimensions());\n  }\n\n  _resample(dims) {\n    const r = this.resample;\n    return {\n      items: r.items * dims.items,\n      width: r.width * dims.width,\n      height: r.height * dims.height,\n      depth: r.depth * dims.depth\n    };\n  }\n\n  make() {\n    super.make();\n\n    if (this.bind.source == null) {\n      return;\n    } // Repeat multipliers\n\n\n    this.resample = {}; // Modulus on all 4 dimensions\n\n    const uniforms = {\n      repeatModulus: this._attributes.make(this._types.vec4())\n    };\n    this.repeatModulus = uniforms.repeatModulus; // Build shader to repeat along all dimensions\n\n    const transform = this._shaders.shader();\n\n    transform.pipe(\"repeat.position\", uniforms);\n    return this.operator = transform;\n  }\n\n  unmake() {\n    return super.unmake();\n  }\n\n  resize() {\n    if (this.bind.source != null) {\n      const dims = this.bind.source.getActiveDimensions();\n      this.repeatModulus.value.set(dims.width, dims.height, dims.depth, dims.items);\n    }\n\n    return super.resize();\n  }\n\n  change(changed, touched, init) {\n    if (touched[\"operator\"] || touched[\"repeat\"]) {\n      return this.rebuild();\n    }\n\n    if (init) {\n      return [\"items\", \"width\", \"height\", \"depth\"].map(key => this.resample[key] = this.props[key]);\n    }\n  }\n\n}\n\nexports.Repeat = Repeat;\nRepeat.initClass();\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Repeat","_operator","Operator","initClass","traits","indexShader","shader","pipe","operator","sourceShader","getDimensions","_resample","bind","source","getActiveDimensions","getFutureDimensions","getIndexDimensions","dims","r","resample","items","width","height","depth","make","uniforms","repeatModulus","_attributes","_types","vec4","transform","_shaders","unmake","resize","set","change","changed","touched","init","rebuild","map","key","props"]
}

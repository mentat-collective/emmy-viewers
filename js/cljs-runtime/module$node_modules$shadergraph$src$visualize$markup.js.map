{
"version":3,
"file":"module$node_modules$shadergraph$src$visualize$markup.js",
"lineCount":18,
"mappings":"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",
"sources":["node_modules/shadergraph/src/visualize/markup.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$shadergraph$src$visualize$markup\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.merge = exports.overlay = exports.process = void 0;\n\nvar _hash = require(\"../factory/hash\");\n\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nconst trim = string => (\"\" + string).replace(/^\\s+|\\s+$/g, \"\");\n\nconst cssColor = (r, g, b, alpha) => \"rgba(\" + [r, g, b, alpha].join(\", \") + \")\";\n\nconst hashColor = function (string, alpha) {\n  if (alpha == null) {\n    alpha = 1;\n  }\n\n  const color = (0, _hash.hash)(string) ^ 0x123456;\n  let r = color & 0xff;\n  let g = color >>> 8 & 0xff;\n  let b = color >>> 16 & 0xff;\n  const max = Math.max(r, g, b);\n  const norm = 140 / max;\n  const min = Math.round(max / 3);\n  r = Math.min(255, Math.round(norm * Math.max(r, min)));\n  g = Math.min(255, Math.round(norm * Math.max(g, min)));\n  b = Math.min(255, Math.round(norm * Math.max(b, min)));\n  return cssColor(r, g, b, alpha);\n};\n\nconst escapeText = function (string) {\n  string = string != null ? string : \"\";\n  return string.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/'/g, \"&#39;\").replace(/\"/g, \"&quot;\");\n};\n\nconst process = function (data) {\n  const links = [];\n\n  const el = _markup(data, links);\n\n  el.update = () => connect(el, links);\n\n  _activate(el);\n\n  return el;\n};\n\nexports.process = process;\n\nconst _activate = function (el) {\n  const codes = el.querySelectorAll(\".shadergraph-code\");\n  return Array.from(codes).map(code => function () {\n    const popup = code;\n    popup.parentNode.classList.add(\"shadergraph-has-code\");\n    return popup.parentNode.addEventListener(\"click\", _event => popup.style.display = {\n      block: \"none\",\n      none: \"block\"\n    }[popup.style.display || \"none\"]);\n  }());\n};\n\nconst _order = function (data) {\n  let link, node;\n  const nodeMap = {};\n  const linkMap = {};\n\n  for (node of Array.from(data.nodes)) {\n    nodeMap[node.id] = node;\n  }\n\n  for (link of Array.from(data.links)) {\n    if (linkMap[link.from] == null) {\n      linkMap[link.from] = [];\n    }\n\n    linkMap[link.from].push(link);\n  }\n\n  const recurse = function (node, depth) {\n    let next;\n\n    if (depth == null) {\n      depth = 0;\n    }\n\n    node.depth = Math.max(node.depth != null ? node.depth : 0, depth);\n\n    if (next = linkMap[node.id]) {\n      for (link of Array.from(next)) {\n        recurse(nodeMap[link.to], depth + 1);\n      }\n    }\n\n    return null;\n  };\n\n  for (node of Array.from(data.nodes)) {\n    if (node.depth == null) {\n      recurse(node);\n    }\n  }\n\n  return null;\n};\n\nconst _markup = function (data, links) {\n  let column;\n\n  _order(data);\n\n  const wrapper = document.createElement(\"div\");\n  wrapper.classList.add(\"shadergraph-graph\");\n  const columns = [];\n  const outlets = {};\n\n  for (const node of Array.from(data.nodes)) {\n    let outlet;\n    const block = document.createElement(\"div\");\n    block.classList.add(\"shadergraph-node\");\n    block.classList.add(`shadergraph-node-${node.type}`);\n    block.innerHTML = `\\\n<div class=\"shadergraph-header\">${escapeText(node.name)}</div>\\\n`;\n\n    const addOutlet = function (outlet, inout) {\n      const color = hashColor(outlet.type);\n      const div = document.createElement(\"div\");\n      div.classList.add(\"shadergraph-outlet\");\n      div.classList.add(`shadergraph-outlet-${inout}`);\n      div.innerHTML = `\\\n<div class=\"shadergraph-point\" style=\"background: ${color}\"></div>\n<div class=\"shadergraph-type\" style=\"color: ${color}\">${escapeText(outlet.type)}</div>\n<div class=\"shadergraph-name\">${escapeText(outlet.name)}</div>\\\n`;\n      block.appendChild(div);\n      return outlets[outlet.id] = div.querySelector(\".shadergraph-point\");\n    };\n\n    for (outlet of Array.from(node.inputs)) {\n      addOutlet(outlet, \"in\");\n    }\n\n    for (outlet of Array.from(node.outputs)) {\n      addOutlet(outlet, \"out\");\n    }\n\n    if (node.graph != null) {\n      block.appendChild(_markup(node.graph, links));\n    } else {\n      const clear = document.createElement(\"div\");\n      clear.classList.add(\"shadergraph-clear\");\n      block.appendChild(clear);\n    }\n\n    if (node.code != null) {\n      const div = document.createElement(\"div\");\n      div.classList.add(\"shadergraph-code\");\n      div.innerHTML = escapeText(trim(node.code));\n      block.appendChild(div);\n    }\n\n    column = columns[node.depth];\n\n    if (column == null) {\n      column = document.createElement(\"div\");\n      column.classList.add(\"shadergraph-column\");\n      columns[node.depth] = column;\n    }\n\n    column.appendChild(block);\n  }\n\n  for (column of Array.from(columns)) {\n    if (column != null) {\n      wrapper.appendChild(column);\n    }\n  }\n\n  for (const link of Array.from(data.links)) {\n    const color = hashColor(link.type);\n    links.push({\n      color,\n      out: outlets[link.out],\n      in: outlets[link.in]\n    });\n  }\n\n  return wrapper;\n};\n\nconst sqr = x => x * x;\n\nconst path = function (x1, y1, x2, y2) {\n  let h;\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const d = Math.sqrt(sqr(dx) + sqr(dy));\n  const vert = Math.abs(dy) > Math.abs(dx);\n\n  if (vert) {\n    const mx = (x1 + x2) / 2;\n    const my = (y1 + y2) / 2;\n    const f = dy > 0 ? 0.3 : -0.3;\n    h = Math.min(Math.abs(dx) / 2, 20 + d / 8);\n    return [\"M\", x1, y1, \"C\", x1 + h, y1 + \",\", mx, my - d * f, mx, my, \"C\", mx, my + d * f, x2 - h, y2 + \",\", x2, y2].join(\" \");\n  } else {\n    h = Math.min(Math.abs(dx) / 2.5, 20 + d / 4);\n    return [\"M\", x1, y1, \"C\", x1 + h, y1 + \",\", x2 - h, y2 + \",\", x2, y2].join(\" \");\n  }\n};\n\nconst makeSVG = function (tag) {\n  if (tag == null) {\n    tag = \"svg\";\n  }\n\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n};\n\nconst connect = function (element, links) {\n  let link;\n\n  if (element.parentNode == null) {\n    return;\n  }\n\n  const ref = element.getBoundingClientRect();\n\n  for (link of Array.from(links)) {\n    const a = link.out.getBoundingClientRect();\n    const b = link.in.getBoundingClientRect();\n    link.coords = {\n      x1: (a.left + a.right) / 2 - ref.left,\n      y1: (a.top + a.bottom) / 2 - ref.top,\n      x2: (b.left + b.right) / 2 - ref.left,\n      y2: (b.top + b.bottom) / 2 - ref.top\n    };\n  }\n\n  let svg = element.querySelector(\"svg\");\n\n  if (svg != null) {\n    element.removeChild(svg);\n  }\n\n  let box = element;\n\n  while (box.parentNode && box.offsetHeight === 0) {\n    box = box.parentNode;\n  }\n\n  svg = makeSVG();\n  svg.setAttribute(\"width\", box.offsetWidth);\n  svg.setAttribute(\"height\", box.offsetHeight);\n\n  for (link of Array.from(links)) {\n    const c = link.coords;\n    const line = makeSVG(\"path\");\n    line.setAttribute(\"d\", path(c.x1, c.y1, c.x2, c.y2));\n    line.setAttribute(\"stroke\", link.color);\n    line.setAttribute(\"stroke-width\", 3);\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.appendChild(line);\n  }\n\n  return element.appendChild(svg);\n};\n\nconst overlay = function (contents) {\n  const div = document.createElement(\"div\");\n  div.setAttribute(\"class\", \"shadergraph-overlay\");\n  const close = document.createElement(\"div\");\n  close.setAttribute(\"class\", \"shadergraph-close\");\n  close.innerHTML = \"&times;\";\n  const view = document.createElement(\"div\");\n  view.setAttribute(\"class\", \"shadergraph-view\");\n  const inside = document.createElement(\"div\");\n  inside.setAttribute(\"class\", \"shadergraph-inside\");\n  inside.appendChild(contents);\n  view.appendChild(inside);\n  div.appendChild(view);\n  div.appendChild(close);\n  close.addEventListener(\"click\", () => div.parentNode.removeChild(div));\n  return div;\n};\n\nexports.overlay = overlay;\n\nconst wrap = function (markup) {\n  if (markup instanceof Node) {\n    return markup;\n  }\n\n  const p = document.createElement(\"span\");\n  p.innerText = markup != null ? markup : \"\";\n  return p;\n};\n\nconst merge = function (markup) {\n  if (markup.length !== 1) {\n    let el;\n    const div = document.createElement(\"div\");\n\n    for (el of Array.from(markup)) {\n      div.appendChild(wrap(el));\n    }\n\n    div.update = () => (() => {\n      const result = [];\n\n      for (el of Array.from(markup)) {\n        result.push(typeof el.update === \"function\" ? el.update() : undefined);\n      }\n\n      return result;\n    })();\n\n    return div;\n  } else {\n    return wrap(markup[0]);\n  }\n};\n\nexports.merge = merge;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","merge","overlay","process","_hash","hashColor","string","alpha","color","hash","r","g","b","max","Math","norm","min","round","join","escapeText","replace","data","links","el","_markup","update","el.update","parentNode","ref","getBoundingClientRect","link","Array","from","a","out","in","coords","x1","left","right","y1","top","bottom","x2","y2","svg","querySelector","removeChild","box","offsetHeight","makeSVG","setAttribute","offsetWidth","c","line","h","dx","dy","d","sqrt","abs","mx","my","f","appendChild","_activate","codes","querySelectorAll","map","code","classList","add","addEventListener","_event","style","display","block","none","_order","node","nodeMap","linkMap","nodes","id","push","recurse","depth","next","to","wrapper","document","createElement","columns","outlets","outlet","type","innerHTML","name","addOutlet","inout","div","inputs","outputs","graph","clear","column","tag","createElementNS","contents","close","view","inside","wrap","markup","Node","p","innerText","length","div.update","result","undefined"]
}

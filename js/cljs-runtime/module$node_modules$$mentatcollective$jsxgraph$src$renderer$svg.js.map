{
"version":3,
"file":"module$node_modules$$mentatcollective$jsxgraph$src$renderer$svg.js",
"lineCount":64,
"mappings":"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",
"sources":["node_modules/@mentatcollective/jsxgraph/src/renderer/svg.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mentatcollective$jsxgraph$src$renderer$svg\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _jxg = _interopRequireDefault(require(\"../jxg\"));\n\nvar _options = _interopRequireDefault(require(\"../options\"));\n\nvar _abstract = _interopRequireDefault(require(\"./abstract\"));\n\nvar _constants = _interopRequireDefault(require(\"../base/constants\"));\n\nvar _type = _interopRequireDefault(require(\"../utils/type\"));\n\nvar _color = _interopRequireDefault(require(\"../utils/color\"));\n\nvar _base = _interopRequireDefault(require(\"../utils/base64\"));\n\nvar _numerics = _interopRequireDefault(require(\"../math/numerics\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n    Copyright 2008-2022\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <http://www.gnu.org/licenses/>\n    and <http://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, MathJax: true, document: true */\n\n/*jslint nomen: true, plusplus: true, newcap:true*/\n\n/**\n * Uses SVG to implement the rendering methods defined in {@link JXG.AbstractRenderer}.\n * @class JXG.SVGRenderer\n * @augments JXG.AbstractRenderer\n * @param {Node} container Reference to a DOM node containing the board.\n * @param {Object} dim The dimensions of the board\n * @param {Number} dim.width\n * @param {Number} dim.height\n * @see JXG.AbstractRenderer\n */\n_jxg.default.SVGRenderer = function (container, dim) {\n  var i; // docstring in AbstractRenderer\n\n  this.type = \"svg\";\n  this.isIE = navigator.appVersion.indexOf(\"MSIE\") !== -1 || navigator.userAgent.match(/Trident\\//);\n  /**\n   * SVG root node\n   * @type Node\n   */\n\n  this.svgRoot = null;\n  /**\n   * The SVG Namespace used in JSXGraph.\n   * @see http://www.w3.org/TR/SVG/\n   * @type String\n   * @default http://www.w3.org/2000/svg\n   */\n\n  this.svgNamespace = \"http://www.w3.org/2000/svg\";\n  /**\n   * The xlink namespace. This is used for images.\n   * @see http://www.w3.org/TR/xlink/\n   * @type String\n   * @default http://www.w3.org/1999/xlink\n   */\n\n  this.xlinkNamespace = \"http://www.w3.org/1999/xlink\"; // container is documented in AbstractRenderer\n\n  this.container = container; // prepare the div container and the svg root node for use with JSXGraph\n\n  this.container.style.MozUserSelect = \"none\";\n  this.container.style.userSelect = \"none\";\n  this.container.style.overflow = \"hidden\";\n\n  if (this.container.style.position === \"\") {\n    this.container.style.position = \"relative\";\n  }\n\n  this.svgRoot = this.container.ownerDocument.createElementNS(this.svgNamespace, \"svg\");\n  this.svgRoot.style.overflow = \"hidden\";\n  this.svgRoot.style.display = \"block\";\n  this.resize(dim.width, dim.height); //this.svgRoot.setAttributeNS(null, 'shape-rendering', 'crispEdge'); //'optimizeQuality'); //geometricPrecision');\n\n  this.container.appendChild(this.svgRoot);\n  /**\n   * The <tt>defs</tt> element is a container element to reference reusable SVG elements.\n   * @type Node\n   * @see http://www.w3.org/TR/SVG/struct.html#DefsElement\n   */\n\n  this.defs = this.container.ownerDocument.createElementNS(this.svgNamespace, \"defs\");\n  this.svgRoot.appendChild(this.defs);\n  /**\n   * Filters are used to apply shadows.\n   * @type Node\n   * @see http://www.w3.org/TR/SVG/filters.html#FilterElement\n   */\n\n  this.filter = this.container.ownerDocument.createElementNS(this.svgNamespace, \"filter\");\n  this.filter.setAttributeNS(null, \"id\", this.container.id + \"_\" + \"f1\");\n  /*\n      this.filter.setAttributeNS(null, 'x', '-100%');\n      this.filter.setAttributeNS(null, 'y', '-100%');\n      this.filter.setAttributeNS(null, 'width', '400%');\n      this.filter.setAttributeNS(null, 'height', '400%');\n      //this.filter.setAttributeNS(null, 'filterUnits', 'userSpaceOnUse');\n      */\n\n  this.filter.setAttributeNS(null, \"width\", \"300%\");\n  this.filter.setAttributeNS(null, \"height\", \"300%\");\n  this.filter.setAttributeNS(null, \"filterUnits\", \"userSpaceOnUse\");\n  this.feOffset = this.container.ownerDocument.createElementNS(this.svgNamespace, \"feOffset\");\n  this.feOffset.setAttributeNS(null, \"in\", \"SourceAlpha\"); // b/w: SourceAlpha, Color: SourceGraphic\n\n  this.feOffset.setAttributeNS(null, \"result\", \"offOut\");\n  this.feOffset.setAttributeNS(null, \"dx\", \"5\");\n  this.feOffset.setAttributeNS(null, \"dy\", \"5\");\n  this.filter.appendChild(this.feOffset); // this.feColor = this.container.ownerDocument.createElementNS(this.svgNamespace, 'feColorMatrix');\n  // this.feColor.setAttributeNS(null, 'in', 'offOut');\n  // this.feColor.setAttributeNS(null, 'result', 'colorOut');\n  // this.feColor.setAttributeNS(null, 'type', 'matrix');\n  // this.feColor.setAttributeNS(null, 'values', '0.1 0 0 0 0  0 0.1 0 0 0  0 0 0.1 0 50  0 0 0 1 0');\n  // this.filter.appendChild(this.feColor);\n\n  this.feGaussianBlur = this.container.ownerDocument.createElementNS(this.svgNamespace, \"feGaussianBlur\");\n  this.feGaussianBlur.setAttributeNS(null, \"in\", \"offOut\");\n  this.feGaussianBlur.setAttributeNS(null, \"result\", \"blurOut\");\n  this.feGaussianBlur.setAttributeNS(null, \"stdDeviation\", \"3\");\n  this.filter.appendChild(this.feGaussianBlur);\n  this.feBlend = this.container.ownerDocument.createElementNS(this.svgNamespace, \"feBlend\");\n  this.feBlend.setAttributeNS(null, \"in\", \"SourceGraphic\");\n  this.feBlend.setAttributeNS(null, \"in2\", \"blurOut\");\n  this.feBlend.setAttributeNS(null, \"mode\", \"normal\");\n  this.filter.appendChild(this.feBlend);\n  this.defs.appendChild(this.filter);\n  /**\n   * JSXGraph uses a layer system to sort the elements on the board. This puts certain types of elements in front\n   * of other types of elements. For the order used see {@link JXG.Options.layer}. The number of layers is documented\n   * there, too. The higher the number, the \"more on top\" are the elements on this layer.\n   * @type Array\n   */\n\n  this.layer = [];\n\n  for (i = 0; i < _options.default.layer.numlayers; i++) {\n    this.layer[i] = this.container.ownerDocument.createElementNS(this.svgNamespace, \"g\");\n    this.svgRoot.appendChild(this.layer[i]);\n  } // Already documented in JXG.AbstractRenderer\n\n\n  this.supportsForeignObject = document.implementation.hasFeature(\"http://w3.org/TR/SVG11/feature#Extensibility\", \"1.1\");\n\n  if (this.supportsForeignObject) {\n    this.foreignObjLayer = this.container.ownerDocument.createElementNS(this.svgNamespace, \"foreignObject\");\n    this.foreignObjLayer.setAttribute(\"display\", \"none\");\n    this.foreignObjLayer.setAttribute(\"x\", 0);\n    this.foreignObjLayer.setAttribute(\"y\", 0);\n    this.foreignObjLayer.setAttribute(\"width\", \"100%\");\n    this.foreignObjLayer.setAttribute(\"height\", \"100%\");\n    this.foreignObjLayer.setAttribute(\"id\", this.container.id + \"_foreignObj\");\n    this.svgRoot.appendChild(this.foreignObjLayer);\n  }\n  /**\n   * Defines dash patterns. Defined styles are: <ol>\n   * <li value=\"-1\"> 2px dash, 2px space</li>\n   * <li> 5px dash, 5px space</li>\n   * <li> 10px dash, 10px space</li>\n   * <li> 20px dash, 20px space</li>\n   * <li> 20px dash, 10px space, 10px dash, 10px dash</li>\n   * <li> 20px dash, 5px space, 10px dash, 5px space</li></ol>\n   * @type Array\n   * @default ['2, 2', '5, 5', '10, 10', '20, 20', '20, 10, 10, 10', '20, 5, 10, 5']\n   * @see http://www.w3.org/TR/SVG/painting.html#StrokeProperties\n   */\n\n\n  this.dashArray = [\"2, 2\", \"5, 5\", \"10, 10\", \"20, 20\", \"20, 10, 10, 10\", \"20, 5, 10, 5\"];\n};\n\n_jxg.default.SVGRenderer.prototype = new _abstract.default();\n\n_jxg.default.extend(_jxg.default.SVGRenderer.prototype,\n/** @lends JXG.SVGRenderer.prototype */\n{\n  /**\n   * Creates an arrow DOM node. Arrows are displayed in SVG with a <em>marker</em> tag.\n   * @private\n   * @param {JXG.GeometryElement} el A JSXGraph element, preferably one that can have an arrow attached.\n   * @param {String} [idAppendix=''] A string that is added to the node's id.\n   * @returns {Node} Reference to the node added to the DOM.\n   */\n  _createArrowHead: function (el, idAppendix, type) {\n    var node2,\n        node3,\n        id = el.id + \"Triangle\",\n        //type = null,\n    v,\n        h;\n\n    if (_type.default.exists(idAppendix)) {\n      id += idAppendix;\n    }\n\n    node2 = this.createPrim(\"marker\", id);\n    node2.setAttributeNS(null, \"stroke\", _type.default.evaluate(el.visProp.strokecolor));\n    node2.setAttributeNS(null, \"stroke-opacity\", _type.default.evaluate(el.visProp.strokeopacity));\n    node2.setAttributeNS(null, \"fill\", _type.default.evaluate(el.visProp.strokecolor));\n    node2.setAttributeNS(null, \"fill-opacity\", _type.default.evaluate(el.visProp.strokeopacity));\n    node2.setAttributeNS(null, \"stroke-width\", 0); // this is the stroke-width of the arrow head.\n    // Should be zero to simplify the calculations\n\n    node2.setAttributeNS(null, \"orient\", \"auto\");\n    node2.setAttributeNS(null, \"markerUnits\", \"strokeWidth\"); // 'strokeWidth' 'userSpaceOnUse');\n\n    /*\n       Types 1, 2:\n       The arrow head is an isosceles triangle with base length 10 and height 10.\n        Type 3:\n       A rectangle\n        Types 4, 5, 6:\n       Defined by Bezier curves from mp_arrowheads.html\n        In any case but type 3 the arrow head is 10 units long,\n       type 3 is 10 unitsb high.\n       These 10 units are scaled to strokeWidth * arrowSize pixels, see\n       this._setArrowWidth().\n        See also abstractRenderer.updateLine() where the line path is shortened accordingly.\n        Changes here are also necessary in setArrowWidth().\n        So far, lines with arrow heads are shortenend to avoid overlapping of\n       arrow head and line. This is not the case for curves, yet.\n       Therefore, the offset refX has to be adapted to the path type.\n    */\n\n    node3 = this.container.ownerDocument.createElementNS(this.svgNamespace, \"path\");\n    h = 5;\n\n    if (idAppendix === \"End\") {\n      // First arrow\n      //type = a.typeFirst;\n      // if (JXG.exists(ev_fa.type)) {\n      //     type = Type.evaluate(ev_fa.type);\n      // }\n      v = 0;\n\n      if (type === 2) {\n        node3.setAttributeNS(null, \"d\", \"M 10,0 L 0,5 L 10,10 L 5,5 z\");\n      } else if (type === 3) {\n        node3.setAttributeNS(null, \"d\", \"M 0,0 L 3.33,0 L 3.33,10 L 0,10 z\");\n      } else if (type === 4) {\n        // insetRatio:0.8 tipAngle:45 wingCurve:15 tailCurve:0\n        h = 3.31;\n        node3.setAttributeNS(null, \"d\", \"M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31\");\n      } else if (type === 5) {\n        // insetRatio:0.9 tipAngle:40 wingCurve:5 tailCurve:15\n        h = 3.28;\n        node3.setAttributeNS(null, \"d\", \"M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28\");\n      } else if (type === 6) {\n        // insetRatio:0.9 tipAngle:35 wingCurve:5 tailCurve:0\n        h = 2.84;\n        node3.setAttributeNS(null, \"d\", \"M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84\");\n      } else if (type === 7) {\n        // insetRatio:0.9 tipAngle:60 wingCurve:30 tailCurve:0\n        h = 5.2;\n        node3.setAttributeNS(null, \"d\", \"M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20\");\n      } else {\n        // type == 1 or > 6\n        node3.setAttributeNS(null, \"d\", \"M 10,0 L 0,5 L 10,10 z\");\n      }\n\n      if (\n      /*!Type.exists(el.rendNode.getTotalLength) && */\n      el.elementClass === _constants.default.OBJECT_CLASS_LINE) {\n        if (type === 2) {\n          v = 4.9;\n        } else if (type === 3) {\n          v = 3.3;\n        } else if (type === 4 || type === 5 || type === 6) {\n          v = 6.66;\n        } else if (type === 7) {\n          v = 0.0;\n        } else {\n          v = 10.0;\n        }\n      }\n    } else {\n      // Last arrow\n      // if (JXG.exists(ev_la.type)) {\n      //     type = Type.evaluate(ev_la.type);\n      // }\n      //type = a.typeLast;\n      v = 10.0;\n\n      if (type === 2) {\n        node3.setAttributeNS(null, \"d\", \"M 0,0 L 10,5 L 0,10 L 5,5 z\");\n      } else if (type === 3) {\n        v = 3.3;\n        node3.setAttributeNS(null, \"d\", \"M 0,0 L 3.33,0 L 3.33,10 L 0,10 z\");\n      } else if (type === 4) {\n        // insetRatio:0.8 tipAngle:45 wingCurve:15 tailCurve:0\n        h = 3.31;\n        node3.setAttributeNS(null, \"d\", \"M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31\");\n      } else if (type === 5) {\n        // insetRatio:0.9 tipAngle:40 wingCurve:5 tailCurve:15\n        h = 3.28;\n        node3.setAttributeNS(null, \"d\", \"M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28\");\n      } else if (type === 6) {\n        // insetRatio:0.9 tipAngle:35 wingCurve:5 tailCurve:0\n        h = 2.84;\n        node3.setAttributeNS(null, \"d\", \"M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84\");\n      } else if (type === 7) {\n        // insetRatio:0.9 tipAngle:60 wingCurve:30 tailCurve:0\n        h = 5.2;\n        node3.setAttributeNS(null, \"d\", \"M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20\");\n      } else {\n        // type == 1 or > 6\n        node3.setAttributeNS(null, \"d\", \"M 0,0 L 10,5 L 0,10 z\");\n      }\n\n      if (\n      /*!Type.exists(el.rendNode.getTotalLength) &&*/\n      el.elementClass === _constants.default.OBJECT_CLASS_LINE) {\n        if (type === 2) {\n          v = 5.1;\n        } else if (type === 3) {\n          v = 0.02;\n        } else if (type === 4 || type === 5 || type === 6) {\n          v = 3.33;\n        } else if (type === 7) {\n          v = 10.0;\n        } else {\n          v = 0.05;\n        }\n      }\n    }\n\n    if (type === 7) {\n      node2.setAttributeNS(null, \"fill\", \"none\");\n      node2.setAttributeNS(null, \"stroke-width\", 1); // this is the stroke-width of the arrow head.\n    }\n\n    node2.setAttributeNS(null, \"refY\", h);\n    node2.setAttributeNS(null, \"refX\", v);\n    node2.appendChild(node3);\n    return node2;\n  },\n\n  /**\n   * Updates color of an arrow DOM node.\n   * @param {Node} node The arrow node.\n   * @param {String} color Color value in a HTML compatible format, e.g. <tt>#00ff00</tt> or <tt>green</tt> for green.\n   * @param {Number} opacity\n   * @param {JXG.GeometryElement} el The element the arrows are to be attached to\n   */\n  _setArrowColor: function (node, color, opacity, el, type) {\n    if (node) {\n      if (_type.default.isString(color)) {\n        if (type !== 7) {\n          this._setAttribute(function () {\n            node.setAttributeNS(null, \"stroke\", color);\n            node.setAttributeNS(null, \"fill\", color);\n            node.setAttributeNS(null, \"stroke-opacity\", opacity);\n            node.setAttributeNS(null, \"fill-opacity\", opacity);\n          }, el.visPropOld.fillcolor);\n        } else {\n          this._setAttribute(function () {\n            node.setAttributeNS(null, \"fill\", \"none\");\n            node.setAttributeNS(null, \"stroke\", color);\n            node.setAttributeNS(null, \"stroke-opacity\", opacity);\n          }, el.visPropOld.fillcolor);\n        }\n      }\n\n      if (this.isIE) {\n        el.rendNode.parentNode.insertBefore(el.rendNode, el.rendNode);\n      }\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  _setArrowWidth: function (node, width, parentNode, size) {\n    var s, d;\n\n    if (node) {\n      // if (width === 0) {\n      //     // display:none does not work well in webkit\n      //     node.setAttributeNS(null, 'display', 'none');\n      // } else {\n      s = width;\n      d = s * size;\n      node.setAttributeNS(null, \"viewBox\", 0 + \" \" + 0 + \" \" + s * 10 + \" \" + s * 10);\n      node.setAttributeNS(null, \"markerHeight\", d);\n      node.setAttributeNS(null, \"markerWidth\", d);\n      node.setAttributeNS(null, \"display\", \"inherit\"); // }\n\n      if (this.isIE) {\n        parentNode.parentNode.insertBefore(parentNode, parentNode);\n      }\n    }\n  },\n\n  /* ******************************** *\n   *  This renderer does not need to\n   *  override draw/update* methods\n   *  since it provides draw/update*Prim\n   *  methods except for some cases like\n   *  internal texts or images.\n   * ******************************** */\n\n  /* **************************\n   *    Lines\n   * **************************/\n  // documented in AbstractRenderer\n  updateTicks: function (ticks) {\n    var i,\n        j,\n        c,\n        node,\n        x,\n        y,\n        tickStr = \"\",\n        len = ticks.ticks.length,\n        len2,\n        str,\n        isReal = true;\n\n    for (i = 0; i < len; i++) {\n      c = ticks.ticks[i];\n      x = c[0];\n      y = c[1];\n      len2 = x.length;\n      str = \" M \" + x[0] + \" \" + y[0];\n\n      if (!_type.default.isNumber(x[0])) {\n        isReal = false;\n      }\n\n      for (j = 1; isReal && j < len2; ++j) {\n        if (_type.default.isNumber(x[j])) {\n          str += \" L \" + x[j] + \" \" + y[j];\n        } else {\n          isReal = false;\n        }\n      }\n\n      if (isReal) {\n        tickStr += str;\n      }\n    }\n\n    node = ticks.rendNode;\n\n    if (!_type.default.exists(node)) {\n      node = this.createPrim(\"path\", ticks.id);\n      this.appendChildPrim(node, _type.default.evaluate(ticks.visProp.layer));\n      ticks.rendNode = node;\n    }\n\n    node.setAttributeNS(null, \"stroke\", _type.default.evaluate(ticks.visProp.strokecolor));\n    node.setAttributeNS(null, \"fill\", \"none\"); // node.setAttributeNS(null, 'fill', Type.evaluate(ticks.visProp.fillcolor));\n    // node.setAttributeNS(null, 'fill-opacity', Type.evaluate(ticks.visProp.fillopacity));\n\n    node.setAttributeNS(null, \"stroke-opacity\", _type.default.evaluate(ticks.visProp.strokeopacity));\n    node.setAttributeNS(null, \"stroke-width\", _type.default.evaluate(ticks.visProp.strokewidth));\n    this.updatePathPrim(node, tickStr, ticks.board);\n  },\n\n  /* **************************\n   *    Text related stuff\n   * **************************/\n  // Already documented in JXG.AbstractRenderer\n  displayCopyright: function (str, fontsize) {\n    var node = this.createPrim(\"text\", \"licenseText\"),\n        t;\n    node.setAttributeNS(null, \"x\", \"20px\");\n    node.setAttributeNS(null, \"y\", 2 + fontsize + \"px\");\n    node.setAttributeNS(null, \"style\", \"font-family:Arial,Helvetica,sans-serif; font-size:\" + fontsize + \"px; fill:#356AA0;  opacity:0.3;\");\n    t = this.container.ownerDocument.createTextNode(str);\n    node.appendChild(t);\n    this.appendChildPrim(node, 0);\n  },\n  // Already documented in JXG.AbstractRenderer\n  drawInternalText: function (el) {\n    var node = this.createPrim(\"text\", el.id); //node.setAttributeNS(null, \"style\", \"alignment-baseline:middle\"); // Not yet supported by Firefox\n    // Preserve spaces\n    //node.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"space\", \"preserve\");\n\n    node.style.whiteSpace = \"nowrap\";\n    el.rendNodeText = this.container.ownerDocument.createTextNode(\"\");\n    node.appendChild(el.rendNodeText);\n    this.appendChildPrim(node, _type.default.evaluate(el.visProp.layer));\n    return node;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateInternalText: function (el) {\n    var content = el.plaintext,\n        v,\n        ev_ax = el.getAnchorX(),\n        ev_ay = el.getAnchorY();\n\n    if (el.rendNode.getAttributeNS(null, \"class\") !== el.visProp.cssclass) {\n      el.rendNode.setAttributeNS(null, \"class\", _type.default.evaluate(el.visProp.cssclass));\n      el.needsSizeUpdate = true;\n    }\n\n    if (!isNaN(el.coords.scrCoords[1] + el.coords.scrCoords[2])) {\n      // Horizontal\n      v = el.coords.scrCoords[1];\n\n      if (el.visPropOld.left !== ev_ax + v) {\n        el.rendNode.setAttributeNS(null, \"x\", v + \"px\");\n\n        if (ev_ax === \"left\") {\n          el.rendNode.setAttributeNS(null, \"text-anchor\", \"start\");\n        } else if (ev_ax === \"right\") {\n          el.rendNode.setAttributeNS(null, \"text-anchor\", \"end\");\n        } else if (ev_ax === \"middle\") {\n          el.rendNode.setAttributeNS(null, \"text-anchor\", \"middle\");\n        }\n\n        el.visPropOld.left = ev_ax + v;\n      } // Vertical\n\n\n      v = el.coords.scrCoords[2];\n\n      if (el.visPropOld.top !== ev_ay + v) {\n        el.rendNode.setAttributeNS(null, \"y\", v + this.vOffsetText * 0.5 + \"px\");\n\n        if (ev_ay === \"bottom\") {\n          el.rendNode.setAttributeNS(null, \"dominant-baseline\", \"text-after-edge\");\n        } else if (ev_ay === \"top\") {\n          el.rendNode.setAttributeNS(null, \"dy\", \"1.6ex\"); //el.rendNode.setAttributeNS(null, 'dominant-baseline', 'text-before-edge'); // Not supported by IE, edge\n        } else if (ev_ay === \"middle\") {\n          //el.rendNode.setAttributeNS(null, 'dominant-baseline', 'middle');\n          el.rendNode.setAttributeNS(null, \"dy\", \"0.6ex\");\n        }\n\n        el.visPropOld.top = ev_ay + v;\n      }\n    }\n\n    if (el.htmlStr !== content) {\n      el.rendNodeText.data = content;\n      el.htmlStr = content;\n    }\n\n    this.transformImage(el, el.transformations);\n  },\n\n  /**\n   * Set color and opacity of internal texts.\n   * SVG needs its own version.\n   * @private\n   * @see JXG.AbstractRenderer#updateTextStyle\n   * @see JXG.AbstractRenderer#updateInternalTextStyle\n   */\n  updateInternalTextStyle: function (el, strokeColor, strokeOpacity, duration) {\n    this.setObjectFillColor(el, strokeColor, strokeOpacity);\n  },\n\n  /* **************************\n   *    Image related stuff\n   * **************************/\n  // Already documented in JXG.AbstractRenderer\n  drawImage: function (el) {\n    var node = this.createPrim(\"image\", el.id);\n    node.setAttributeNS(null, \"preserveAspectRatio\", \"none\");\n    this.appendChildPrim(node, _type.default.evaluate(el.visProp.layer));\n    el.rendNode = node;\n    this.updateImage(el);\n  },\n  // Already documented in JXG.AbstractRenderer\n  transformImage: function (el, t) {\n    var s,\n        m,\n        node = el.rendNode,\n        str = \"\",\n        len = t.length;\n\n    if (len > 0) {\n      m = this.joinTransforms(el, t);\n      s = [m[1][1], m[2][1], m[1][2], m[2][2], m[1][0], m[2][0]].join(\",\");\n      str += \" matrix(\" + s + \") \";\n      node.setAttributeNS(null, \"transform\", str);\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateImageURL: function (el) {\n    var url = _type.default.evaluate(el.url);\n\n    if (el._src !== url) {\n      el.imgIsLoaded = false;\n      el.rendNode.setAttributeNS(this.xlinkNamespace, \"xlink:href\", url);\n      el._src = url;\n      return true;\n    }\n\n    return false;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateImageStyle: function (el, doHighlight) {\n    var css = _type.default.evaluate(doHighlight ? el.visProp.highlightcssclass : el.visProp.cssclass);\n\n    el.rendNode.setAttributeNS(null, \"class\", css);\n  },\n  // Already documented in JXG.AbstractRenderer\n  drawForeignObject: function (el) {\n    el.rendNode = this.appendChildPrim(this.createPrim(\"foreignObject\", el.id), _type.default.evaluate(el.visProp.layer));\n    this.appendNodesToElement(el, \"foreignObject\");\n    this.updateForeignObject(el);\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateForeignObject: function (el) {\n    if (el._useUserSize) {\n      el.rendNode.style.overflow = \"hidden\";\n    } else {\n      el.rendNode.style.overflow = \"visible\";\n    }\n\n    this.updateRectPrim(el.rendNode, el.coords.scrCoords[1], el.coords.scrCoords[2] - el.size[1], el.size[0], el.size[1]);\n    el.rendNode.innerHTML = el.content;\n\n    this._updateVisual(el, {\n      stroke: true,\n      dash: true\n    }, true);\n  },\n\n  /* **************************\n   * Render primitive objects\n   * **************************/\n  // Already documented in JXG.AbstractRenderer\n  appendChildPrim: function (node, level) {\n    if (!_type.default.exists(level)) {\n      // trace nodes have level not set\n      level = 0;\n    } else if (level >= _options.default.layer.numlayers) {\n      level = _options.default.layer.numlayers - 1;\n    }\n\n    this.layer[level].appendChild(node);\n    return node;\n  },\n  // Already documented in JXG.AbstractRenderer\n  createPrim: function (type, id) {\n    var node = this.container.ownerDocument.createElementNS(this.svgNamespace, type);\n    node.setAttributeNS(null, \"id\", this.container.id + \"_\" + id);\n    node.style.position = \"absolute\";\n\n    if (type === \"path\") {\n      node.setAttributeNS(null, \"stroke-linecap\", \"round\");\n      node.setAttributeNS(null, \"stroke-linejoin\", \"round\");\n      node.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n    }\n\n    return node;\n  },\n  // Already documented in JXG.AbstractRenderer\n  remove: function (shape) {\n    if (_type.default.exists(shape) && _type.default.exists(shape.parentNode)) {\n      shape.parentNode.removeChild(shape);\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  setLayer: function (el, level) {\n    if (!_type.default.exists(level)) {\n      level = 0;\n    } else if (level >= _options.default.layer.numlayers) {\n      level = _options.default.layer.numlayers - 1;\n    }\n\n    this.layer[level].appendChild(el.rendNode);\n  },\n  // Already documented in JXG.AbstractRenderer\n  makeArrows: function (el, a) {\n    var node2,\n        ev_fa = a.evFirst,\n        ev_la = a.evLast; // Test if the arrow heads already exist\n\n    if (el.visPropOld.firstarrow === ev_fa && el.visPropOld.lastarrow === ev_la) {\n      if (this.isIE && el.visPropCalc.visible && (ev_fa || ev_la)) {\n        el.rendNode.parentNode.insertBefore(el.rendNode, el.rendNode);\n      }\n\n      return;\n    }\n\n    if (ev_fa) {\n      node2 = el.rendNodeTriangleStart;\n\n      if (!_type.default.exists(node2)) {\n        node2 = this._createArrowHead(el, \"End\", a.typeFirst);\n        this.defs.appendChild(node2);\n        el.rendNodeTriangleStart = node2;\n        el.rendNode.setAttributeNS(null, \"marker-start\", \"url(#\" + this.container.id + \"_\" + el.id + \"TriangleEnd)\");\n      } else {\n        this.defs.appendChild(node2);\n      }\n    } else {\n      node2 = el.rendNodeTriangleStart;\n\n      if (_type.default.exists(node2)) {\n        this.remove(node2);\n      }\n    }\n\n    if (ev_la) {\n      node2 = el.rendNodeTriangleEnd;\n\n      if (!_type.default.exists(node2)) {\n        node2 = this._createArrowHead(el, \"Start\", a.typeLast);\n        this.defs.appendChild(node2);\n        el.rendNodeTriangleEnd = node2;\n        el.rendNode.setAttributeNS(null, \"marker-end\", \"url(#\" + this.container.id + \"_\" + el.id + \"TriangleStart)\");\n      } else {\n        this.defs.appendChild(node2);\n      }\n    } else {\n      node2 = el.rendNodeTriangleEnd;\n\n      if (_type.default.exists(node2)) {\n        this.remove(node2);\n      }\n    }\n\n    el.visPropOld.firstarrow = ev_fa;\n    el.visPropOld.lastarrow = ev_la;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateEllipsePrim: function (node, x, y, rx, ry) {\n    var huge = 1000000;\n    huge = 200000; // IE\n    // webkit does not like huge values if the object is dashed\n    // iE doesn't like huge values above 216000\n\n    x = Math.abs(x) < huge ? x : huge * x / Math.abs(x);\n    y = Math.abs(y) < huge ? y : huge * y / Math.abs(y);\n    rx = Math.abs(rx) < huge ? rx : huge * rx / Math.abs(rx);\n    ry = Math.abs(ry) < huge ? ry : huge * ry / Math.abs(ry);\n    node.setAttributeNS(null, \"cx\", x);\n    node.setAttributeNS(null, \"cy\", y);\n    node.setAttributeNS(null, \"rx\", Math.abs(rx));\n    node.setAttributeNS(null, \"ry\", Math.abs(ry));\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateLinePrim: function (node, p1x, p1y, p2x, p2y) {\n    var huge = 1000000;\n    huge = 200000; //IE\n\n    if (!isNaN(p1x + p1y + p2x + p2y)) {\n      // webkit does not like huge values if the object is dashed\n      // IE doesn't like huge values above 216000\n      p1x = Math.abs(p1x) < huge ? p1x : huge * p1x / Math.abs(p1x);\n      p1y = Math.abs(p1y) < huge ? p1y : huge * p1y / Math.abs(p1y);\n      p2x = Math.abs(p2x) < huge ? p2x : huge * p2x / Math.abs(p2x);\n      p2y = Math.abs(p2y) < huge ? p2y : huge * p2y / Math.abs(p2y);\n      node.setAttributeNS(null, \"x1\", p1x);\n      node.setAttributeNS(null, \"y1\", p1y);\n      node.setAttributeNS(null, \"x2\", p2x);\n      node.setAttributeNS(null, \"y2\", p2y);\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  updatePathPrim: function (node, pointString) {\n    if (pointString === \"\") {\n      pointString = \"M 0 0\";\n    }\n\n    node.setAttributeNS(null, \"d\", pointString);\n  },\n  // Already documented in JXG.AbstractRenderer\n  updatePathStringPoint: function (el, size, type) {\n    var s = \"\",\n        scr = el.coords.scrCoords,\n        sqrt32 = size * Math.sqrt(3) * 0.5,\n        s05 = size * 0.5;\n\n    if (type === \"x\") {\n      s = \" M \" + (scr[1] - size) + \" \" + (scr[2] - size) + \" L \" + (scr[1] + size) + \" \" + (scr[2] + size) + \" M \" + (scr[1] + size) + \" \" + (scr[2] - size) + \" L \" + (scr[1] - size) + \" \" + (scr[2] + size);\n    } else if (type === \"+\") {\n      s = \" M \" + (scr[1] - size) + \" \" + scr[2] + \" L \" + (scr[1] + size) + \" \" + scr[2] + \" M \" + scr[1] + \" \" + (scr[2] - size) + \" L \" + scr[1] + \" \" + (scr[2] + size);\n    } else if (type === \"<>\") {\n      s = \" M \" + (scr[1] - size) + \" \" + scr[2] + \" L \" + scr[1] + \" \" + (scr[2] + size) + \" L \" + (scr[1] + size) + \" \" + scr[2] + \" L \" + scr[1] + \" \" + (scr[2] - size) + \" Z \";\n    } else if (type === \"^\") {\n      s = \" M \" + scr[1] + \" \" + (scr[2] - size) + \" L \" + (scr[1] - sqrt32) + \" \" + (scr[2] + s05) + \" L \" + (scr[1] + sqrt32) + \" \" + (scr[2] + s05) + \" Z \"; // close path\n    } else if (type === \"v\") {\n      s = \" M \" + scr[1] + \" \" + (scr[2] + size) + \" L \" + (scr[1] - sqrt32) + \" \" + (scr[2] - s05) + \" L \" + (scr[1] + sqrt32) + \" \" + (scr[2] - s05) + \" Z \";\n    } else if (type === \">\") {\n      s = \" M \" + (scr[1] + size) + \" \" + scr[2] + \" L \" + (scr[1] - s05) + \" \" + (scr[2] - sqrt32) + \" L \" + (scr[1] - s05) + \" \" + (scr[2] + sqrt32) + \" Z \";\n    } else if (type === \"<\") {\n      s = \" M \" + (scr[1] - size) + \" \" + scr[2] + \" L \" + (scr[1] + s05) + \" \" + (scr[2] - sqrt32) + \" L \" + (scr[1] + s05) + \" \" + (scr[2] + sqrt32) + \" Z \";\n    }\n\n    return s;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updatePathStringPrim: function (el) {\n    var i,\n        scr,\n        len,\n        symbm = \" M \",\n        symbl = \" L \",\n        symbc = \" C \",\n        nextSymb = symbm,\n        maxSize = 5000.0,\n        pStr = \"\";\n\n    if (el.numberPoints <= 0) {\n      return \"\";\n    }\n\n    len = Math.min(el.points.length, el.numberPoints);\n\n    if (el.bezierDegree === 1) {\n      for (i = 0; i < len; i++) {\n        scr = el.points[i].scrCoords;\n\n        if (isNaN(scr[1]) || isNaN(scr[2])) {\n          // PenUp\n          nextSymb = symbm;\n        } else {\n          // Chrome has problems with values being too far away.\n          scr[1] = Math.max(Math.min(scr[1], maxSize), -maxSize);\n          scr[2] = Math.max(Math.min(scr[2], maxSize), -maxSize); // Attention: first coordinate may be inaccurate if far way\n          //pStr += [nextSymb, scr[1], ' ', scr[2]].join('');\n\n          pStr += nextSymb + scr[1] + \" \" + scr[2]; // Seems to be faster now (webkit and firefox)\n\n          nextSymb = symbl;\n        }\n      }\n    } else if (el.bezierDegree === 3) {\n      i = 0;\n\n      while (i < len) {\n        scr = el.points[i].scrCoords;\n\n        if (isNaN(scr[1]) || isNaN(scr[2])) {\n          // PenUp\n          nextSymb = symbm;\n        } else {\n          pStr += nextSymb + scr[1] + \" \" + scr[2];\n\n          if (nextSymb === symbc) {\n            i += 1;\n            scr = el.points[i].scrCoords;\n            pStr += \" \" + scr[1] + \" \" + scr[2];\n            i += 1;\n            scr = el.points[i].scrCoords;\n            pStr += \" \" + scr[1] + \" \" + scr[2];\n          }\n\n          nextSymb = symbc;\n        }\n\n        i += 1;\n      }\n    }\n\n    return pStr;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updatePathStringBezierPrim: function (el) {\n    var i,\n        j,\n        k,\n        scr,\n        lx,\n        ly,\n        len,\n        symbm = \" M \",\n        symbl = \" C \",\n        nextSymb = symbm,\n        maxSize = 5000.0,\n        pStr = \"\",\n        f = _type.default.evaluate(el.visProp.strokewidth),\n        isNoPlot = _type.default.evaluate(el.visProp.curvetype) !== \"plot\";\n\n    if (el.numberPoints <= 0) {\n      return \"\";\n    }\n\n    if (isNoPlot && el.board.options.curve.RDPsmoothing) {\n      el.points = _numerics.default.RamerDouglasPeucker(el.points, 0.5);\n    }\n\n    len = Math.min(el.points.length, el.numberPoints);\n\n    for (j = 1; j < 3; j++) {\n      nextSymb = symbm;\n\n      for (i = 0; i < len; i++) {\n        scr = el.points[i].scrCoords;\n\n        if (isNaN(scr[1]) || isNaN(scr[2])) {\n          // PenUp\n          nextSymb = symbm;\n        } else {\n          // Chrome has problems with values being too far away.\n          scr[1] = Math.max(Math.min(scr[1], maxSize), -maxSize);\n          scr[2] = Math.max(Math.min(scr[2], maxSize), -maxSize); // Attention: first coordinate may be inaccurate if far way\n\n          if (nextSymb === symbm) {\n            //pStr += [nextSymb, scr[1], ' ', scr[2]].join('');\n            pStr += nextSymb + scr[1] + \" \" + scr[2]; // Seems to be faster now (webkit and firefox)\n          } else {\n            k = 2 * j;\n            pStr += [nextSymb, lx + (scr[1] - lx) * 0.333 + f * (k * Math.random() - j), \" \", ly + (scr[2] - ly) * 0.333 + f * (k * Math.random() - j), \" \", lx + (scr[1] - lx) * 0.666 + f * (k * Math.random() - j), \" \", ly + (scr[2] - ly) * 0.666 + f * (k * Math.random() - j), \" \", scr[1], \" \", scr[2]].join(\"\");\n          }\n\n          nextSymb = symbl;\n          lx = scr[1];\n          ly = scr[2];\n        }\n      }\n    }\n\n    return pStr;\n  },\n  // Already documented in JXG.AbstractRenderer\n  updatePolygonPrim: function (node, el) {\n    var i,\n        pStr = \"\",\n        scrCoords,\n        len = el.vertices.length;\n    node.setAttributeNS(null, \"stroke\", \"none\");\n    node.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n\n    if (el.elType === \"polygonalchain\") {\n      len++;\n    }\n\n    for (i = 0; i < len - 1; i++) {\n      if (el.vertices[i].isReal) {\n        scrCoords = el.vertices[i].coords.scrCoords;\n        pStr = pStr + scrCoords[1] + \",\" + scrCoords[2];\n      } else {\n        node.setAttributeNS(null, \"points\", \"\");\n        return;\n      }\n\n      if (i < len - 2) {\n        pStr += \" \";\n      }\n    }\n\n    if (pStr.indexOf(\"NaN\") === -1) {\n      node.setAttributeNS(null, \"points\", pStr);\n    }\n  },\n  // Already documented in JXG.AbstractRenderer\n  updateRectPrim: function (node, x, y, w, h) {\n    node.setAttributeNS(null, \"x\", x);\n    node.setAttributeNS(null, \"y\", y);\n    node.setAttributeNS(null, \"width\", w);\n    node.setAttributeNS(null, \"height\", h);\n  },\n\n  /* **************************\n   *  Set Attributes\n   * **************************/\n  // documented in JXG.AbstractRenderer\n  setPropertyPrim: function (node, key, val) {\n    if (key === \"stroked\") {\n      return;\n    }\n\n    node.setAttributeNS(null, key, val);\n  },\n  display: function (el, val) {\n    var node;\n\n    if (el && el.rendNode) {\n      el.visPropOld.visible = val;\n      node = el.rendNode;\n\n      if (val) {\n        node.setAttributeNS(null, \"display\", \"inline\");\n        node.style.visibility = \"inherit\";\n      } else {\n        node.setAttributeNS(null, \"display\", \"none\");\n        node.style.visibility = \"hidden\";\n      }\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  show: function (el) {\n    _jxg.default.deprecated(\"Board.renderer.show()\", \"Board.renderer.display()\");\n\n    this.display(el, true); // var node;\n    //\n    // if (el && el.rendNode) {\n    //     node = el.rendNode;\n    //     node.setAttributeNS(null, 'display', 'inline');\n    //     node.style.visibility = \"inherit\";\n    // }\n  },\n  // documented in JXG.AbstractRenderer\n  hide: function (el) {\n    _jxg.default.deprecated(\"Board.renderer.hide()\", \"Board.renderer.display()\");\n\n    this.display(el, false); // var node;\n    //\n    // if (el && el.rendNode) {\n    //     node = el.rendNode;\n    //     node.setAttributeNS(null, 'display', 'none');\n    //     node.style.visibility = \"hidden\";\n    // }\n  },\n  // documented in JXG.AbstractRenderer\n  setBuffering: function (el, type) {\n    el.rendNode.setAttribute(\"buffered-rendering\", type);\n  },\n  // documented in JXG.AbstractRenderer\n  setDashStyle: function (el) {\n    var dashStyle = _type.default.evaluate(el.visProp.dash),\n        node = el.rendNode;\n\n    if (dashStyle > 0) {\n      node.setAttributeNS(null, \"stroke-dasharray\", this.dashArray[dashStyle - 1]);\n    } else {\n      if (node.hasAttributeNS(null, \"stroke-dasharray\")) {\n        node.removeAttributeNS(null, \"stroke-dasharray\");\n      }\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  setGradient: function (el) {\n    var fillNode = el.rendNode,\n        node,\n        node2,\n        node3,\n        ev_g = _type.default.evaluate(el.visProp.gradient);\n\n    if (ev_g === \"linear\" || ev_g === \"radial\") {\n      node = this.createPrim(ev_g + \"Gradient\", el.id + \"_gradient\");\n      node2 = this.createPrim(\"stop\", el.id + \"_gradient1\");\n      node3 = this.createPrim(\"stop\", el.id + \"_gradient2\");\n      node.appendChild(node2);\n      node.appendChild(node3);\n      this.defs.appendChild(node);\n      fillNode.setAttributeNS(null, \"style\", \"fill:url(#\" + this.container.id + \"_\" + el.id + \"_gradient)\");\n      el.gradNode1 = node2;\n      el.gradNode2 = node3;\n      el.gradNode = node;\n    } else {\n      fillNode.removeAttributeNS(null, \"style\");\n    }\n  },\n\n  /**\n   * Set the gradient angle for linear color gradients.\n   *\n   * @private\n   * @param {SVGnode} node SVG gradient node of an arbitrary JSXGraph element.\n   * @param {Number} radians angle value in radians. 0 is horizontal from left to right, Pi/4 is vertical from top to bottom.\n   */\n  updateGradientAngle: function (node, radians) {\n    // Angles:\n    // 0: ->\n    // 90: down\n    // 180: <-\n    // 90: up\n    var f = 1.0,\n        co = Math.cos(radians),\n        si = Math.sin(radians);\n\n    if (Math.abs(co) > Math.abs(si)) {\n      f /= Math.abs(co);\n    } else {\n      f /= Math.abs(si);\n    }\n\n    if (co >= 0) {\n      node.setAttributeNS(null, \"x1\", 0);\n      node.setAttributeNS(null, \"x2\", co * f);\n    } else {\n      node.setAttributeNS(null, \"x1\", -co * f);\n      node.setAttributeNS(null, \"x2\", 0);\n    }\n\n    if (si >= 0) {\n      node.setAttributeNS(null, \"y1\", 0);\n      node.setAttributeNS(null, \"y2\", si * f);\n    } else {\n      node.setAttributeNS(null, \"y1\", -si * f);\n      node.setAttributeNS(null, \"y2\", 0);\n    }\n  },\n\n  /**\n   * Set circles for radial color gradients.\n   *\n   * @private\n   * @param {SVGnode} node SVG gradient node\n   * @param {Number} cx SVG value cx (value between 0 and 1)\n   * @param {Number} cy  SVG value cy (value between 0 and 1)\n   * @param {Number} r  SVG value r (value between 0 and 1)\n   * @param {Number} fx  SVG value fx (value between 0 and 1)\n   * @param {Number} fy  SVG value fy (value between 0 and 1)\n   * @param {Number} fr  SVG value fr (value between 0 and 1)\n   */\n  updateGradientCircle: function (node, cx, cy, r, fx, fy, fr) {\n    node.setAttributeNS(null, \"cx\", cx * 100 + \"%\"); // Center first color\n\n    node.setAttributeNS(null, \"cy\", cy * 100 + \"%\");\n    node.setAttributeNS(null, \"r\", r * 100 + \"%\");\n    node.setAttributeNS(null, \"fx\", fx * 100 + \"%\"); // Center second color / focal point\n\n    node.setAttributeNS(null, \"fy\", fy * 100 + \"%\");\n    node.setAttributeNS(null, \"fr\", fr * 100 + \"%\");\n  },\n  // documented in JXG.AbstractRenderer\n  updateGradient: function (el) {\n    var col,\n        op,\n        node2 = el.gradNode1,\n        node3 = el.gradNode2,\n        ev_g = _type.default.evaluate(el.visProp.gradient);\n\n    if (!_type.default.exists(node2) || !_type.default.exists(node3)) {\n      return;\n    }\n\n    op = _type.default.evaluate(el.visProp.fillopacity);\n    op = op > 0 ? op : 0;\n    col = _type.default.evaluate(el.visProp.fillcolor);\n    node2.setAttributeNS(null, \"style\", \"stop-color:\" + col + \";stop-opacity:\" + op);\n    node3.setAttributeNS(null, \"style\", \"stop-color:\" + _type.default.evaluate(el.visProp.gradientsecondcolor) + \";stop-opacity:\" + _type.default.evaluate(el.visProp.gradientsecondopacity));\n    node2.setAttributeNS(null, \"offset\", _type.default.evaluate(el.visProp.gradientstartoffset) * 100 + \"%\");\n    node3.setAttributeNS(null, \"offset\", _type.default.evaluate(el.visProp.gradientendoffset) * 100 + \"%\");\n\n    if (ev_g === \"linear\") {\n      this.updateGradientAngle(el.gradNode, _type.default.evaluate(el.visProp.gradientangle));\n    } else if (ev_g === \"radial\") {\n      this.updateGradientCircle(el.gradNode, _type.default.evaluate(el.visProp.gradientcx), _type.default.evaluate(el.visProp.gradientcy), _type.default.evaluate(el.visProp.gradientr), _type.default.evaluate(el.visProp.gradientfx), _type.default.evaluate(el.visProp.gradientfy), _type.default.evaluate(el.visProp.gradientfr));\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  setObjectTransition: function (el, duration) {\n    var node,\n        transitionStr,\n        i,\n        len,\n        nodes = [\"rendNode\", \"rendNodeTriangleStart\", \"rendNodeTriangleEnd\"];\n\n    if (duration === undefined) {\n      duration = _type.default.evaluate(el.visProp.transitionduration);\n    }\n\n    if (duration === el.visPropOld.transitionduration) {\n      return;\n    }\n\n    if (el.elementClass === _constants.default.OBJECT_CLASS_TEXT && _type.default.evaluate(el.visProp.display) === \"html\") {\n      transitionStr = \" color \" + duration + \"ms,\" + \" opacity \" + duration + \"ms\";\n    } else {\n      transitionStr = \" fill \" + duration + \"ms,\" + \" fill-opacity \" + duration + \"ms,\" + \" stroke \" + duration + \"ms,\" + \" stroke-opacity \" + duration + \"ms\";\n    }\n\n    len = nodes.length;\n\n    for (i = 0; i < len; ++i) {\n      if (el[nodes[i]]) {\n        node = el[nodes[i]];\n        node.style.transition = transitionStr;\n      }\n    }\n\n    el.visPropOld.transitionduration = duration;\n  },\n\n  /**\n   * Call user-defined function to set visual attributes.\n   * If \"testAttribute\" is the empty string, the function\n   * is called immediately, otherwise it is called in a timeOut.\n   *\n   * This is necessary to realize smooth transitions but avoid transitions\n   * when first creating the objects.\n   *\n   * Usually, the string in testAttribute is the visPropOld attribute\n   * of the values which are set.\n   *\n   * @param {Function} setFunc       Some function which usually sets some attributes\n   * @param {String} testAttribute If this string is the empty string  the function is called immediately,\n   *                               otherwise it is called in a setImeout.\n   * @see JXG.SVGRenderer#setObjectFillColor\n   * @see JXG.SVGRenderer#setObjectStrokeColor\n   * @see JXG.SVGRenderer#_setArrowColor\n   * @private\n   */\n  _setAttribute: function (setFunc, testAttribute) {\n    if (testAttribute === \"\") {\n      setFunc();\n    } else {\n      window.setTimeout(setFunc, 1);\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  setObjectFillColor: function (el, color, opacity, rendNode) {\n    var node,\n        c,\n        rgbo,\n        oo,\n        rgba = _type.default.evaluate(color),\n        o = _type.default.evaluate(opacity),\n        grad = _type.default.evaluate(el.visProp.gradient);\n\n    o = o > 0 ? o : 0; // TODO  save gradient and gradientangle\n\n    if (el.visPropOld.fillcolor === rgba && el.visPropOld.fillopacity === o && grad === null) {\n      return;\n    }\n\n    if (_type.default.exists(rgba) && rgba !== false) {\n      if (rgba.length !== 9) {\n        // RGB, not RGBA\n        c = rgba;\n        oo = o;\n      } else {\n        // True RGBA, not RGB\n        rgbo = _color.default.rgba2rgbo(rgba);\n        c = rgbo[0];\n        oo = o * rgbo[1];\n      }\n\n      if (rendNode === undefined) {\n        node = el.rendNode;\n      } else {\n        node = rendNode;\n      }\n\n      if (c !== \"none\") {\n        this._setAttribute(function () {\n          node.setAttributeNS(null, \"fill\", c);\n        }, el.visPropOld.fillcolor);\n      }\n\n      if (el.type === _jxg.default.OBJECT_TYPE_IMAGE) {\n        this._setAttribute(function () {\n          node.setAttributeNS(null, \"opacity\", oo);\n        }, el.visPropOld.fillopacity); //node.style['opacity'] = oo;  // This would overwrite values set by CSS class.\n\n      } else {\n        if (c === \"none\") {\n          // This is done only for non-images\n          // because images have no fill color.\n          oo = 0; // This is necessary if there is a foreignObject below.\n\n          node.setAttributeNS(null, \"pointer-events\", \"visibleStroke\");\n        } else {\n          // This is the default\n          node.setAttributeNS(null, \"pointer-events\", \"visiblePainted\");\n        }\n\n        this._setAttribute(function () {\n          node.setAttributeNS(null, \"fill-opacity\", oo);\n        }, el.visPropOld.fillopacity);\n      }\n\n      if (grad === \"linear\" || grad === \"radial\") {\n        this.updateGradient(el);\n      }\n    }\n\n    el.visPropOld.fillcolor = rgba;\n    el.visPropOld.fillopacity = o;\n  },\n  // documented in JXG.AbstractRenderer\n  setObjectStrokeColor: function (el, color, opacity) {\n    var rgba = _type.default.evaluate(color),\n        c,\n        rgbo,\n        o = _type.default.evaluate(opacity),\n        oo,\n        node;\n\n    o = o > 0 ? o : 0;\n\n    if (el.visPropOld.strokecolor === rgba && el.visPropOld.strokeopacity === o) {\n      return;\n    }\n\n    if (_type.default.exists(rgba) && rgba !== false) {\n      if (rgba.length !== 9) {\n        // RGB, not RGBA\n        c = rgba;\n        oo = o;\n      } else {\n        // True RGBA, not RGB\n        rgbo = _color.default.rgba2rgbo(rgba);\n        c = rgbo[0];\n        oo = o * rgbo[1];\n      }\n\n      node = el.rendNode;\n\n      if (el.elementClass === _constants.default.OBJECT_CLASS_TEXT) {\n        if (_type.default.evaluate(el.visProp.display) === \"html\") {\n          this._setAttribute(function () {\n            node.style.color = c;\n            node.style.opacity = oo;\n          }, el.visPropOld.strokecolor);\n        } else {\n          this._setAttribute(function () {\n            node.setAttributeNS(null, \"style\", \"fill:\" + c);\n            node.setAttributeNS(null, \"style\", \"fill-opacity:\" + oo);\n          }, el.visPropOld.strokecolor);\n        }\n      } else {\n        this._setAttribute(function () {\n          node.setAttributeNS(null, \"stroke\", c);\n          node.setAttributeNS(null, \"stroke-opacity\", oo);\n        }, el.visPropOld.strokecolor);\n      }\n\n      if (el.elementClass === _constants.default.OBJECT_CLASS_CURVE || el.elementClass === _constants.default.OBJECT_CLASS_LINE) {\n        if (_type.default.evaluate(el.visProp.firstarrow)) {\n          this._setArrowColor(el.rendNodeTriangleStart, c, oo, el, el.visPropCalc.typeFirst);\n        }\n\n        if (_type.default.evaluate(el.visProp.lastarrow)) {\n          this._setArrowColor(el.rendNodeTriangleEnd, c, oo, el, el.visPropCalc.typeLast);\n        }\n      }\n    }\n\n    el.visPropOld.strokecolor = rgba;\n    el.visPropOld.strokeopacity = o;\n  },\n  // documented in JXG.AbstractRenderer\n  setObjectStrokeWidth: function (el, width) {\n    var node,\n        w = _type.default.evaluate(width);\n\n    if (isNaN(w) || el.visPropOld.strokewidth === w) {\n      return;\n    }\n\n    node = el.rendNode;\n    this.setPropertyPrim(node, \"stroked\", \"true\");\n\n    if (_type.default.exists(w)) {\n      this.setPropertyPrim(node, \"stroke-width\", w + \"px\"); // if (el.elementClass === Const.OBJECT_CLASS_CURVE ||\n      // el.elementClass === Const.OBJECT_CLASS_LINE) {\n      //     if (Type.evaluate(el.visProp.firstarrow)) {\n      //         this._setArrowWidth(el.rendNodeTriangleStart, w, el.rendNode);\n      //     }\n      //\n      //     if (Type.evaluate(el.visProp.lastarrow)) {\n      //         this._setArrowWidth(el.rendNodeTriangleEnd, w, el.rendNode);\n      //     }\n      // }\n    }\n\n    el.visPropOld.strokewidth = w;\n  },\n  // documented in JXG.AbstractRenderer\n  setLineCap: function (el) {\n    var capStyle = _type.default.evaluate(el.visProp.linecap);\n\n    if (capStyle === undefined || capStyle === \"\" || el.visPropOld.linecap === capStyle || !_type.default.exists(el.rendNode)) {\n      return;\n    }\n\n    this.setPropertyPrim(el.rendNode, \"stroke-linecap\", capStyle);\n    el.visPropOld.linecap = capStyle;\n  },\n  // documented in JXG.AbstractRenderer\n  setShadow: function (el) {\n    var ev_s = _type.default.evaluate(el.visProp.shadow); // ev_c = Type.evaluate(el.visProp.shadowcolor),\n    // c;\n\n\n    if (el.visPropOld.shadow === ev_s) {\n      return;\n    } // c = JXG.rgbParser(ev_c);\n\n\n    if (_type.default.exists(el.rendNode)) {\n      if (ev_s) {\n        el.rendNode.setAttributeNS(null, \"filter\", \"url(#\" + this.container.id + \"_\" + \"f1)\");\n      } else {\n        el.rendNode.removeAttributeNS(null, \"filter\");\n      }\n    }\n\n    el.visPropOld.shadow = ev_s;\n  },\n\n  /* **************************\n   * renderer control\n   * **************************/\n  // documented in JXG.AbstractRenderer\n  suspendRedraw: function () {// It seems to be important for the Linux version of firefox\n    //this.suspendHandle = this.svgRoot.suspendRedraw(10000);\n  },\n  // documented in JXG.AbstractRenderer\n  unsuspendRedraw: function () {//this.svgRoot.unsuspendRedraw(this.suspendHandle);\n    //this.svgRoot.unsuspendRedrawAll();\n    //this.svgRoot.forceRedraw();\n  },\n  // documented in AbstractRenderer\n  resize: function (w, h) {\n    // this.svgRoot.style.width  = parseFloat(w) + 'px';\n    // this.svgRoot.style.height = parseFloat(h) + 'px';\n    this.svgRoot.setAttribute(\"width\", parseFloat(w));\n    this.svgRoot.setAttribute(\"height\", parseFloat(h)); // this.svgRoot.setAttribute('width',  '100%');\n    // this.svgRoot.setAttribute('height', '100%');\n  },\n  // documented in JXG.AbstractRenderer\n  createTouchpoints: function (n) {\n    var i, na1, na2, node;\n    this.touchpoints = [];\n\n    for (i = 0; i < n; i++) {\n      na1 = \"touchpoint1_\" + i;\n      node = this.createPrim(\"path\", na1);\n      this.appendChildPrim(node, 19);\n      node.setAttributeNS(null, \"d\", \"M 0 0\");\n      this.touchpoints.push(node);\n      this.setPropertyPrim(node, \"stroked\", \"true\");\n      this.setPropertyPrim(node, \"stroke-width\", \"1px\");\n      node.setAttributeNS(null, \"stroke\", \"#000000\");\n      node.setAttributeNS(null, \"stroke-opacity\", 1.0);\n      node.setAttributeNS(null, \"display\", \"none\");\n      na2 = \"touchpoint2_\" + i;\n      node = this.createPrim(\"ellipse\", na2);\n      this.appendChildPrim(node, 19);\n      this.updateEllipsePrim(node, 0, 0, 0, 0);\n      this.touchpoints.push(node);\n      this.setPropertyPrim(node, \"stroked\", \"true\");\n      this.setPropertyPrim(node, \"stroke-width\", \"1px\");\n      node.setAttributeNS(null, \"stroke\", \"#000000\");\n      node.setAttributeNS(null, \"stroke-opacity\", 1.0);\n      node.setAttributeNS(null, \"fill\", \"#ffffff\");\n      node.setAttributeNS(null, \"fill-opacity\", 0.0);\n      node.setAttributeNS(null, \"display\", \"none\");\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  showTouchpoint: function (i) {\n    if (this.touchpoints && i >= 0 && 2 * i < this.touchpoints.length) {\n      this.touchpoints[2 * i].setAttributeNS(null, \"display\", \"inline\");\n      this.touchpoints[2 * i + 1].setAttributeNS(null, \"display\", \"inline\");\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  hideTouchpoint: function (i) {\n    if (this.touchpoints && i >= 0 && 2 * i < this.touchpoints.length) {\n      this.touchpoints[2 * i].setAttributeNS(null, \"display\", \"none\");\n      this.touchpoints[2 * i + 1].setAttributeNS(null, \"display\", \"none\");\n    }\n  },\n  // documented in JXG.AbstractRenderer\n  updateTouchpoint: function (i, pos) {\n    var x,\n        y,\n        d = 37;\n\n    if (this.touchpoints && i >= 0 && 2 * i < this.touchpoints.length) {\n      x = pos[0];\n      y = pos[1];\n      this.touchpoints[2 * i].setAttributeNS(null, \"d\", \"M \" + (x - d) + \" \" + y + \" \" + \"L \" + (x + d) + \" \" + y + \" \" + \"M \" + x + \" \" + (y - d) + \" \" + \"L \" + x + \" \" + (y + d));\n      this.updateEllipsePrim(this.touchpoints[2 * i + 1], pos[0], pos[1], 25, 25);\n    }\n  },\n\n  /**\n   * Walk recursively through the DOM subtree of a node and collect all\n   * value attributes together with the id of that node.\n   * <b>Attention:</b> Only values of nodes having a valid id are taken.\n   * @param  {Node} node   root node of DOM subtree that will be searched recursively.\n   * @return {Array}      Array with entries of the form [id, value]\n   * @private\n   */\n  _getValuesOfDOMElements: function (node) {\n    var values = [];\n\n    if (node.nodeType === 1) {\n      node = node.firstChild;\n\n      while (node) {\n        if (node.id !== undefined && node.value !== undefined) {\n          values.push([node.id, node.value]);\n        }\n\n        values = values.concat(this._getValuesOfDOMElements(node));\n        node = node.nextSibling;\n      }\n    }\n\n    return values;\n  },\n  _getDataUri: function (url, callback) {\n    var image = new Image();\n\n    image.onload = function () {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = this.naturalWidth; // or 'width' if you want a special/scaled size\n\n      canvas.height = this.naturalHeight; // or 'height' if you want a special/scaled size\n\n      canvas.getContext(\"2d\").drawImage(this, 0, 0);\n      callback(canvas.toDataURL(\"image/png\"));\n      canvas.remove();\n    };\n\n    image.src = url;\n  },\n  _getImgDataURL: function (svgRoot) {\n    var images, len, canvas, ctx, ur, i;\n    images = svgRoot.getElementsByTagName(\"image\");\n    len = images.length;\n\n    if (len > 0) {\n      canvas = document.createElement(\"canvas\"); //img = new Image();\n\n      for (i = 0; i < len; i++) {\n        images[i].setAttribute(\"crossorigin\", \"anonymous\"); //img.src = images[i].href;\n        //img.onload = function() {\n        // img.crossOrigin = \"anonymous\";\n\n        ctx = canvas.getContext(\"2d\");\n        canvas.width = images[i].getAttribute(\"width\");\n        canvas.height = images[i].getAttribute(\"height\");\n\n        try {\n          ctx.drawImage(images[i], 0, 0, canvas.width, canvas.height); // If the image is not png, the format must be specified here\n\n          ur = canvas.toDataURL();\n          images[i].setAttribute(\"xlink:href\", ur);\n        } catch (err) {\n          console.log(\"CORS problem! Image can not be used\", err);\n        }\n      } //canvas.remove();\n\n    }\n\n    return true;\n  },\n\n  /**\n   * Return a data URI of the SVG code representeing the construction.\n   * The SVG code of the construction is base64 encoded. The return string starts\n   * with \"data:image/svg+xml;base64,...\".\n   *\n   * @param {Boolean} ignoreTexts If true, the foreignObject tag is set to display=none.\n   * This is necessary for older versions of Safari. Default: false\n   * @returns {String}  data URI string\n   */\n  dumpToDataURI: function (ignoreTexts) {\n    var svgRoot = this.svgRoot,\n        btoa = window.btoa || _base.default.encode,\n        svg,\n        virtualNode,\n        doc,\n        i,\n        len,\n        values = []; // Move all HTML tags (beside the SVG root) of the container\n    // to the foreignObject element inside of the svgRoot node\n    // Problem:\n    // input values are not copied. This can be verified by looking at an innerHTML output\n    // of an input element. Therefore, we do it \"by hand\".\n\n    if (this.container.hasChildNodes() && _type.default.exists(this.foreignObjLayer)) {\n      if (!ignoreTexts) {\n        this.foreignObjLayer.setAttribute(\"display\", \"inline\");\n      }\n\n      while (svgRoot.nextSibling) {\n        // Copy all value attributes\n        values = values.concat(this._getValuesOfDOMElements(svgRoot.nextSibling));\n        this.foreignObjLayer.appendChild(svgRoot.nextSibling);\n      }\n    }\n\n    this._getImgDataURL(svgRoot); // Convert the SVG graphic into a string containing SVG code\n\n\n    svgRoot.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n    svg = new XMLSerializer().serializeToString(svgRoot);\n\n    if (ignoreTexts !== true) {\n      // Handle SVG texts\n      // Insert all value attributes back into the svg string\n      len = values.length;\n\n      for (i = 0; i < len; i++) {\n        svg = svg.replace('id=\"' + values[i][0] + '\"', 'id=\"' + values[i][0] + '\" value=\"' + values[i][1] + '\"');\n      }\n    } // if (false) {\n    //     // Debug: use example svg image\n    //     svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"220\" height=\"220\"><rect width=\"66\" height=\"30\" x=\"21\" y=\"32\" stroke=\"#204a87\" stroke-width=\"2\" fill=\"none\" /></svg>';\n    // }\n    // In IE we have to remove the namespace again.\n\n\n    if ((svg.match(/xmlns=\"http:\\/\\/www.w3.org\\/2000\\/svg\"/g) || []).length > 1) {\n      svg = svg.replace(/xmlns=\"http:\\/\\/www.w3.org\\/2000\\/svg\"/g, \"\");\n    } // Safari fails if the svg string contains a \"&nbsp;\"\n    // Obsolete with Safari 12+\n\n\n    svg = svg.replace(/&nbsp;/g, \" \"); // Move all HTML tags back from\n    // the foreignObject element to the container\n\n    if (_type.default.exists(this.foreignObjLayer) && this.foreignObjLayer.hasChildNodes()) {\n      // Restore all HTML elements\n      while (this.foreignObjLayer.firstChild) {\n        this.container.appendChild(this.foreignObjLayer.firstChild);\n      }\n\n      this.foreignObjLayer.setAttribute(\"display\", \"none\");\n    }\n\n    return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svg)));\n  },\n\n  /**\n   * Convert the SVG construction into an HTML canvas image.\n   * This works for all SVG supporting browsers. Implemented as Promise.\n   * <p>\n   * For IE, it is realized as function.\n   * It works from version 9, with the exception that HTML texts\n   * are ignored on IE. The drawing is done with a delay of\n   * 200 ms. Otherwise there would be problems with IE.\n   *\n   * @param {String} canvasId Id of an HTML canvas element\n   * @param {Number} w Width in pixel of the dumped image, i.e. of the canvas tag.\n   * @param {Number} h Height in pixel of the dumped image, i.e. of the canvas tag.\n   * @param {Boolean} ignoreTexts If true, the foreignObject tag is taken out from the SVG root.\n   * This is necessary for older versions of Safari. Default: false\n   * @returns {Promise}  Promise object\n   *\n   * @example\n   * \tboard.renderer.dumpToCanvas('canvas').then(function() { console.log('done'); });\n   *\n   * @example\n   *  // IE 11 example:\n   * \tboard.renderer.dumpToCanvas('canvas');\n   * \tsetTimeout(function() { console.log('done'); }, 400);\n   */\n  dumpToCanvas: function (canvasId, w, h, ignoreTexts) {\n    var svg,\n        tmpImg,\n        cv,\n        ctx,\n        doc = this.container.ownerDocument; // Prepare the canvas element\n\n    cv = doc.getElementById(canvasId); // Clear the canvas\n\n    /* eslint-disable no-self-assign */\n\n    cv.width = cv.width;\n    /* eslint-enable no-self-assign */\n\n    ctx = cv.getContext(\"2d\");\n\n    if (w !== undefined && h !== undefined) {\n      cv.style.width = parseFloat(w) + \"px\";\n      cv.style.height = parseFloat(h) + \"px\"; // Scale twice the CSS size to make the image crisp\n      // cv.setAttribute('width', 2 * parseFloat(wOrg));\n      // cv.setAttribute('height', 2 * parseFloat(hOrg));\n      // ctx.scale(2 * wOrg / w, 2 * hOrg / h);\n\n      cv.setAttribute(\"width\", parseFloat(w));\n      cv.setAttribute(\"height\", parseFloat(h));\n    } // Display the SVG string as data-uri in an HTML img.\n\n\n    tmpImg = new Image();\n    svg = this.dumpToDataURI(ignoreTexts);\n    tmpImg.src = svg; // Finally, draw the HTML img in the canvas.\n\n    if (!(\"Promise\" in window)) {\n      tmpImg.onload = function () {\n        // IE needs a pause...\n        // Seems to be broken\n        window.setTimeout(function () {\n          try {\n            ctx.drawImage(tmpImg, 0, 0, w, h);\n          } catch (err) {\n            console.log(\"screenshots not longer supported on IE\");\n          }\n        }, 200);\n      };\n\n      return this;\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        tmpImg.onload = function () {\n          ctx.drawImage(tmpImg, 0, 0, w, h);\n          resolve();\n        };\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n\n  /**\n   * Display SVG image in html img-tag which enables\n   * easy download for the user.\n   *\n   * Support:\n   * <ul>\n   * <li> IE: No\n   * <li> Edge: full\n   * <li>Firefox: full\n   * <li> Chrome: full\n   * <li> Safari: full (No text support in versions prior to 12).\n   * </ul>\n   *\n   * @param {JXG.Board} board Link to the board.\n   * @param {String} imgId Optional id of an img object. If given and different from the empty string,\n   * the screenshot is copied to this img object. The width and height will be set to the values of the\n   * JSXGraph container.\n   * @param {Boolean} ignoreTexts If set to true, the foreignObject is taken out of the\n   *  SVGRoot and texts are not displayed. This is mandatory for Safari. Default: false\n   * @return {Object}       the svg renderer object\n   */\n  screenshot: function (board, imgId, ignoreTexts) {\n    var node,\n        doc = this.container.ownerDocument,\n        parent = this.container.parentNode,\n        cPos,\n        canvas,\n        id,\n        img,\n        button,\n        buttonText,\n        w,\n        h,\n        bas = board.attr.screenshot,\n        zbar,\n        zbarDisplay,\n        cssTxt,\n        newImg = false,\n        _copyCanvasToImg,\n        isDebug = false;\n\n    if (this.type === \"no\") {\n      return this;\n    }\n\n    w = bas.scale * this.container.getBoundingClientRect().width;\n    h = bas.scale * this.container.getBoundingClientRect().height;\n\n    if (imgId === undefined || imgId === \"\") {\n      newImg = true;\n      img = new Image(); //doc.createElement('img');\n\n      img.style.width = w + \"px\";\n      img.style.height = h + \"px\";\n    } else {\n      newImg = false;\n      img = doc.getElementById(imgId);\n    } // img.crossOrigin = 'anonymous';\n    // Create div which contains canvas element and close button\n\n\n    if (newImg) {\n      node = doc.createElement(\"div\");\n      node.style.cssText = bas.css;\n      node.style.width = w + \"px\";\n      node.style.height = h + \"px\";\n      node.style.zIndex = this.container.style.zIndex + 120; // Try to position the div exactly over the JSXGraph board\n\n      node.style.position = \"absolute\";\n      node.style.top = this.container.offsetTop + \"px\";\n      node.style.left = this.container.offsetLeft + \"px\";\n    }\n\n    if (!isDebug) {\n      // Create canvas element and add it to the DOM\n      // It will be removed after the image has been stored.\n      canvas = doc.createElement(\"canvas\");\n      id = Math.random().toString(36).substr(2, 5);\n      canvas.setAttribute(\"id\", id);\n      canvas.setAttribute(\"width\", w);\n      canvas.setAttribute(\"height\", h);\n      canvas.style.width = w + \"px\";\n      canvas.style.height = w + \"px\";\n      canvas.style.display = \"none\";\n      parent.appendChild(canvas);\n    } else {\n      // Debug: use canvas element 'jxgbox_canvas' from jsxdev/dump.html\n      id = \"jxgbox_canvas\"; // canvas = document.getElementById(id);\n\n      canvas = doc.getElementById(id);\n    }\n\n    if (newImg) {\n      // Create close button\n      button = doc.createElement(\"span\");\n      buttonText = doc.createTextNode(\"\\u2716\");\n      button.style.cssText = bas.cssButton;\n      button.appendChild(buttonText);\n\n      button.onclick = function () {\n        node.parentNode.removeChild(node);\n      }; // Add all nodes\n\n\n      node.appendChild(img);\n      node.appendChild(button);\n      parent.insertBefore(node, this.container.nextSibling);\n    } // Hide navigation bar in board\n    // zbar = document.getElementById(this.container.id + '_navigationbar');\n\n\n    zbar = doc.getElementById(this.container.id + \"_navigationbar\");\n\n    if (_type.default.exists(zbar)) {\n      zbarDisplay = zbar.style.display;\n      zbar.style.display = \"none\";\n    }\n\n    _copyCanvasToImg = function () {\n      // Show image in img tag\n      img.src = canvas.toDataURL(\"image/png\"); // Remove canvas node\n\n      if (!isDebug) {\n        parent.removeChild(canvas);\n      }\n    }; // Create screenshot in image element\n\n\n    if (\"Promise\" in window) {\n      this.dumpToCanvas(id, w, h, ignoreTexts).then(_copyCanvasToImg);\n    } else {\n      // IE\n      this.dumpToCanvas(id, w, h, ignoreTexts);\n      window.setTimeout(_copyCanvasToImg, 200);\n    } // Show navigation bar in board\n\n\n    if (_type.default.exists(zbar)) {\n      zbar.style.display = zbarDisplay;\n    }\n\n    return this;\n  }\n});\n\nvar _default = _jxg.default.SVGRenderer;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_jxg","_options","_abstract","_constants","_type","_color","_base","_numerics","SVGRenderer","_jxg.default.SVGRenderer","container","dim","type","isIE","navigator","appVersion","indexOf","userAgent","match","svgRoot","svgNamespace","xlinkNamespace","style","MozUserSelect","userSelect","overflow","position","ownerDocument","createElementNS","display","resize","width","height","appendChild","defs","filter","setAttributeNS","id","feOffset","feGaussianBlur","feBlend","layer","i","numlayers","supportsForeignObject","document","implementation","hasFeature","foreignObjLayer","setAttribute","dashArray","prototype","extend","_createArrowHead","el","idAppendix","exists","node2","createPrim","evaluate","visProp","strokecolor","strokeopacity","node3","h","v","elementClass","OBJECT_CLASS_LINE","_setArrowColor","node","color","opacity","isString","_setAttribute","visPropOld","fillcolor","rendNode","parentNode","insertBefore","_setArrowWidth","size","d","updateTicks","ticks","tickStr","len","length","isReal","c","x","y","len2","str","isNumber","j","appendChildPrim","strokewidth","updatePathPrim","board","displayCopyright","fontsize","t","createTextNode","drawInternalText","whiteSpace","rendNodeText","updateInternalText","content","plaintext","ev_ax","getAnchorX","ev_ay","getAnchorY","getAttributeNS","cssclass","needsSizeUpdate","isNaN","coords","scrCoords","left","top","vOffsetText","htmlStr","data","transformImage","transformations","updateInternalTextStyle","strokeColor","strokeOpacity","duration","setObjectFillColor","drawImage","updateImage","m","joinTransforms","s","join","updateImageURL","url","_src","imgIsLoaded","updateImageStyle","doHighlight","css","highlightcssclass","drawForeignObject","appendNodesToElement","updateForeignObject","_useUserSize","updateRectPrim","innerHTML","_updateVisual","stroke","dash","level","remove","shape","removeChild","setLayer","makeArrows","a","ev_fa","evFirst","ev_la","evLast","firstarrow","lastarrow","visPropCalc","visible","rendNodeTriangleStart","typeFirst","rendNodeTriangleEnd","typeLast","updateEllipsePrim","rx","ry","huge","Math","abs","updateLinePrim","p1x","p1y","p2x","p2y","pointString","updatePathStringPoint","scr","sqrt32","sqrt","s05","updatePathStringPrim","nextSymb","symbm","pStr","numberPoints","min","points","bezierDegree","max","maxSize","symbl","symbc","updatePathStringBezierPrim","f","isNoPlot","curvetype","options","curve","RDPsmoothing","RamerDouglasPeucker","k","lx","random","ly","updatePolygonPrim","vertices","elType","w","setPropertyPrim","key","val","visibility","show","deprecated","hide","setBuffering","setDashStyle","dashStyle","hasAttributeNS","removeAttributeNS","setGradient","fillNode","ev_g","gradient","gradNode1","gradNode2","gradNode","updateGradientAngle","radians","co","cos","si","sin","updateGradientCircle","cx","cy","r","fx","fy","fr","updateGradient","op","fillopacity","col","gradientsecondcolor","gradientsecondopacity","gradientstartoffset","gradientendoffset","gradientangle","gradientcx","gradientcy","gradientr","gradientfx","gradientfy","gradientfr","setObjectTransition","nodes","undefined","transitionduration","transitionStr","OBJECT_CLASS_TEXT","transition","setFunc","testAttribute","window","setTimeout","rgba","o","grad","oo","rgbo","rgba2rgbo","OBJECT_TYPE_IMAGE","setObjectStrokeColor","OBJECT_CLASS_CURVE","setObjectStrokeWidth","setLineCap","capStyle","linecap","setShadow","ev_s","shadow","suspendRedraw","unsuspendRedraw","parseFloat","createTouchpoints","n","touchpoints","na1","push","na2","showTouchpoint","hideTouchpoint","updateTouchpoint","pos","_getValuesOfDOMElements","values","nodeType","firstChild","concat","nextSibling","_getDataUri","callback","image","Image","onload","image.onload","canvas","createElement","naturalWidth","naturalHeight","getContext","toDataURL","src","_getImgDataURL","images","getElementsByTagName","ctx","getAttribute","ur","err","console","log","dumpToDataURI","ignoreTexts","btoa","encode","hasChildNodes","svg","serializeToString","XMLSerializer","replace","unescape","encodeURIComponent","dumpToCanvas","canvasId","cv","getElementById","tmpImg","Promise","resolve","reject","tmpImg.onload","e","screenshot","imgId","doc","parent","bas","attr","newImg","scale","getBoundingClientRect","img","cssText","zIndex","offsetTop","offsetLeft","toString","substr","button","buttonText","cssButton","onclick","button.onclick","zbar","zbarDisplay","_copyCanvasToImg","then"]
}

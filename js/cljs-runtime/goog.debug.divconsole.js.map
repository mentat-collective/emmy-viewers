{
"version":3,
"file":"goog.debug.divconsole.js",
"lineCount":68,
"mappings":"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",
"sources":["goog/debug/divconsole.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Simple logger that logs a Div Element.\n */\n\ngoog.provide('goog.debug.DivConsole');\n\ngoog.require('goog.debug.HtmlFormatter');\ngoog.require('goog.dom.DomHelper');\ngoog.require('goog.dom.TagName');\ngoog.require('goog.dom.safe');\ngoog.require('goog.html.SafeHtml');\ngoog.require('goog.html.SafeStyleSheet');\ngoog.require('goog.log');\ngoog.require('goog.string.Const');\ngoog.require('goog.style');\ngoog.requireType('goog.debug.Formatter');\ngoog.requireType('goog.log.LogRecord');\n\n\n/**\n * A class for visualising logger calls in a div element.\n * @param {Element} element The element to append to.\n * @constructor\n */\ngoog.debug.DivConsole = function(element) {\n  'use strict';\n  this.publishHandler_ = goog.bind(this.addLogRecord, this);\n  this.formatter_ = new goog.debug.HtmlFormatter();\n  this.formatter_.showAbsoluteTime = false;\n  this.isCapturing_ = false;\n  this.element_ = element;\n  this.elementOwnerDocument_ =\n      this.element_.ownerDocument || this.element_.document;\n  this.domHelper_ = new goog.dom.DomHelper(this.elementOwnerDocument_);\n\n  this.installStyles();\n};\n\n\n/**\n * Installs styles for the log messages and its div\n */\ngoog.debug.DivConsole.prototype.installStyles = function() {\n  'use strict';\n  goog.style.installSafeStyleSheet(\n      goog.html.SafeStyleSheet.fromConstant(goog.string.Const.from(\n          '.dbg-sev{color:#F00}' +\n          '.dbg-w{color:#C40}' +\n          '.dbg-sh{font-weight:bold;color:#000}' +\n          '.dbg-i{color:#444}' +\n          '.dbg-f{color:#999}' +\n          '.dbg-ev{color:#0A0}' +\n          '.dbg-m{color:#990}' +\n          '.logmsg{border-bottom:1px solid #CCC;padding:2px}' +\n          '.logsep{background-color: #8C8;}' +\n          '.logdiv{border:1px solid #CCC;background-color:#FCFCFC;' +\n          'font:medium monospace}')),\n      this.element_);\n  this.element_.className += ' logdiv';\n};\n\n\n/**\n * Sets whether we are currently capturing logger output.\n * @param {boolean} capturing Whether to capture logger output.\n */\ngoog.debug.DivConsole.prototype.setCapturing = function(capturing) {\n  'use strict';\n  if (capturing == this.isCapturing_) {\n    return;\n  }\n\n  // attach or detach handler from the root logger\n  var rootLogger = goog.log.getRootLogger();\n  if (capturing) {\n    goog.log.addHandler(rootLogger, this.publishHandler_);\n  } else {\n    goog.log.removeHandler(rootLogger, this.publishHandler_);\n  }\n  this.isCapturing_ = capturing;\n};\n\n\n/**\n * Adds a log record.\n * @param {?goog.log.LogRecord} logRecord The log entry.\n */\ngoog.debug.DivConsole.prototype.addLogRecord = function(logRecord) {\n  'use strict';\n  if (!logRecord) {\n    return;\n  }\n  var scroll = this.element_.scrollHeight - this.element_.scrollTop -\n          this.element_.clientHeight <=\n      100;\n\n  var div = this.domHelper_.createElement(goog.dom.TagName.DIV);\n  div.className = 'logmsg';\n  goog.dom.safe.setInnerHtml(\n      div, this.formatter_.formatRecordAsHtml(logRecord));\n  this.element_.appendChild(div);\n\n  if (scroll) {\n    this.element_.scrollTop = this.element_.scrollHeight;\n  }\n};\n\n\n/**\n * Gets the formatter for outputting to the console. The default formatter\n * is an instance of goog.debug.HtmlFormatter\n * @return {!goog.debug.Formatter} The formatter in use.\n */\ngoog.debug.DivConsole.prototype.getFormatter = function() {\n  'use strict';\n  return this.formatter_;\n};\n\n\n/**\n * Sets the formatter for outputting to the console.\n * @param {goog.debug.HtmlFormatter} formatter The formatter to use.\n */\ngoog.debug.DivConsole.prototype.setFormatter = function(formatter) {\n  'use strict';\n  this.formatter_ = formatter;\n};\n\n\n/**\n * Adds a separator to the debug window.\n */\ngoog.debug.DivConsole.prototype.addSeparator = function() {\n  'use strict';\n  var div = this.domHelper_.createElement(goog.dom.TagName.DIV);\n  div.className = 'logmsg logsep';\n  this.element_.appendChild(div);\n};\n\n\n/**\n * Clears the console.\n */\ngoog.debug.DivConsole.prototype.clear = function() {\n  'use strict';\n  if (this.element_) {\n    goog.dom.safe.setInnerHtml(this.element_, goog.html.SafeHtml.EMPTY);\n  }\n};\n"],
"names":["goog","provide","require","requireType","debug","DivConsole","goog.debug.DivConsole","element","publishHandler_","bind","addLogRecord","formatter_","HtmlFormatter","showAbsoluteTime","isCapturing_","element_","elementOwnerDocument_","ownerDocument","document","domHelper_","dom","DomHelper","installStyles","prototype","goog.debug.DivConsole.prototype.installStyles","style","installSafeStyleSheet","html","SafeStyleSheet","fromConstant","string","Const","from","className","setCapturing","goog.debug.DivConsole.prototype.setCapturing","capturing","rootLogger","log","getRootLogger","addHandler","removeHandler","goog.debug.DivConsole.prototype.addLogRecord","logRecord","scroll","scrollHeight","scrollTop","clientHeight","div","createElement","TagName","DIV","safe","setInnerHtml","formatRecordAsHtml","appendChild","getFormatter","goog.debug.DivConsole.prototype.getFormatter","setFormatter","goog.debug.DivConsole.prototype.setFormatter","formatter","addSeparator","goog.debug.DivConsole.prototype.addSeparator","clear","goog.debug.DivConsole.prototype.clear","SafeHtml","EMPTY"]
}

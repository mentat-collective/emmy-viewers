{:deps {:aliases [:dev :nextjournal/clerk]}
 ;; This port has to match the port in `user.clj`.
 :dev-http {9000 "public"}
 :builds
 {:clerk
  {:target :esm
   :runtime :browser
   :output-dir "public/js"
   :build-options
   {:ns-aliases
    {nextjournal.devcards nextjournal.devcards-noop}}

   :compiler-options
   {:infer-externs :auto
    :optimizations :advanced}
   :modules {:main
             {:entries
              [nextjournal.clerk.static-app
               demo.viewers]}}
   :js-options
   {:output-feature-set :es8}}}}
